import{r as st,s as he,c as qe,e as Se,f as Ce,h as F,k as v,w as y,W as we,m as Q,R as Oe,u as Qe,g as je,b as Je,X as Jn,q as te,d as pe,t as Ve,l as ve,j as Re,p as bt,Y as Ae,Z as Me,_ as ot,$ as Ue,i as Fe,a0 as G,x as le,a1 as U,B as Ie,a2 as q,a3 as kn,y as On,a4 as xn,S as Gt,z as ht,a5 as ml,a6 as yi,D as $n,a7 as ze,o as B,n as be,a8 as Ft,v as yl,I as _l,a9 as oa,aa as ra,ab as la,a as Io,ac as ei,U as wl,ad as No,T as sa,ae as aa,C as ua,A as _n}from"./scheduler.DPgjqrYG.js";import{a as X,t as H,S as fe,i as ce,c as ne,d as se,m as ie,e as oe,g as Le,f as Te,b as wn}from"./index.C_aA0q2r.js";import{w as de,r as at,d as en}from"./index.yL0Kxjci.js";const fa=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function lt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function _i(t,e){X(t,1,1,()=>{e.delete(t.key)})}function wi(t,e,n,i,o,r,s,l,a,u,f,d){let c=t.length,h=r.length,_=c;const m={};for(;_--;)m[t[_].key]=_;const w=[],g=new Map,E=new Map,b=[];for(_=h;_--;){const P=d(o,r,_),z=n(P);let I=s.get(z);I?b.push(()=>I.p(P,e)):(I=u(z,P),I.c()),g.set(z,w[_]=I),z in m&&E.set(z,Math.abs(_-m[z]))}const S=new Set,C=new Set;function O(P){H(P,1),P.m(l,f),s.set(P.key,P),f=P.first,h--}for(;c&&h;){const P=w[h-1],z=t[c-1],I=P.key,R=z.key;P===z?(f=P.first,c--,h--):g.has(R)?!s.has(I)||S.has(I)?O(P):C.has(R)?c--:E.get(I)>E.get(R)?(C.add(I),O(P)):(S.add(R),c--):(a(z,s),c--)}for(;c--;){const P=t[c];g.has(P.key)||a(P,s)}for(;h;)O(w[h-1]);return st(b),w}function gt(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const s=t[r],l=e[r];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)o[a]||(n[a]=l[a],o[a]=1);t[r]=l}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function Xt(t){return typeof t=="object"&&t!==null?t:{}}function ca(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(o),e&&(i.href=e),o.href=t,o.href}const da=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Mt(t){const e=[];for(let n=0,i=t.length;n<i;n++)e.push(t[n]);return e}function ti(t,e){const i=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return i?parseFloat(i.replace("px","")):0}function ha(t){const e=ti(t,"border-left-width"),n=ti(t,"border-right-width");return t.clientWidth+e+n}function ga(t){const e=ti(t,"border-top-width"),n=ti(t,"border-bottom-width");return t.clientHeight+e+n}function bl(t,e={}){const n=e.width||ha(t),i=e.height||ga(t);return{width:n,height:i}}function ma(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const nt=16384;function ya(t){(t.width>nt||t.height>nt)&&(t.width>nt&&t.height>nt?t.width>t.height?(t.height*=nt/t.width,t.width=nt):(t.width*=nt/t.height,t.height=nt):t.width>nt?(t.height*=nt/t.width,t.width=nt):(t.width*=nt/t.height,t.height=nt))}function ni(t){return new Promise((e,n)=>{const i=new Image;i.decode=()=>e(i),i.onload=()=>e(i),i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=t})}async function _a(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function wa(t,e,n){const i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),r=document.createElementNS(i,"foreignObject");return o.setAttribute("width",`${e}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${e} ${n}`),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("externalResourcesRequired","true"),o.appendChild(r),r.appendChild(t),_a(o)}const tt=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||tt(n,e)};function ba(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function ka(t){return Mt(t).map(e=>{const n=t.getPropertyValue(e),i=t.getPropertyPriority(e);return`${e}: ${n}${i?" !important":""};`}).join(" ")}function pa(t,e,n){const i=`.${t}:${e}`,o=n.cssText?ba(n):ka(n);return document.createTextNode(`${i}{${o}}`)}function Do(t,e,n){const i=window.getComputedStyle(t,n),o=i.getPropertyValue("content");if(o===""||o==="none")return;const r=da();try{e.className=`${e.className} ${r}`}catch{return}const s=document.createElement("style");s.appendChild(pa(r,n,i)),e.appendChild(s)}function va(t,e){Do(t,e,":before"),Do(t,e,":after")}const Lo="application/font-woff",To="image/jpeg",Ea={woff:Lo,woff2:Lo,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:To,jpeg:To,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Sa(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function ao(t){const e=Sa(t).toLowerCase();return Ea[e]||""}function Ca(t){return t.split(/,/)[1]}function qi(t){return t.search(/^(data:)/)!==-1}function Pa(t,e){return`data:${e};base64,${t}`}async function kl(t,e,n){const i=await fetch(t,e);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const o=await i.blob();return new Promise((r,s)=>{const l=new FileReader;l.onerror=s,l.onloadend=()=>{try{r(n({res:i,result:l.result}))}catch(a){s(a)}},l.readAsDataURL(o)})}const Ti={};function Ma(t,e,n){let i=t.replace(/\?.*/,"");return n&&(i=t),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),e?`[${e}]${i}`:i}async function uo(t,e,n){const i=Ma(t,e,n.includeQueryParams);if(Ti[i]!=null)return Ti[i];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let o;try{const r=await kl(t,n.fetchRequestInit,({res:s,result:l})=>(e||(e=s.headers.get("Content-Type")||""),Ca(l)));o=Pa(r,e)}catch(r){o=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${t}`;r&&(s=typeof r=="string"?r:r.message),s&&console.warn(s)}return Ti[i]=o,o}async function Oa(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):ni(e)}async function za(t,e){if(t.currentSrc){const r=document.createElement("canvas"),s=r.getContext("2d");r.width=t.clientWidth,r.height=t.clientHeight,s==null||s.drawImage(t,0,0,r.width,r.height);const l=r.toDataURL();return ni(l)}const n=t.poster,i=ao(n),o=await uo(n,i,e);return ni(o)}async function Ia(t){var e;try{if(!((e=t==null?void 0:t.contentDocument)===null||e===void 0)&&e.body)return await bi(t.contentDocument.body,{},!0)}catch{}return t.cloneNode(!1)}async function Na(t,e){return tt(t,HTMLCanvasElement)?Oa(t):tt(t,HTMLVideoElement)?za(t,e):tt(t,HTMLIFrameElement)?Ia(t):t.cloneNode(!1)}const Da=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT";async function La(t,e,n){var i,o;let r=[];return Da(t)&&t.assignedNodes?r=Mt(t.assignedNodes()):tt(t,HTMLIFrameElement)&&(!((i=t.contentDocument)===null||i===void 0)&&i.body)?r=Mt(t.contentDocument.body.childNodes):r=Mt(((o=t.shadowRoot)!==null&&o!==void 0?o:t).childNodes),r.length===0||tt(t,HTMLVideoElement)||await r.reduce((s,l)=>s.then(()=>bi(l,n)).then(a=>{a&&e.appendChild(a)}),Promise.resolve()),e}function Ta(t,e){const n=e.style;if(!n)return;const i=window.getComputedStyle(t);i.cssText?(n.cssText=i.cssText,n.transformOrigin=i.transformOrigin):Mt(i).forEach(o=>{let r=i.getPropertyValue(o);o==="font-size"&&r.endsWith("px")&&(r=`${Math.floor(parseFloat(r.substring(0,r.length-2)))-.1}px`),tt(t,HTMLIFrameElement)&&o==="display"&&r==="inline"&&(r="block"),o==="d"&&e.getAttribute("d")&&(r=`path(${e.getAttribute("d")})`),n.setProperty(o,r,i.getPropertyPriority(o))})}function Aa(t,e){tt(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),tt(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function Ha(t,e){if(tt(t,HTMLSelectElement)){const n=e,i=Array.from(n.children).find(o=>t.value===o.getAttribute("value"));i&&i.setAttribute("selected","")}}function Fa(t,e){return tt(e,Element)&&(Ta(t,e),va(t,e),Aa(t,e),Ha(t,e)),e}async function Va(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const i={};for(let r=0;r<n.length;r++){const l=n[r].getAttribute("xlink:href");if(l){const a=t.querySelector(l),u=document.querySelector(l);!a&&u&&!i[l]&&(i[l]=await bi(u,e,!0))}}const o=Object.values(i);if(o.length){const r="http://www.w3.org/1999/xhtml",s=document.createElementNS(r,"svg");s.setAttribute("xmlns",r),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const l=document.createElementNS(r,"defs");s.appendChild(l);for(let a=0;a<o.length;a++)l.appendChild(o[a]);t.appendChild(s)}return t}async function bi(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(i=>Na(i,e)).then(i=>La(t,i,e)).then(i=>Fa(t,i)).then(i=>Va(i,e))}const pl=/url\((['"]?)([^'"]+?)\1\)/g,Ra=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Wa=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ba(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function Xa(t){const e=[];return t.replace(pl,(n,i,o)=>(e.push(o),n)),e.filter(n=>!qi(n))}async function Ya(t,e,n,i,o){try{const r=n?ca(e,n):e,s=ao(e);let l;return o||(l=await uo(r,s,i)),t.replace(Ba(e),`$1${l}$3`)}catch{}return t}function Ka(t,{preferredFontFormat:e}){return e?t.replace(Wa,n=>{for(;;){const[i,,o]=Ra.exec(n)||[];if(!o)return"";if(o===e)return`src: ${i};`}}):t}function vl(t){return t.search(pl)!==-1}async function El(t,e,n){if(!vl(t))return t;const i=Ka(t,n);return Xa(i).reduce((r,s)=>r.then(l=>Ya(l,s,e,n)),Promise.resolve(i))}async function Fn(t,e,n){var i;const o=(i=e.style)===null||i===void 0?void 0:i.getPropertyValue(t);if(o){const r=await El(o,null,n);return e.style.setProperty(t,r,e.style.getPropertyPriority(t)),!0}return!1}async function Za(t,e){await Fn("background",t,e)||await Fn("background-image",t,e),await Fn("mask",t,e)||await Fn("mask-image",t,e)}async function Ga(t,e){const n=tt(t,HTMLImageElement);if(!(n&&!qi(t.src))&&!(tt(t,SVGImageElement)&&!qi(t.href.baseVal)))return;const i=n?t.src:t.href.baseVal,o=await uo(i,ao(i),e);await new Promise((r,s)=>{t.onload=r,t.onerror=s;const l=t;l.decode&&(l.decode=r),l.loading==="lazy"&&(l.loading="eager"),n?(t.srcset="",t.src=o):t.href.baseVal=o})}async function Ua(t,e){const i=Mt(t.childNodes).map(o=>Sl(o,e));await Promise.all(i).then(()=>t)}async function Sl(t,e){tt(t,Element)&&(await Za(t,e),await Ga(t,e),await Ua(t,e))}function qa(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const i=e.style;return i!=null&&Object.keys(i).forEach(o=>{n[o]=i[o]}),t}const Ao={};async function Ho(t){let e=Ao[t];if(e!=null)return e;const i=await(await fetch(t)).text();return e={url:t,cssText:i},Ao[t]=e,e}async function Fo(t,e){let n=t.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,r=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let l=s.replace(i,"$1");return l.startsWith("https://")||(l=new URL(l,t.url).href),kl(l,e.fetchRequestInit,({result:a})=>(n=n.replace(s,`url(${a})`),[s,a]))});return Promise.all(r).then(()=>n)}function Vo(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=t.replace(n,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const a=o.exec(i);if(a===null)break;e.push(a[0])}i=i.replace(o,"");const r=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(s,"gi");for(;;){let a=r.exec(i);if(a===null){if(a=l.exec(i),a===null)break;r.lastIndex=l.lastIndex}else l.lastIndex=r.lastIndex;e.push(a[0])}return e}async function Qa(t,e){const n=[],i=[];return t.forEach(o=>{if("cssRules"in o)try{Mt(o.cssRules||[]).forEach((r,s)=>{if(r.type===CSSRule.IMPORT_RULE){let l=s+1;const a=r.href,u=Ho(a).then(f=>Fo(f,e)).then(f=>Vo(f).forEach(d=>{try{o.insertRule(d,d.startsWith("@import")?l+=1:o.cssRules.length)}catch(c){console.error("Error inserting rule from remote css",{rule:d,error:c})}})).catch(f=>{console.error("Error loading remote css",f.toString())});i.push(u)}})}catch(r){const s=t.find(l=>l.href==null)||document.styleSheets[0];o.href!=null&&i.push(Ho(o.href).then(l=>Fo(l,e)).then(l=>Vo(l).forEach(a=>{s.insertRule(a,o.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",r)}}),Promise.all(i).then(()=>(t.forEach(o=>{if("cssRules"in o)try{Mt(o.cssRules||[]).forEach(r=>{n.push(r)})}catch(r){console.error(`Error while reading CSS rules from ${o.href}`,r)}}),n))}function ja(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>vl(e.style.getPropertyValue("src")))}async function Ja(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Mt(t.ownerDocument.styleSheets),i=await Qa(n,e);return ja(i)}async function xa(t,e){const n=await Ja(t,e);return(await Promise.all(n.map(o=>{const r=o.parentStyleSheet?o.parentStyleSheet.href:null;return El(o.cssText,r,e)}))).join(`
`)}async function $a(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await xa(t,e);if(n){const i=document.createElement("style"),o=document.createTextNode(n);i.appendChild(o),t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)}}async function eu(t,e={}){const{width:n,height:i}=bl(t,e),o=await bi(t,e,!0);return await $a(o,e),await Sl(o,e),qa(o,e),await wa(o,n,i)}async function tu(t,e={}){const{width:n,height:i}=bl(t,e),o=await eu(t,e),r=await ni(o),s=document.createElement("canvas"),l=s.getContext("2d"),a=e.pixelRatio||ma(),u=e.canvasWidth||n,f=e.canvasHeight||i;return s.width=u*a,s.height=f*a,e.skipAutoScale||ya(s),s.style.width=`${u}`,s.style.height=`${f}`,e.backgroundColor&&(l.fillStyle=e.backgroundColor,l.fillRect(0,0,s.width,s.height)),l.drawImage(r,0,0,s.width,s.height),s}async function nu(t,e={}){return(await tu(t,e)).toDataURL()}function Ne(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Ne(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var iu={value:()=>{}};function ki(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Gn(n)}function Gn(t){this._=t}function ou(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Gn.prototype=ki.prototype={constructor:Gn,on:function(t,e){var n=this._,i=ou(t+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(t=i[r]).type)&&(o=ru(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<s;)if(o=(t=i[r]).type)n[o]=Ro(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Ro(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Gn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function ru(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Ro(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=iu,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Qi="http://www.w3.org/1999/xhtml";const Wo={svg:"http://www.w3.org/2000/svg",xhtml:Qi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pi(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Wo.hasOwnProperty(e)?{space:Wo[e],local:t}:t}function lu(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Qi&&e.documentElement.namespaceURI===Qi?e.createElement(t):e.createElementNS(n,t)}}function su(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Cl(t){var e=pi(t);return(e.local?su:lu)(e)}function au(){}function fo(t){return t==null?au:function(){return this.querySelector(t)}}function uu(t){typeof t!="function"&&(t=fo(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=new Array(s),a,u,f=0;f<s;++f)(a=r[f])&&(u=t.call(a,a.__data__,f,r))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new it(i,this._parents)}function fu(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function cu(){return[]}function Pl(t){return t==null?cu:function(){return this.querySelectorAll(t)}}function du(t){return function(){return fu(t.apply(this,arguments))}}function hu(t){typeof t=="function"?t=du(t):t=Pl(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s=e[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),o.push(a));return new it(i,o)}function Ml(t){return function(){return this.matches(t)}}function Ol(t){return function(e){return e.matches(t)}}var gu=Array.prototype.find;function mu(t){return function(){return gu.call(this.children,t)}}function yu(){return this.firstElementChild}function _u(t){return this.select(t==null?yu:mu(typeof t=="function"?t:Ol(t)))}var wu=Array.prototype.filter;function bu(){return Array.from(this.children)}function ku(t){return function(){return wu.call(this.children,t)}}function pu(t){return this.selectAll(t==null?bu:ku(typeof t=="function"?t:Ol(t)))}function vu(t){typeof t!="function"&&(t=Ml(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new it(i,this._parents)}function zl(t){return new Array(t.length)}function Eu(){return new it(this._enter||this._groups.map(zl),this._parents)}function ii(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ii.prototype={constructor:ii,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Su(t){return function(){return t}}function Cu(t,e,n,i,o,r){for(var s=0,l,a=e.length,u=r.length;s<u;++s)(l=e[s])?(l.__data__=r[s],i[s]=l):n[s]=new ii(t,r[s]);for(;s<a;++s)(l=e[s])&&(o[s]=l)}function Pu(t,e,n,i,o,r,s){var l,a,u=new Map,f=e.length,d=r.length,c=new Array(f),h;for(l=0;l<f;++l)(a=e[l])&&(c[l]=h=s.call(a,a.__data__,l,e)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<d;++l)h=s.call(t,r[l],l,r)+"",(a=u.get(h))?(i[l]=a,a.__data__=r[l],u.delete(h)):n[l]=new ii(t,r[l]);for(l=0;l<f;++l)(a=e[l])&&u.get(c[l])===a&&(o[l]=a)}function Mu(t){return t.__data__}function Ou(t,e){if(!arguments.length)return Array.from(this,Mu);var n=e?Pu:Cu,i=this._parents,o=this._groups;typeof t!="function"&&(t=Su(t));for(var r=o.length,s=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var f=i[u],d=o[u],c=d.length,h=zu(t.call(f,f&&f.__data__,u,i)),_=h.length,m=l[u]=new Array(_),w=s[u]=new Array(_),g=a[u]=new Array(c);n(f,d,m,w,g,h,e);for(var E=0,b=0,S,C;E<_;++E)if(S=m[E]){for(E>=b&&(b=E+1);!(C=w[b])&&++b<_;);S._next=C||null}}return s=new it(s,i),s._enter=l,s._exit=a,s}function zu(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Iu(){return new it(this._exit||this._groups.map(zl),this._parents)}function Nu(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Du(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,s=Math.min(o,r),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=i[a],d=u.length,c=l[a]=new Array(d),h,_=0;_<d;++_)(h=u[_]||f[_])&&(c[_]=h);for(;a<o;++a)l[a]=n[a];return new it(l,this._parents)}function Lu(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function Tu(t){t||(t=Au);function e(d,c){return d&&c?t(d.__data__,c.__data__):!d-!c}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],l=s.length,a=o[r]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(e)}return new it(o,this._parents).order()}function Au(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Hu(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Fu(){return Array.from(this)}function Vu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function Ru(){let t=0;for(const e of this)++t;return t}function Wu(){return!this.node()}function Bu(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,s=o.length,l;r<s;++r)(l=o[r])&&t.call(l,l.__data__,r,o);return this}function Xu(t){return function(){this.removeAttribute(t)}}function Yu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ku(t,e){return function(){this.setAttribute(t,e)}}function Zu(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Gu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Uu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function qu(t,e){var n=pi(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Yu:Xu:typeof e=="function"?n.local?Uu:Gu:n.local?Zu:Ku)(n,e))}function Il(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Qu(t){return function(){this.style.removeProperty(t)}}function ju(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ju(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function xu(t,e,n){return arguments.length>1?this.each((e==null?Qu:typeof e=="function"?Ju:ju)(t,e,n??"")):rn(this.node(),t)}function rn(t,e){return t.style.getPropertyValue(e)||Il(t).getComputedStyle(t,null).getPropertyValue(e)}function $u(t){return function(){delete this[t]}}function ef(t,e){return function(){this[t]=e}}function tf(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function nf(t,e){return arguments.length>1?this.each((e==null?$u:typeof e=="function"?tf:ef)(t,e)):this.node()[t]}function Nl(t){return t.trim().split(/^|\s+/)}function co(t){return t.classList||new Dl(t)}function Dl(t){this._node=t,this._names=Nl(t.getAttribute("class")||"")}Dl.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ll(t,e){for(var n=co(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function Tl(t,e){for(var n=co(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function of(t){return function(){Ll(this,t)}}function rf(t){return function(){Tl(this,t)}}function lf(t,e){return function(){(e.apply(this,arguments)?Ll:Tl)(this,t)}}function sf(t,e){var n=Nl(t+"");if(arguments.length<2){for(var i=co(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?lf:e?of:rf)(n,e))}function af(){this.textContent=""}function uf(t){return function(){this.textContent=t}}function ff(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function cf(t){return arguments.length?this.each(t==null?af:(typeof t=="function"?ff:uf)(t)):this.node().textContent}function df(){this.innerHTML=""}function hf(t){return function(){this.innerHTML=t}}function gf(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function mf(t){return arguments.length?this.each(t==null?df:(typeof t=="function"?gf:hf)(t)):this.node().innerHTML}function yf(){this.nextSibling&&this.parentNode.appendChild(this)}function _f(){return this.each(yf)}function wf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bf(){return this.each(wf)}function kf(t){var e=typeof t=="function"?t:Cl(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function pf(){return null}function vf(t,e){var n=typeof t=="function"?t:Cl(t),i=e==null?pf:typeof e=="function"?e:fo(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Ef(){var t=this.parentNode;t&&t.removeChild(this)}function Sf(){return this.each(Ef)}function Cf(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Pf(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Mf(t){return this.select(t?Pf:Cf)}function Of(t){return arguments.length?this.property("__data__",t):this.node().__data__}function zf(t){return function(e){t.call(this,e,this.__data__)}}function If(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Nf(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function Df(t,e,n){return function(){var i=this.__on,o,r=zf(e);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Lf(t,e,n){var i=If(t+""),o,r=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<r;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=e?Df:Nf,o=0;o<r;++o)this.each(l(i[o],e,n));return this}function Al(t,e,n){var i=Il(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Tf(t,e){return function(){return Al(this,t,e)}}function Af(t,e){return function(){return Al(this,t,e.apply(this,arguments))}}function Hf(t,e){return this.each((typeof e=="function"?Af:Tf)(t,e))}function*Ff(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var Hl=[null];function it(t,e){this._groups=t,this._parents=e}function zn(){return new it([[document.documentElement]],Hl)}function Vf(){return this}it.prototype=zn.prototype={constructor:it,select:uu,selectAll:hu,selectChild:_u,selectChildren:pu,filter:vu,data:Ou,enter:Eu,exit:Iu,join:Nu,merge:Du,selection:Vf,order:Lu,sort:Tu,call:Hu,nodes:Fu,node:Vu,size:Ru,empty:Wu,each:Bu,attr:qu,style:xu,property:nf,classed:sf,text:cf,html:mf,raise:_f,lower:bf,append:kf,insert:vf,remove:Sf,clone:Mf,datum:Of,on:Lf,dispatch:Hf,[Symbol.iterator]:Ff};function rt(t){return typeof t=="string"?new it([[document.querySelector(t)]],[document.documentElement]):new it([[t]],Hl)}function Rf(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ut(t,e){if(t=Rf(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Wf={passive:!1},pn={capture:!0,passive:!1};function Ai(t){t.stopImmediatePropagation()}function tn(t){t.preventDefault(),t.stopImmediatePropagation()}function Fl(t){var e=t.document.documentElement,n=rt(t).on("dragstart.drag",tn,pn);"onselectstart"in e?n.on("selectstart.drag",tn,pn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Vl(t,e){var n=t.document.documentElement,i=rt(t).on("dragstart.drag",null);e&&(i.on("click.drag",tn,pn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Vn=t=>()=>t;function ji(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:r,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}ji.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Bf(t){return!t.ctrlKey&&!t.button}function Xf(){return this.parentNode}function Yf(t,e){return e??{x:t.x,y:t.y}}function Kf(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zf(){var t=Bf,e=Xf,n=Yf,i=Kf,o={},r=ki("start","drag","end"),s=0,l,a,u,f,d=0;function c(S){S.on("mousedown.drag",h).filter(i).on("touchstart.drag",w).on("touchmove.drag",g,Wf).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(S,C){if(!(f||!t.call(this,S,C))){var O=b(this,e.call(this,S,C),S,C,"mouse");O&&(rt(S.view).on("mousemove.drag",_,pn).on("mouseup.drag",m,pn),Fl(S.view),Ai(S),u=!1,l=S.clientX,a=S.clientY,O("start",S))}}function _(S){if(tn(S),!u){var C=S.clientX-l,O=S.clientY-a;u=C*C+O*O>d}o.mouse("drag",S)}function m(S){rt(S.view).on("mousemove.drag mouseup.drag",null),Vl(S.view,u),tn(S),o.mouse("end",S)}function w(S,C){if(t.call(this,S,C)){var O=S.changedTouches,P=e.call(this,S,C),z=O.length,I,R;for(I=0;I<z;++I)(R=b(this,P,S,C,O[I].identifier,O[I]))&&(Ai(S),R("start",S,O[I]))}}function g(S){var C=S.changedTouches,O=C.length,P,z;for(P=0;P<O;++P)(z=o[C[P].identifier])&&(tn(S),z("drag",S,C[P]))}function E(S){var C=S.changedTouches,O=C.length,P,z;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),P=0;P<O;++P)(z=o[C[P].identifier])&&(Ai(S),z("end",S,C[P]))}function b(S,C,O,P,z,I){var R=r.copy(),N=ut(I||O,C),A,W,k;if((k=n.call(S,new ji("beforestart",{sourceEvent:O,target:c,identifier:z,active:s,x:N[0],y:N[1],dx:0,dy:0,dispatch:R}),P))!=null)return A=k.x-N[0]||0,W=k.y-N[1]||0,function V(p,M,L){var T=N,Z;switch(p){case"start":o[z]=V,Z=s++;break;case"end":delete o[z],--s;case"drag":N=ut(L||M,C),Z=s;break}R.call(p,S,new ji(p,{sourceEvent:M,subject:k,target:c,identifier:z,active:Z,x:N[0]+A,y:N[1]+W,dx:N[0]-T[0],dy:N[1]-T[1],dispatch:R}),P)}}return c.filter=function(S){return arguments.length?(t=typeof S=="function"?S:Vn(!!S),c):t},c.container=function(S){return arguments.length?(e=typeof S=="function"?S:Vn(S),c):e},c.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Vn(S),c):n},c.touchable=function(S){return arguments.length?(i=typeof S=="function"?S:Vn(!!S),c):i},c.on=function(){var S=r.on.apply(r,arguments);return S===r?c:S},c.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,c):Math.sqrt(d)},c}function ho(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Rl(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function In(){}var vn=.7,oi=1/vn,nn="\\s*([+-]?\\d+)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gf=/^#([0-9a-f]{3,8})$/,Uf=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),qf=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),Qf=new RegExp(`^rgba\\(${nn},${nn},${nn},${En}\\)$`),jf=new RegExp(`^rgba\\(${_t},${_t},${_t},${En}\\)$`),Jf=new RegExp(`^hsl\\(${En},${_t},${_t}\\)$`),xf=new RegExp(`^hsla\\(${En},${_t},${_t},${En}\\)$`),Bo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ho(In,Sn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xo,formatHex:Xo,formatHex8:$f,formatHsl:ec,formatRgb:Yo,toString:Yo});function Xo(){return this.rgb().formatHex()}function $f(){return this.rgb().formatHex8()}function ec(){return Wl(this).formatHsl()}function Yo(){return this.rgb().formatRgb()}function Sn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Gf.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ko(e):n===3?new et(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Rn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Rn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Uf.exec(t))?new et(e[1],e[2],e[3],1):(e=qf.exec(t))?new et(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Qf.exec(t))?Rn(e[1],e[2],e[3],e[4]):(e=jf.exec(t))?Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Jf.exec(t))?Uo(e[1],e[2]/100,e[3]/100,1):(e=xf.exec(t))?Uo(e[1],e[2]/100,e[3]/100,e[4]):Bo.hasOwnProperty(t)?Ko(Bo[t]):t==="transparent"?new et(NaN,NaN,NaN,0):null}function Ko(t){return new et(t>>16&255,t>>8&255,t&255,1)}function Rn(t,e,n,i){return i<=0&&(t=e=n=NaN),new et(t,e,n,i)}function tc(t){return t instanceof In||(t=Sn(t)),t?(t=t.rgb(),new et(t.r,t.g,t.b,t.opacity)):new et}function Ji(t,e,n,i){return arguments.length===1?tc(t):new et(t,e,n,i??1)}function et(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}ho(et,Ji,Rl(In,{brighter(t){return t=t==null?oi:Math.pow(oi,t),new et(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vn:Math.pow(vn,t),new et(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new et(Bt(this.r),Bt(this.g),Bt(this.b),ri(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zo,formatHex:Zo,formatHex8:nc,formatRgb:Go,toString:Go}));function Zo(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}`}function nc(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}${Wt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Go(){const t=ri(this.opacity);return`${t===1?"rgb(":"rgba("}${Bt(this.r)}, ${Bt(this.g)}, ${Bt(this.b)}${t===1?")":`, ${t})`}`}function ri(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wt(t){return t=Bt(t),(t<16?"0":"")+t.toString(16)}function Uo(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ct(t,e,n,i)}function Wl(t){if(t instanceof ct)return new ct(t.h,t.s,t.l,t.opacity);if(t instanceof In||(t=Sn(t)),!t)return new ct;if(t instanceof ct)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),s=NaN,l=r-o,a=(r+o)/2;return l?(e===r?s=(n-i)/l+(n<i)*6:n===r?s=(i-e)/l+2:s=(e-n)/l+4,l/=a<.5?r+o:2-r-o,s*=60):l=a>0&&a<1?0:s,new ct(s,l,a,t.opacity)}function ic(t,e,n,i){return arguments.length===1?Wl(t):new ct(t,e,n,i??1)}function ct(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}ho(ct,ic,Rl(In,{brighter(t){return t=t==null?oi:Math.pow(oi,t),new ct(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vn:Math.pow(vn,t),new ct(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new et(Hi(t>=240?t-240:t+120,o,i),Hi(t,o,i),Hi(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new ct(qo(this.h),Wn(this.s),Wn(this.l),ri(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ri(this.opacity);return`${t===1?"hsl(":"hsla("}${qo(this.h)}, ${Wn(this.s)*100}%, ${Wn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qo(t){return t=(t||0)%360,t<0?t+360:t}function Wn(t){return Math.max(0,Math.min(1,t||0))}function Hi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Bl=t=>()=>t;function oc(t,e){return function(n){return t+n*e}}function rc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function lc(t){return(t=+t)==1?Xl:function(e,n){return n-e?rc(e,n,t):Bl(isNaN(e)?n:e)}}function Xl(t,e){var n=e-t;return n?oc(t,n):Bl(isNaN(t)?e:t)}const Qo=function t(e){var n=lc(e);function i(o,r){var s=n((o=Ji(o)).r,(r=Ji(r)).r),l=n(o.g,r.g),a=n(o.b,r.b),u=Xl(o.opacity,r.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function At(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var xi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fi=new RegExp(xi.source,"g");function sc(t){return function(){return t}}function ac(t){return function(e){return t(e)+""}}function uc(t,e){var n=xi.lastIndex=Fi.lastIndex=0,i,o,r,s=-1,l=[],a=[];for(t=t+"",e=e+"";(i=xi.exec(t))&&(o=Fi.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:At(i,o)})),n=Fi.lastIndex;return n<e.length&&(r=e.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?a[0]?ac(a[0].x):sc(e):(e=a.length,function(u){for(var f=0,d;f<e;++f)l[(d=a[f]).i]=d.x(u);return l.join("")})}var jo=180/Math.PI,$i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yl(t,e,n,i,o,r){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),t*i<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*jo,skewX:Math.atan(a)*jo,scaleX:s,scaleY:l}}var Bn;function fc(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?$i:Yl(e.a,e.b,e.c,e.d,e.e,e.f)}function cc(t){return t==null||(Bn||(Bn=document.createElementNS("http://www.w3.org/2000/svg","g")),Bn.setAttribute("transform",t),!(t=Bn.transform.baseVal.consolidate()))?$i:(t=t.matrix,Yl(t.a,t.b,t.c,t.d,t.e,t.f))}function Kl(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,d,c,h,_){if(u!==d||f!==c){var m=h.push("translate(",null,e,null,n);_.push({i:m-4,x:At(u,d)},{i:m-2,x:At(f,c)})}else(d||c)&&h.push("translate("+d+e+c+n)}function s(u,f,d,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:d.push(o(d)+"rotate(",null,i)-2,x:At(u,f)})):f&&d.push(o(d)+"rotate("+f+i)}function l(u,f,d,c){u!==f?c.push({i:d.push(o(d)+"skewX(",null,i)-2,x:At(u,f)}):f&&d.push(o(d)+"skewX("+f+i)}function a(u,f,d,c,h,_){if(u!==d||f!==c){var m=h.push(o(h)+"scale(",null,",",null,")");_.push({i:m-4,x:At(u,d)},{i:m-2,x:At(f,c)})}else(d!==1||c!==1)&&h.push(o(h)+"scale("+d+","+c+")")}return function(u,f){var d=[],c=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,d,c),s(u.rotate,f.rotate,d,c),l(u.skewX,f.skewX,d,c),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,c),u=f=null,function(h){for(var _=-1,m=c.length,w;++_<m;)d[(w=c[_]).i]=w.x(h);return d.join("")}}}var dc=Kl(fc,"px, ","px)","deg)"),hc=Kl(cc,", ",")",")"),gc=1e-12;function Jo(t){return((t=Math.exp(t))+1/t)/2}function mc(t){return((t=Math.exp(t))-1/t)/2}function yc(t){return((t=Math.exp(2*t))-1)/(t+1)}const _c=function t(e,n,i){function o(r,s){var l=r[0],a=r[1],u=r[2],f=s[0],d=s[1],c=s[2],h=f-l,_=d-a,m=h*h+_*_,w,g;if(m<gc)g=Math.log(c/u)/e,w=function(P){return[l+P*h,a+P*_,u*Math.exp(e*P*g)]};else{var E=Math.sqrt(m),b=(c*c-u*u+i*m)/(2*u*n*E),S=(c*c-u*u-i*m)/(2*c*n*E),C=Math.log(Math.sqrt(b*b+1)-b),O=Math.log(Math.sqrt(S*S+1)-S);g=(O-C)/e,w=function(P){var z=P*g,I=Jo(C),R=u/(n*E)*(I*yc(e*z+C)-mc(C));return[l+R*h,a+R*_,u*I/Jo(e*z+C)]}}return w.duration=g*1e3*e/Math.SQRT2,w}return o.rho=function(r){var s=Math.max(.001,+r),l=s*s,a=l*l;return t(s,l,a)},o}(Math.SQRT2,2,4);var ln=0,mn=0,dn=0,Zl=1e3,li,yn,si=0,Yt=0,vi=0,Cn=typeof performance=="object"&&performance.now?performance:Date,Gl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function go(){return Yt||(Gl(wc),Yt=Cn.now()+vi)}function wc(){Yt=0}function ai(){this._call=this._time=this._next=null}ai.prototype=Ul.prototype={constructor:ai,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?go():+n)+(e==null?0:+e),!this._next&&yn!==this&&(yn?yn._next=this:li=this,yn=this),this._call=t,this._time=n,eo()},stop:function(){this._call&&(this._call=null,this._time=1/0,eo())}};function Ul(t,e,n){var i=new ai;return i.restart(t,e,n),i}function bc(){go(),++ln;for(var t=li,e;t;)(e=Yt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ln}function xo(){Yt=(si=Cn.now())+vi,ln=mn=0;try{bc()}finally{ln=0,pc(),Yt=0}}function kc(){var t=Cn.now(),e=t-si;e>Zl&&(vi-=e,si=t)}function pc(){for(var t,e=li,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:li=n);yn=t,eo(i)}function eo(t){if(!ln){mn&&(mn=clearTimeout(mn));var e=t-Yt;e>24?(t<1/0&&(mn=setTimeout(xo,t-Cn.now()-vi)),dn&&(dn=clearInterval(dn))):(dn||(si=Cn.now(),dn=setInterval(kc,Zl)),ln=1,Gl(xo))}}function $o(t,e,n){var i=new ai;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var vc=ki("start","end","cancel","interrupt"),Ec=[],ql=0,er=1,to=2,Un=3,tr=4,no=5,qn=6;function Ei(t,e,n,i,o,r){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Sc(t,n,{name:e,index:i,group:o,on:vc,tween:Ec,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:ql})}function mo(t,e){var n=mt(t,e);if(n.state>ql)throw new Error("too late; already scheduled");return n}function kt(t,e){var n=mt(t,e);if(n.state>Un)throw new Error("too late; already running");return n}function mt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Sc(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Ul(r,0,n.time);function r(u){n.state=er,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,d,c,h;if(n.state!==er)return a();for(f in i)if(h=i[f],h.name===n.name){if(h.state===Un)return $o(s);h.state===tr?(h.state=qn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=qn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if($o(function(){n.state===Un&&(n.state=tr,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=to,n.on.call("start",t,t.__data__,n.index,n.group),n.state===to){for(n.state=Un,o=new Array(c=n.tween.length),f=0,d=-1;f<c;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=no,1),d=-1,c=o.length;++d<c;)o[d].call(t,f);n.state===no&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=qn,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function Qn(t,e){var n=t.__transition,i,o,r=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){r=!1;continue}o=i.state>to&&i.state<no,i.state=qn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}r&&delete t.__transition}}function Cc(t){return this.each(function(){Qn(this,t)})}function Pc(t,e){var n,i;return function(){var o=kt(this,t),r=o.tween;if(r!==n){i=n=r;for(var s=0,l=i.length;s<l;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Mc(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=kt(this,t),s=r.tween;if(s!==i){o=(i=s).slice();for(var l={name:e,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===e){o[a]=l;break}a===u&&o.push(l)}r.tween=o}}function Oc(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=mt(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((e==null?Pc:Mc)(n,t,e))}function yo(t,e,n){var i=t._id;return t.each(function(){var o=kt(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return mt(o,i).value[e]}}function Ql(t,e){var n;return(typeof e=="number"?At:e instanceof Sn?Qo:(n=Sn(e))?(e=n,Qo):uc)(t,e)}function zc(t){return function(){this.removeAttribute(t)}}function Ic(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nc(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function Dc(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function Lc(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function Tc(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function Ac(t,e){var n=pi(t),i=n==="transform"?hc:Ql;return this.attrTween(t,typeof e=="function"?(n.local?Tc:Lc)(n,i,yo(this,"attr."+t,e)):e==null?(n.local?Ic:zc)(n):(n.local?Dc:Nc)(n,i,e))}function Hc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Fc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Vc(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Fc(t,r)),n}return o._value=e,o}function Rc(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Hc(t,r)),n}return o._value=e,o}function Wc(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=pi(t);return this.tween(n,(i.local?Vc:Rc)(i,e))}function Bc(t,e){return function(){mo(this,t).delay=+e.apply(this,arguments)}}function Xc(t,e){return e=+e,function(){mo(this,t).delay=e}}function Yc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Bc:Xc)(e,t)):mt(this.node(),e).delay}function Kc(t,e){return function(){kt(this,t).duration=+e.apply(this,arguments)}}function Zc(t,e){return e=+e,function(){kt(this,t).duration=e}}function Gc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Kc:Zc)(e,t)):mt(this.node(),e).duration}function Uc(t,e){if(typeof e!="function")throw new Error;return function(){kt(this,t).ease=e}}function qc(t){var e=this._id;return arguments.length?this.each(Uc(e,t)):mt(this.node(),e).ease}function Qc(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;kt(this,t).ease=n}}function jc(t){if(typeof t!="function")throw new Error;return this.each(Qc(this._id,t))}function Jc(t){typeof t!="function"&&(t=Ml(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new zt(i,this._parents,this._name,this._id)}function xc(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),l=0;l<r;++l)for(var a=e[l],u=n[l],f=a.length,d=s[l]=new Array(f),c,h=0;h<f;++h)(c=a[h]||u[h])&&(d[h]=c);for(;l<i;++l)s[l]=e[l];return new zt(s,this._parents,this._name,this._id)}function $c(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ed(t,e,n){var i,o,r=$c(e)?mo:kt;return function(){var s=r(this,t),l=s.on;l!==i&&(o=(i=l).copy()).on(e,n),s.on=o}}function td(t,e){var n=this._id;return arguments.length<2?mt(this.node(),n).on.on(t):this.each(ed(n,t,e))}function nd(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function id(){return this.on("end.remove",nd(this._id))}function od(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fo(t));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var l=i[s],a=l.length,u=r[s]=new Array(a),f,d,c=0;c<a;++c)(f=l[c])&&(d=t.call(f,f.__data__,c,l))&&("__data__"in f&&(d.__data__=f.__data__),u[c]=d,Ei(u[c],e,n,c,u,mt(f,n)));return new zt(r,this._parents,e,n)}function rd(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Pl(t));for(var i=this._groups,o=i.length,r=[],s=[],l=0;l<o;++l)for(var a=i[l],u=a.length,f,d=0;d<u;++d)if(f=a[d]){for(var c=t.call(f,f.__data__,d,a),h,_=mt(f,n),m=0,w=c.length;m<w;++m)(h=c[m])&&Ei(h,e,n,m,c,_);r.push(c),s.push(f)}return new zt(r,s,e,n)}var ld=zn.prototype.constructor;function sd(){return new ld(this._groups,this._parents)}function ad(t,e){var n,i,o;return function(){var r=rn(this,t),s=(this.style.removeProperty(t),rn(this,t));return r===s?null:r===n&&s===i?o:o=e(n=r,i=s)}}function jl(t){return function(){this.style.removeProperty(t)}}function ud(t,e,n){var i,o=n+"",r;return function(){var s=rn(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}function fd(t,e,n){var i,o,r;return function(){var s=rn(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),rn(this,t))),s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l))}}function cd(t,e){var n,i,o,r="style."+e,s="end."+r,l;return function(){var a=kt(this,t),u=a.on,f=a.value[r]==null?l||(l=jl(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(s,o=f),a.on=i}}function dd(t,e,n){var i=(t+="")=="transform"?dc:Ql;return e==null?this.styleTween(t,ad(t,i)).on("end.style."+t,jl(t)):typeof e=="function"?this.styleTween(t,fd(t,i,yo(this,"style."+t,e))).each(cd(this._id,t)):this.styleTween(t,ud(t,i,e),n).on("end.style."+t,null)}function hd(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function gd(t,e,n){var i,o;function r(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&hd(t,s,n)),i}return r._value=e,r}function md(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,gd(t,e,n??""))}function yd(t){return function(){this.textContent=t}}function _d(t){return function(){var e=t(this);this.textContent=e??""}}function wd(t){return this.tween("text",typeof t=="function"?_d(yo(this,"text",t)):yd(t==null?"":t+""))}function bd(t){return function(e){this.textContent=t.call(this,e)}}function kd(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&bd(o)),e}return i._value=t,i}function pd(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,kd(t))}function vd(){for(var t=this._name,e=this._id,n=Jl(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=mt(a,e);Ei(a,t,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new zt(i,this._parents,t,n)}function Ed(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var l={value:s},a={value:function(){--o===0&&r()}};n.each(function(){var u=kt(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),u.on=e}),o===0&&r()})}var Sd=0;function zt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Jl(){return++Sd}var Ct=zn.prototype;zt.prototype={constructor:zt,select:od,selectAll:rd,selectChild:Ct.selectChild,selectChildren:Ct.selectChildren,filter:Jc,merge:xc,selection:sd,transition:vd,call:Ct.call,nodes:Ct.nodes,node:Ct.node,size:Ct.size,empty:Ct.empty,each:Ct.each,on:td,attr:Ac,attrTween:Wc,style:dd,styleTween:md,text:wd,textTween:pd,remove:id,tween:Oc,delay:Yc,duration:Gc,ease:qc,easeVarying:jc,end:Ed,[Symbol.iterator]:Ct[Symbol.iterator]};function Cd(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Pd={time:null,delay:0,duration:250,ease:Cd};function Md(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Od(t){var e,n;t instanceof zt?(e=t._id,t=t._name):(e=Jl(),(n=Pd).time=go(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&Ei(a,t,e,u,s,n||Md(a,e));return new zt(i,this._parents,t,e)}zn.prototype.interrupt=Cc;zn.prototype.transition=Od;const Xn=t=>()=>t;function zd(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Pt(t,e,n){this.k=t,this.x=e,this.y=n}Pt.prototype={constructor:Pt,scale:function(t){return t===1?this:new Pt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Pt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Si=new Pt(1,0,0);xl.prototype=Pt.prototype;function xl(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Si;return t.__zoom}function Vi(t){t.stopImmediatePropagation()}function hn(t){t.preventDefault(),t.stopImmediatePropagation()}function Id(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Nd(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function nr(){return this.__zoom||Si}function Dd(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ld(){return navigator.maxTouchPoints||"ontouchstart"in this}function Td(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function $l(){var t=Id,e=Nd,n=Td,i=Dd,o=Ld,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=_c,u=ki("start","zoom","end"),f,d,c,h=500,_=150,m=0,w=10;function g(k){k.property("__zoom",nr).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",R).filter(o).on("touchstart.zoom",N).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(k,V,p,M){var L=k.selection?k.selection():k;L.property("__zoom",nr),k!==L?C(k,V,p,M):L.interrupt().each(function(){O(this,arguments).event(M).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},g.scaleBy=function(k,V,p,M){g.scaleTo(k,function(){var L=this.__zoom.k,T=typeof V=="function"?V.apply(this,arguments):V;return L*T},p,M)},g.scaleTo=function(k,V,p,M){g.transform(k,function(){var L=e.apply(this,arguments),T=this.__zoom,Z=p==null?S(L):typeof p=="function"?p.apply(this,arguments):p,j=T.invert(Z),$=typeof V=="function"?V.apply(this,arguments):V;return n(b(E(T,$),Z,j),L,s)},p,M)},g.translateBy=function(k,V,p,M){g.transform(k,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof p=="function"?p.apply(this,arguments):p),e.apply(this,arguments),s)},null,M)},g.translateTo=function(k,V,p,M,L){g.transform(k,function(){var T=e.apply(this,arguments),Z=this.__zoom,j=M==null?S(T):typeof M=="function"?M.apply(this,arguments):M;return n(Si.translate(j[0],j[1]).scale(Z.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof p=="function"?-p.apply(this,arguments):-p),T,s)},M,L)};function E(k,V){return V=Math.max(r[0],Math.min(r[1],V)),V===k.k?k:new Pt(V,k.x,k.y)}function b(k,V,p){var M=V[0]-p[0]*k.k,L=V[1]-p[1]*k.k;return M===k.x&&L===k.y?k:new Pt(k.k,M,L)}function S(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function C(k,V,p,M){k.on("start.zoom",function(){O(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(M).end()}).tween("zoom",function(){var L=this,T=arguments,Z=O(L,T).event(M),j=e.apply(L,T),$=p==null?S(j):typeof p=="function"?p.apply(L,T):p,ee=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),K=L.__zoom,re=typeof V=="function"?V.apply(L,T):V,ge=a(K.invert($).concat(ee/K.k),re.invert($).concat(ee/re.k));return function(Y){if(Y===1)Y=re;else{var me=ge(Y),_e=ee/me[2];Y=new Pt(_e,$[0]-me[0]*_e,$[1]-me[1]*_e)}Z.zoom(null,Y)}})}function O(k,V,p){return!p&&k.__zooming||new P(k,V)}function P(k,V){this.that=k,this.args=V,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,V),this.taps=0}P.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,V){return this.mouse&&k!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var V=rt(this.that).datum();u.call(k,this.that,new zd(k,{sourceEvent:this.sourceEvent,target:g,type:k,transform:this.that.__zoom,dispatch:u}),V)}};function z(k,...V){if(!t.apply(this,arguments))return;var p=O(this,V).event(k),M=this.__zoom,L=Math.max(r[0],Math.min(r[1],M.k*Math.pow(2,i.apply(this,arguments)))),T=ut(k);if(p.wheel)(p.mouse[0][0]!==T[0]||p.mouse[0][1]!==T[1])&&(p.mouse[1]=M.invert(p.mouse[0]=T)),clearTimeout(p.wheel);else{if(M.k===L)return;p.mouse=[T,M.invert(T)],Qn(this),p.start()}hn(k),p.wheel=setTimeout(Z,_),p.zoom("mouse",n(b(E(M,L),p.mouse[0],p.mouse[1]),p.extent,s));function Z(){p.wheel=null,p.end()}}function I(k,...V){if(c||!t.apply(this,arguments))return;var p=k.currentTarget,M=O(this,V,!0).event(k),L=rt(k.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",ee,!0),T=ut(k,p),Z=k.clientX,j=k.clientY;Fl(k.view),Vi(k),M.mouse=[T,this.__zoom.invert(T)],Qn(this),M.start();function $(K){if(hn(K),!M.moved){var re=K.clientX-Z,ge=K.clientY-j;M.moved=re*re+ge*ge>m}M.event(K).zoom("mouse",n(b(M.that.__zoom,M.mouse[0]=ut(K,p),M.mouse[1]),M.extent,s))}function ee(K){L.on("mousemove.zoom mouseup.zoom",null),Vl(K.view,M.moved),hn(K),M.event(K).end()}}function R(k,...V){if(t.apply(this,arguments)){var p=this.__zoom,M=ut(k.changedTouches?k.changedTouches[0]:k,this),L=p.invert(M),T=p.k*(k.shiftKey?.5:2),Z=n(b(E(p,T),M,L),e.apply(this,V),s);hn(k),l>0?rt(this).transition().duration(l).call(C,Z,M,k):rt(this).call(g.transform,Z,M,k)}}function N(k,...V){if(t.apply(this,arguments)){var p=k.touches,M=p.length,L=O(this,V,k.changedTouches.length===M).event(k),T,Z,j,$;for(Vi(k),Z=0;Z<M;++Z)j=p[Z],$=ut(j,this),$=[$,this.__zoom.invert($),j.identifier],L.touch0?!L.touch1&&L.touch0[2]!==$[2]&&(L.touch1=$,L.taps=0):(L.touch0=$,T=!0,L.taps=1+!!f);f&&(f=clearTimeout(f)),T&&(L.taps<2&&(d=$[0],f=setTimeout(function(){f=null},h)),Qn(this),L.start())}}function A(k,...V){if(this.__zooming){var p=O(this,V).event(k),M=k.changedTouches,L=M.length,T,Z,j,$;for(hn(k),T=0;T<L;++T)Z=M[T],j=ut(Z,this),p.touch0&&p.touch0[2]===Z.identifier?p.touch0[0]=j:p.touch1&&p.touch1[2]===Z.identifier&&(p.touch1[0]=j);if(Z=p.that.__zoom,p.touch1){var ee=p.touch0[0],K=p.touch0[1],re=p.touch1[0],ge=p.touch1[1],Y=(Y=re[0]-ee[0])*Y+(Y=re[1]-ee[1])*Y,me=(me=ge[0]-K[0])*me+(me=ge[1]-K[1])*me;Z=E(Z,Math.sqrt(Y/me)),j=[(ee[0]+re[0])/2,(ee[1]+re[1])/2],$=[(K[0]+ge[0])/2,(K[1]+ge[1])/2]}else if(p.touch0)j=p.touch0[0],$=p.touch0[1];else return;p.zoom("touch",n(b(Z,j,$),p.extent,s))}}function W(k,...V){if(this.__zooming){var p=O(this,V).event(k),M=k.changedTouches,L=M.length,T,Z;for(Vi(k),c&&clearTimeout(c),c=setTimeout(function(){c=null},h),T=0;T<L;++T)Z=M[T],p.touch0&&p.touch0[2]===Z.identifier?delete p.touch0:p.touch1&&p.touch1[2]===Z.identifier&&delete p.touch1;if(p.touch1&&!p.touch0&&(p.touch0=p.touch1,delete p.touch1),p.touch0)p.touch0[1]=this.__zoom.invert(p.touch0[0]);else if(p.end(),p.taps===2&&(Z=ut(Z,this),Math.hypot(d[0]-Z[0],d[1]-Z[1])<w)){var j=rt(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return g.wheelDelta=function(k){return arguments.length?(i=typeof k=="function"?k:Xn(+k),g):i},g.filter=function(k){return arguments.length?(t=typeof k=="function"?k:Xn(!!k),g):t},g.touchable=function(k){return arguments.length?(o=typeof k=="function"?k:Xn(!!k),g):o},g.extent=function(k){return arguments.length?(e=typeof k=="function"?k:Xn([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),g):e},g.scaleExtent=function(k){return arguments.length?(r[0]=+k[0],r[1]=+k[1],g):[r[0],r[1]]},g.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(k){return arguments.length?(n=k,g):n},g.duration=function(k){return arguments.length?(l=+k,g):l},g.interpolate=function(k){return arguments.length?(a=k,g):a},g.on=function(){var k=u.on.apply(u,arguments);return k===u?g:k},g.clickDistance=function(k){return arguments.length?(m=(k=+k)*k,g):Math.sqrt(m)},g.tapDistance=function(k){return arguments.length?(w=+k,g):w},g}const Nn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`},ui=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Kt;(function(t){t.Strict="strict",t.Loose="loose"})(Kt||(Kt={}));var wt;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(wt||(wt={}));var fi;(function(t){t.Partial="partial",t.Full="full"})(fi||(fi={}));const io={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var on;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(on||(on={}));var sn;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(sn||(sn={}));var ye;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ye||(ye={}));const ir={[ye.Left]:ye.Right,[ye.Right]:ye.Left,[ye.Top]:ye.Bottom,[ye.Bottom]:ye.Top};function Ad(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function or(t,e,n){if(!n)return;const i=[];t.forEach((o,r)=>{e!=null&&e.has(r)||i.push(o)}),i.length&&n(i)}function rr(t){return t===null?null:t?"valid":"invalid"}const Hd=t=>"id"in t&&"source"in t&&"target"in t,Fd=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),_o=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Dn=(t,e=[0,0])=>{const{width:n,height:i}=Vt(t),o=t.origin??e,r=n*o[0],s=i*o[1];return{x:t.position.x-r,y:t.position.y-s}},es=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,o)=>{const r=typeof o=="string";let s=!e.nodeLookup&&!r?o:void 0;e.nodeLookup&&(s=r?e.nodeLookup.get(o):_o(o)?o:e.nodeLookup.get(o.id));const l=s?ci(s,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ci(i,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Pi(n)},Ln=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=ci(i);n=Ci(n,o)}}),Pi(n)},ts=(t,e,[n,i,o]=[0,0,1],r=!1,s=!1)=>{const l={...Tn(e,[n,i,o]),width:e.width/o,height:e.height/o},a=[];for(const u of t.values()){const{measured:f,selectable:d=!0,hidden:c=!1}=u;if(s&&!d||c)continue;const h=f.width??u.width??u.initialWidth??null,_=f.height??u.height??u.initialHeight??null,m=Pn(l,un(u)),w=(h??0)*(_??0),g=r&&m>0;(!u.internals.handleBounds||g||m>=w||u.dragging)&&a.push(u)}return a},oo=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function lr(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function sr({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:r},s){if(t.size===0)return Promise.resolve(!1);const l=Ln(t),a=Mi(l,e,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??r,(s==null?void 0:s.padding)??.1);return await i.setViewport(a,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function Vd({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:r}){const s=n.get(t),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??i;let d=o;if(s.extent==="parent"&&!s.expandParent)if(!l)r==null||r("005",Nn.error005());else{const h=l.measured.width,_=l.measured.height;h&&_&&(d=[[a,u],[a+h,u+_]])}else l&&fn(s.extent)&&(d=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const c=fn(d)?Zt(e,d,s.measured):e;return{position:{x:c.x-a+s.measured.width*f[0],y:c.y-u+s.measured.height*f[1]},positionAbsolute:c}}async function ns({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const r=new Set(t.map(c=>c.id)),s=[];for(const c of n){if(c.deletable===!1)continue;const h=r.has(c.id),_=!h&&c.parentId&&s.find(m=>m.id===c.parentId);(h||_)&&s.push(c)}const l=new Set(e.map(c=>c.id)),a=i.filter(c=>c.deletable!==!1),f=oo(s,a);for(const c of a)l.has(c.id)&&!f.find(_=>_.id===c.id)&&f.push(c);if(!o)return{edges:f,nodes:s};const d=await o({nodes:s,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:s}:{edges:[],nodes:[]}:d}const an=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Zt=(t={x:0,y:0},e,n)=>({x:an(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:an(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function is(t,e,n){const{width:i,height:o}=Vt(n),{x:r,y:s}=n.internals.positionAbsolute;return Zt(t,[[r,s],[r+i,s+o]],e)}const ar=(t,e,n)=>t<e?an(Math.abs(t-e),1,e)/e:t>n?-an(Math.abs(t-n),1,e)/e:0,os=(t,e,n=15,i=40)=>{const o=ar(t.x,i,e.width-i)*n,r=ar(t.y,i,e.height-i)*n;return[o,r]},Ci=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),ro=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),Pi=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),un=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=_o(t)?t.internals.positionAbsolute:Dn(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0}},ci=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=_o(t)?t.internals.positionAbsolute:Dn(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0)}},rs=(t,e)=>Pi(Ci(ro(t),ro(e))),Pn=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},ur=t=>dt(t.width)&&dt(t.height)&&dt(t.x)&&dt(t.y),dt=t=>!isNaN(t)&&isFinite(t),Rd=(t,e)=>{},wo=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Tn=({x:t,y:e},[n,i,o],r=!1,s=[1,1])=>{const l={x:(t-n)/o,y:(e-i)/o};return r?wo(l,s):l},ls=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),Mi=(t,e,n,i,o,r)=>{const s=e/(t.width*(1+r)),l=n/(t.height*(1+r)),a=Math.min(s,l),u=an(a,i,o),f=t.x+t.width/2,d=t.y+t.height/2,c=e/2-f*u,h=n/2-d*u;return{x:c,y:h,zoom:u}},di=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function fn(t){return t!==void 0&&t!=="parent"}function Vt(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function hi(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function Wd(t,e={width:0,height:0},n,i,o){let r=n;const s={...t};for(;r;){const l=i.get(r);if(r=l==null?void 0:l.parentId,l){const a=l.origin||o;s.x+=l.internals.positionAbsolute.x-(e.width??0)*a[0],s.y+=l.internals.positionAbsolute.y-(e.height??0)*a[1]}}return s}function Ri(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:r}=Ot(t),s=Tn({x:o,y:r},i),{x:l,y:a}=n?wo(s,e):s;return{xSnapped:l,ySnapped:a,...s}}const bo=t=>({width:t.offsetWidth,height:t.offsetHeight}),Bd=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Xd=["INPUT","SELECT","TEXTAREA"];function Yd(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return Xd.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const ss=t=>"clientX"in t,Ot=(t,e)=>{var r,s;const n=ss(t),i=n?t.clientX:(r=t.touches)==null?void 0:r[0].clientX,o=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},fr=(t,e,n,i,o)=>{const r=e.querySelectorAll(`.${t}`);return!r||!r.length?null:Array.from(r).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...bo(s)}})};function Kd({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:l}){const a=t*.125+o*.375+s*.375+n*.125,u=e*.125+r*.375+l*.375+i*.125,f=Math.abs(a-t),d=Math.abs(u-e);return[a,u,f,d]}function Yn(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function cr({pos:t,x1:e,y1:n,x2:i,y2:o,c:r}){switch(t){case ye.Left:return[e-Yn(e-i,r),n];case ye.Right:return[e+Yn(i-e,r),n];case ye.Top:return[e,n-Yn(n-o,r)];case ye.Bottom:return[e,n+Yn(o-n,r)]}}function as({sourceX:t,sourceY:e,sourcePosition:n=ye.Bottom,targetX:i,targetY:o,targetPosition:r=ye.Top,curvature:s=.25}){const[l,a]=cr({pos:n,x1:t,y1:e,x2:i,y2:o,c:s}),[u,f]=cr({pos:r,x1:i,y1:o,x2:t,y2:e,c:s}),[d,c,h,_]=Kd({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${t},${e} C${l},${a} ${u},${f} ${i},${o}`,d,c,h,_]}function us({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,r=n<t?n+o:n-o,s=Math.abs(i-e)/2,l=i<e?i+s:i-s;return[r,l,o,s]}function Zd({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const r=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(r?s:0)}function Gd({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const r=Ci(ci(t),ci(e));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Pn(s,Pi(r))>0}const Ud=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,qd=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Qd=(t,e)=>{if(!t.source||!t.target)return e;let n;return Hd(t)?n={...t}:n={...t,id:Ud(t)},qd(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function fs({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,r,s,l]=us({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,r,s,l]}const dr={[ye.Left]:{x:-1,y:0},[ye.Right]:{x:1,y:0},[ye.Top]:{x:0,y:-1},[ye.Bottom]:{x:0,y:1}},jd=({source:t,sourcePosition:e=ye.Bottom,target:n})=>e===ye.Left||e===ye.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},hr=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Jd({source:t,sourcePosition:e=ye.Bottom,target:n,targetPosition:i=ye.Top,center:o,offset:r}){const s=dr[e],l=dr[i],a={x:t.x+s.x*r,y:t.y+s.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},f=jd({source:a,sourcePosition:e,target:u}),d=f.x!==0?"x":"y",c=f[d];let h=[],_,m;const w={x:0,y:0},g={x:0,y:0},[E,b,S,C]=us({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){_=o.x??E,m=o.y??b;const P=[{x:_,y:a.y},{x:_,y:u.y}],z=[{x:a.x,y:m},{x:u.x,y:m}];s[d]===c?h=d==="x"?P:z:h=d==="x"?z:P}else{const P=[{x:a.x,y:u.y}],z=[{x:u.x,y:a.y}];if(d==="x"?h=s.x===c?z:P:h=s.y===c?P:z,e===i){const W=Math.abs(t[d]-n[d]);if(W<=r){const k=Math.min(r-1,r-W);s[d]===c?w[d]=(a[d]>t[d]?-1:1)*k:g[d]=(u[d]>n[d]?-1:1)*k}}if(e!==i){const W=d==="x"?"y":"x",k=s[d]===l[W],V=a[W]>u[W],p=a[W]<u[W];(s[d]===1&&(!k&&V||k&&p)||s[d]!==1&&(!k&&p||k&&V))&&(h=d==="x"?P:z)}const I={x:a.x+w.x,y:a.y+w.y},R={x:u.x+g.x,y:u.y+g.y},N=Math.max(Math.abs(I.x-h[0].x),Math.abs(R.x-h[0].x)),A=Math.max(Math.abs(I.y-h[0].y),Math.abs(R.y-h[0].y));N>=A?(_=(I.x+R.x)/2,m=h[0].y):(_=h[0].x,m=(I.y+R.y)/2)}return[[t,{x:a.x+w.x,y:a.y+w.y},...h,{x:u.x+g.x,y:u.y+g.y},n],_,m,S,C]}function xd(t,e,n,i){const o=Math.min(hr(t,e)/2,hr(e,n)/2,i),{x:r,y:s}=e;if(t.x===r&&r===n.x||t.y===s&&s===n.y)return`L${r} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${r+o*u},${s}Q ${r},${s} ${r},${s+o*f}`}const l=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${r},${s+o*a}Q ${r},${s} ${r+o*l},${s}`}function gi({sourceX:t,sourceY:e,sourcePosition:n=ye.Bottom,targetX:i,targetY:o,targetPosition:r=ye.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[f,d,c,h,_]=Jd({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:l,y:a},offset:u});return[f.reduce((w,g,E)=>{let b="";return E>0&&E<f.length-1?b=xd(f[E-1],g,f[E+1],s):b=`${E===0?"M":"L"}${g.x} ${g.y}`,w+=b,w},""),d,c,h,_]}function gr(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function $d(t){var d;const{sourceNode:e,targetNode:n}=t;if(!gr(e)||!gr(n))return null;const i=e.internals.handleBounds||mr(e.handles),o=n.internals.handleBounds||mr(n.handles),r=yr((i==null?void 0:i.source)??[],t.sourceHandle),s=yr(t.connectionMode===Kt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!r||!s)return(d=t.onError)==null||d.call(t,"008",Nn.error008(r?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=(r==null?void 0:r.position)||ye.Bottom,a=(s==null?void 0:s.position)||ye.Top,u=Mn(e,r,l),f=Mn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function mr(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function Mn(t,e,n=ye.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,r=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:l}=e??Vt(t);if(i)return{x:o+s/2,y:r+l/2};switch((e==null?void 0:e.position)??n){case ye.Top:return{x:o+s/2,y:r};case ye.Right:return{x:o+s,y:r+l/2};case ye.Bottom:return{x:o+s/2,y:r+l};case ye.Left:return{x:o,y:r+l/2}}}function yr(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function lo(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function eh(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const r=new Set;return t.reduce((s,l)=>([l.markerStart||i,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=lo(a,e);r.has(u)||(s.push({id:u,color:a.color||n,...a}),r.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const ko={nodeOrigin:[0,0],nodeExtent:ui,elevateNodesOnSelect:!0,defaults:{}},th={...ko,checkEquality:!0};function po(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function nh(t,e,n){const i=po(ko,n);for(const o of t.values())if(o.parentId)vo(o,t,e,i);else{const r=Dn(o,i.nodeOrigin),s=fn(o.extent)?o.extent:i.nodeExtent,l=Zt(r,s,Vt(o));o.internals.positionAbsolute=l}}function cs(t,e,n,i){var l,a;const o=po(th,i),r=new Map(e),s=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const u of t){let f=r.get(u.id);if(o.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{const d=Dn(u,o.nodeOrigin),c=fn(u.extent)?u.extent:o.nodeExtent,h=Zt(d,c,Vt(u));f={...o.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(a=u.measured)==null?void 0:a.height},internals:{positionAbsolute:h,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:ds(u,s),userNode:u}},e.set(u.id,f)}u.parentId&&vo(f,e,n,i)}}function ih(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function vo(t,e,n,i){const{elevateNodesOnSelect:o,nodeOrigin:r,nodeExtent:s}=po(ko,i),l=t.parentId,a=e.get(l);if(!a){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}ih(t,n);const u=o?1e3:0,{x:f,y:d,z:c}=oh(t,a,r,s,u),{positionAbsolute:h}=t.internals,_=f!==h.x||d!==h.y;(_||c!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:_?{x:f,y:d}:h,z:c})}function ds(t,e){return(dt(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function oh(t,e,n,i,o){const{x:r,y:s}=e.internals.positionAbsolute,l=Vt(t),a=Dn(t,n),u=fn(t.extent)?Zt(a,t.extent,l):a;let f=Zt({x:r+u.x,y:s+u.y},i,l);t.extent==="parent"&&(f=is(f,l,e));const d=ds(t,o),c=e.internals.z??0;return{x:f.x,y:f.y,z:c>d?c:d}}function rh(t,e,n,i=[0,0]){var s;const o=[],r=new Map;for(const l of t){const a=e.get(l.parentId);if(!a)continue;const u=((s=r.get(l.parentId))==null?void 0:s.expandedRect)??un(a),f=rs(u,l.rect);r.set(l.parentId,{expandedRect:f,parent:a})}return r.size>0&&r.forEach(({expandedRect:l,parent:a},u)=>{var b;const f=a.internals.positionAbsolute,d=Vt(a),c=a.origin??i,h=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,_=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,m=Math.max(d.width,Math.round(l.width)),w=Math.max(d.height,Math.round(l.height)),g=(m-d.width)*c[0],E=(w-d.height)*c[1];(h>0||_>0||g||E)&&(o.push({id:u,type:"position",position:{x:a.position.x-h+g,y:a.position.y-_+E}}),(b=n.get(u))==null||b.forEach(S=>{t.some(C=>C.id===S.id)||o.push({id:S.id,type:"position",position:{x:S.position.x+h,y:S.position.y+_}})})),(d.width<l.width||d.height<l.height||h||_)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:m+(h?c[0]*h-g:0),height:w+(_?c[1]*_-E:0)}})}),o}function lh(t,e,n,i,o,r){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const c of t.values()){const h=e.get(c.id);if(h)if(h.hidden)h.internals={...h.internals,handleBounds:void 0},l=!0;else{const _=bo(c.nodeElement),m=h.measured.width!==_.width||h.measured.height!==_.height;if(!!(_.width&&_.height&&(m||!h.internals.handleBounds||c.force))){const g=c.nodeElement.getBoundingClientRect(),E=fn(h.extent)?h.extent:r;let{positionAbsolute:b}=h.internals;h.parentId&&h.extent==="parent"?b=is(b,_,e.get(h.parentId)):E&&(b=Zt(b,E,_)),h.measured=_,h.internals={...h.internals,positionAbsolute:b,handleBounds:{source:fr("source",c.nodeElement,g,f,h.id),target:fr("target",c.nodeElement,g,f,h.id)}},h.parentId&&vo(h,e,n,{nodeOrigin:o}),l=!0,m&&(a.push({id:h.id,type:"dimensions",dimensions:_}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:un(h,o)}))}}}if(d.length>0){const c=rh(d,e,n,o);a.push(...c)}return{changes:a,updatedInternals:l}}async function sh({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:r}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,r]],i),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function hs(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:r,sourceHandle:s=null,targetHandle:l=null}=i,a=`${o}-source-${s}`,u=`${r}-target-${l}`,f=t.get(a)||new Map,d=t.get(u)||new Map,c={edgeId:i.id,source:o,target:r,sourceHandle:s,targetHandle:l};e.set(i.id,i),t.set(a,f.set(`${r}-${l}`,c)),t.set(u,d.set(`${o}-${s}`,c))}}function gs(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:gs(n,e):!1}function _r(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function ah(t,e,n,i){const o=new Map;for(const[r,s]of t)if((s.selected||s.id===i)&&(!s.parentId||!gs(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const l=t.get(r);l&&o.set(r,{id:r,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function Wi({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var s,l,a;const o=[];for(const[u,f]of e){const d=(s=n.get(u))==null?void 0:s.internals.userNode;d&&o.push({...d,position:f.position,dragging:i})}if(!t)return[o[0],o];const r=(l=n.get(t))==null?void 0:l.internals.userNode;return[r?{...r,position:((a=e.get(t))==null?void 0:a.position)||r.position,dragging:i}:o[0],o]}function uh({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let r={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,d=!1,c=null,h=!1;function _({noDragClassName:w,handleSelector:g,domNode:E,isSelectable:b,nodeId:S,nodeClickDistance:C=0}){c=rt(E);function O({x:R,y:N},A){const{nodeLookup:W,nodeExtent:k,snapGrid:V,snapToGrid:p,nodeOrigin:M,onNodeDrag:L,onSelectionDrag:T,onError:Z,updateNodePositions:j}=e();r={x:R,y:N};let $=!1,ee={x:0,y:0,x2:0,y2:0};if(l.size>1&&k){const K=Ln(l);ee=ro(K)}for(const[K,re]of l){if(!W.has(K))continue;let ge={x:R-re.distance.x,y:N-re.distance.y};p&&(ge=wo(ge,V));let Y=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];if(l.size>1&&k&&!re.extent){const{positionAbsolute:ke}=re.internals,Ee=ke.x-ee.x+k[0][0],Pe=ke.x+re.measured.width-ee.x2+k[1][0],He=ke.y-ee.y+k[0][1],J=ke.y+re.measured.height-ee.y2+k[1][1];Y=[[Ee,He],[Pe,J]]}const{position:me,positionAbsolute:_e}=Vd({nodeId:K,nextPosition:ge,nodeLookup:W,nodeExtent:Y,nodeOrigin:M,onError:Z});$=$||re.position.x!==me.x||re.position.y!==me.y,re.position=me,re.internals.positionAbsolute=_e}if($&&(j(l,!0),A&&(i||L||!S&&T))){const[K,re]=Wi({nodeId:S,dragItems:l,nodeLookup:W});i==null||i(A,l,K,re),L==null||L(A,K,re),S||T==null||T(A,re)}}async function P(){if(!f)return;const{transform:R,panBy:N,autoPanSpeed:A}=e(),[W,k]=os(u,f,A);(W!==0||k!==0)&&(r.x=(r.x??0)-W/R[2],r.y=(r.y??0)-k/R[2],await N({x:W,y:k})&&O(r,null)),s=requestAnimationFrame(P)}function z(R){var $;const{nodeLookup:N,multiSelectionActive:A,nodesDraggable:W,transform:k,snapGrid:V,snapToGrid:p,selectNodesOnDrag:M,onNodeDragStart:L,onSelectionDragStart:T,unselectNodesAndEdges:Z}=e();d=!0,(!M||!b)&&!A&&S&&(($=N.get(S))!=null&&$.selected||Z()),b&&M&&S&&(t==null||t(S));const j=Ri(R.sourceEvent,{transform:k,snapGrid:V,snapToGrid:p});if(r=j,l=ah(N,W,j,S),l.size>0&&(n||L||!S&&T)){const[ee,K]=Wi({nodeId:S,dragItems:l,nodeLookup:N});n==null||n(R.sourceEvent,l,ee,K),L==null||L(R.sourceEvent,ee,K),S||T==null||T(R.sourceEvent,K)}}const I=Zf().clickDistance(C).on("start",R=>{const{domNode:N,nodeDragThreshold:A,transform:W,snapGrid:k,snapToGrid:V}=e();h=!1,A===0&&z(R),r=Ri(R.sourceEvent,{transform:W,snapGrid:k,snapToGrid:V}),f=(N==null?void 0:N.getBoundingClientRect())||null,u=Ot(R.sourceEvent,f)}).on("drag",R=>{const{autoPanOnNodeDrag:N,transform:A,snapGrid:W,snapToGrid:k,nodeDragThreshold:V,nodeLookup:p}=e(),M=Ri(R.sourceEvent,{transform:A,snapGrid:W,snapToGrid:k});if((R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1||S&&!p.has(S))&&(h=!0),!h){if(!a&&N&&d&&(a=!0,P()),!d){const L=M.xSnapped-(r.x??0),T=M.ySnapped-(r.y??0);Math.sqrt(L*L+T*T)>V&&z(R)}(r.x!==M.xSnapped||r.y!==M.ySnapped)&&l&&d&&(u=Ot(R.sourceEvent,f),O(M,R.sourceEvent))}}).on("end",R=>{if(!(!d||h)&&(a=!1,d=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:N,updateNodePositions:A,onNodeDragStop:W,onSelectionDragStop:k}=e();if(A(l,!1),o||W||!S&&k){const[V,p]=Wi({nodeId:S,dragItems:l,nodeLookup:N,dragging:!1});o==null||o(R.sourceEvent,l,V,p),W==null||W(R.sourceEvent,V,p),S||k==null||k(R.sourceEvent,p)}}}).filter(R=>{const N=R.target;return!R.button&&(!w||!_r(N,`.${w}`,E))&&(!g||_r(N,g,E))});c.call(I)}function m(){c==null||c.on(".drag",null)}return{update:_,destroy:m}}function fh(t,e,n){const i=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const r of e.values())Pn(o,un(r))>0&&i.push(r);return i}const ch=250;function dh(t,e,n,i){var l,a;let o=[],r=1/0;const s=fh(t,n,e+ch);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const d of f){if(i.nodeId===d.nodeId&&i.type===d.type&&i.id===d.id)continue;const{x:c,y:h}=Mn(u,d,d.position,!0),_=Math.sqrt(Math.pow(c-t.x,2)+Math.pow(h-t.y,2));_>e||(_<r?(o=[{...d,x:c,y:h}],r=_):_===r&&o.push({...d,x:c,y:h}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function ms(t,e,n,i,o,r=!1){var u,f,d;const s=i.get(t);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],a=(n?l==null?void 0:l.find(c=>c.id===n):l==null?void 0:l[0])??null;return a&&r?{...a,...Mn(s,a,a.position,!0)}:a}function ys(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function hh(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const _s=()=>!0;function gh(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:d,panBy:c,cancelConnection:h,onConnectStart:_,onConnect:m,onConnectEnd:w,isValidConnection:g=_s,onReconnectEnd:E,updateConnection:b,getTransform:S,getFromHandle:C,autoPanSpeed:O}){const P=Bd(t.target);let z=0,I;const{x:R,y:N}=Ot(t),A=P==null?void 0:P.elementFromPoint(R,N),W=ys(r,A),k=l==null?void 0:l.getBoundingClientRect();if(!k||!W)return;const V=ms(o,W,i,a,e);if(!V)return;let p=Ot(t,k),M=!1,L=null,T=!1,Z=null;function j(){if(!f||!k)return;const[_e,ke]=os(p,k,O);c({x:_e,y:ke}),z=requestAnimationFrame(j)}const $={...V,nodeId:o,type:W,position:V.position},ee=a.get(o),re={inProgress:!0,isValid:null,from:Mn(ee,$,ye.Left,!0),fromHandle:$,fromPosition:$.position,fromNode:ee,to:p,toHandle:null,toPosition:ir[$.position],toNode:null};b(re);let ge=re;_==null||_(t,{nodeId:o,handleId:i,handleType:W});function Y(_e){if(!C()||!$){me(_e);return}const ke=S();p=Ot(_e,k),I=dh(Tn(p,ke,!1,[1,1]),n,a,$),M||(j(),M=!0);const Ee=ws(_e,{handle:I,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:P,lib:u,flowId:d,nodeLookup:a});Z=Ee.handleDomNode,L=Ee.connection,T=hh(!!I,Ee.isValid);const Pe={...ge,isValid:T,to:I&&T?ls({x:I.x,y:I.y},ke):p,toHandle:Ee.toHandle,toPosition:T&&Ee.toHandle?Ee.toHandle.position:ir[$.position],toNode:Ee.toHandle?a.get(Ee.toHandle.nodeId):null};T&&I&&ge.toHandle&&Pe.toHandle&&ge.toHandle.type===Pe.toHandle.type&&ge.toHandle.nodeId===Pe.toHandle.nodeId&&ge.toHandle.id===Pe.toHandle.id&&ge.to.x===Pe.to.x&&ge.to.y===Pe.to.y||(b(Pe),ge=Pe)}function me(_e){(I||Z)&&L&&T&&(m==null||m(L));const{inProgress:ke,...Ee}=ge,Pe={...Ee,toPosition:ge.toHandle?ge.toPosition:null};w==null||w(_e,Pe),r&&(E==null||E(_e,Pe)),h(),cancelAnimationFrame(z),M=!1,T=!1,L=null,Z=null,P.removeEventListener("mousemove",Y),P.removeEventListener("mouseup",me),P.removeEventListener("touchmove",Y),P.removeEventListener("touchend",me)}P.addEventListener("mousemove",Y),P.addEventListener("mouseup",me),P.addEventListener("touchmove",Y),P.addEventListener("touchend",me)}function ws(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:l,flowId:a,isValidConnection:u=_s,nodeLookup:f}){const d=r==="target",c=e?s.querySelector(`.${l}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y:_}=Ot(t),m=s.elementFromPoint(h,_),w=m!=null&&m.classList.contains(`${l}-flow__handle`)?m:c,g={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const E=ys(void 0,w),b=w.getAttribute("data-nodeid"),S=w.getAttribute("data-handleid"),C=w.classList.contains("connectable"),O=w.classList.contains("connectableend");if(!b||!E)return g;const P={source:d?b:i,sourceHandle:d?S:o,target:d?i:b,targetHandle:d?o:S};g.connection=P;const I=C&&O&&(n===Kt.Strict?d&&E==="source"||!d&&E==="target":b!==i||S!==o);g.isValid=I&&u(P),g.toHandle=ms(b,E,S,f,n,!1)}return g}const mh={onPointerDown:gh,isValid:ws};function yh({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=rt(t);function r({translateExtent:l,width:a,height:u,zoomStep:f=10,pannable:d=!0,zoomable:c=!0,inversePan:h=!1}){const _=b=>{const S=n();if(b.sourceEvent.type!=="wheel"||!e)return;const C=-b.sourceEvent.deltaY*(b.sourceEvent.deltaMode===1?.05:b.sourceEvent.deltaMode?1:.002)*f,O=S[2]*Math.pow(2,C);e.scaleTo(O)};let m=[0,0];const w=b=>{(b.sourceEvent.type==="mousedown"||b.sourceEvent.type==="touchstart")&&(m=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY])},g=b=>{const S=n();if(b.sourceEvent.type!=="mousemove"&&b.sourceEvent.type!=="touchmove"||!e)return;const C=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY],O=[C[0]-m[0],C[1]-m[1]];m=C;const P=i()*Math.max(S[2],Math.log(S[2]))*(h?-1:1),z={x:S[0]-O[0]*P,y:S[1]-O[1]*P},I=[[0,0],[a,u]];e.setViewportConstrained({x:z.x,y:z.y,zoom:S[2]},I,l)},E=$l().on("start",w).on("zoom",d?g:null).on("zoom.wheel",c?_:null);o.call(E,{})}function s(){o.on("zoom",null)}return{update:r,destroy:s,pointer:ut}}const _h=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Oi=t=>({x:t.x,y:t.y,zoom:t.k}),Bi=({x:t,y:e,zoom:n})=>Si.translate(t,e).scale(n),$t=(t,e)=>t.target.closest(`.${e}`),bs=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Xi=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},ks=t=>{const e=t.ctrlKey&&di()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function wh({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if($t(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&s){const w=ut(f),g=ks(f),E=d*Math.pow(2,g);i.scaleTo(n,E,w,f);return}const c=f.deltaMode===1?20:1;let h=o===wt.Vertical?0:f.deltaX*c,_=o===wt.Horizontal?0:f.deltaY*c;!di()&&f.shiftKey&&o!==wt.Vertical&&(h=f.deltaY*c,_=0),i.translateBy(n,-(h/d)*r,-(_/d)*r,{internal:!0});const m=Oi(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l==null||l(f,m)),t.isPanScrolling&&(a==null||a(f,m),t.panScrollTimeout=setTimeout(()=>{u==null||u(f,m),t.isPanScrolling=!1},150))}}function bh({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||$t(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function kh({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var r,s,l;if((r=i.sourceEvent)!=null&&r.internal)return;const o=Oi(i.transform);t.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function ph({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var s,l;t.usedRightMouseButton=!!(n&&bs(e,t.mouseButton??0)),(s=r.sourceEvent)!=null&&s.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((l=r.sourceEvent)!=null&&l.internal)&&(o==null||o(r.sourceEvent,Oi(r.transform)))}}function vh({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(t.isZoomingOrPanning=!1,r&&bs(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&r(s.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&_h(t.prevViewport,s.transform))){const a=Oi(s.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function Eh({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u}){return f=>{var _;const d=t||e,c=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&($t(f,`${u}-flow__node`)||$t(f,`${u}-flow__edge`)))return!0;if(!i&&!d&&!o&&!r&&!n||s||$t(f,l)&&f.type==="wheel"||$t(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((_=f.touches)==null?void 0:_.length)>1)return f.preventDefault(),!1;if(!d&&!o&&!c&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function Sh({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:r,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:a,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),c=$l().clickDistance(!dt(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),h=rt(t).call(c);b({x:r.x,y:r.y,zoom:an(r.zoom,e,n)},[[0,0],[d.width,d.height]],o);const _=h.on("wheel.zoom"),m=h.on("dblclick.zoom");c.wheelDelta(ks);function w(A,W){return h?new Promise(k=>{c==null||c.transform(Xi(h,W==null?void 0:W.duration,()=>k(!0)),A)}):Promise.resolve(!1)}function g({noWheelClassName:A,noPanClassName:W,onPaneContextMenu:k,userSelectionActive:V,panOnScroll:p,panOnDrag:M,panOnScrollMode:L,panOnScrollSpeed:T,preventScrolling:Z,zoomOnPinch:j,zoomOnScroll:$,zoomOnDoubleClick:ee,zoomActivationKeyPressed:K,lib:re,onTransformChange:ge}){V&&!f.isZoomingOrPanning&&E();const me=p&&!K&&!V?wh({zoomPanValues:f,noWheelClassName:A,d3Selection:h,d3Zoom:c,panOnScrollMode:L,panOnScrollSpeed:T,zoomOnPinch:j,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:a}):bh({noWheelClassName:A,preventScrolling:Z,d3ZoomHandler:_});if(h.on("wheel.zoom",me,{passive:!1}),!V){const ke=kh({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:l});c.on("start",ke);const Ee=ph({zoomPanValues:f,panOnDrag:M,onPaneContextMenu:!!k,onPanZoom:s,onTransformChange:ge});c.on("zoom",Ee);const Pe=vh({zoomPanValues:f,panOnDrag:M,panOnScroll:p,onPaneContextMenu:k,onPanZoomEnd:a,onDraggingChange:u});c.on("end",Pe)}const _e=Eh({zoomActivationKeyPressed:K,panOnDrag:M,zoomOnScroll:$,panOnScroll:p,zoomOnDoubleClick:ee,zoomOnPinch:j,userSelectionActive:V,noPanClassName:W,noWheelClassName:A,lib:re});c.filter(_e),ee?h.on("dblclick.zoom",m):h.on("dblclick.zoom",null)}function E(){c.on("zoom",null)}async function b(A,W,k){const V=Bi(A),p=c==null?void 0:c.constrain()(V,W,k);return p&&await w(p),new Promise(M=>M(p))}async function S(A,W){const k=Bi(A);return await w(k,W),new Promise(V=>V(k))}function C(A){if(h){const W=Bi(A),k=h.property("__zoom");(k.k!==A.zoom||k.x!==A.x||k.y!==A.y)&&(c==null||c.transform(h,W,null,{sync:!0}))}}function O(){const A=h?xl(h.node()):{x:0,y:0,k:1};return{x:A.x,y:A.y,zoom:A.k}}function P(A,W){return h?new Promise(k=>{c==null||c.scaleTo(Xi(h,W==null?void 0:W.duration,()=>k(!0)),A)}):Promise.resolve(!1)}function z(A,W){return h?new Promise(k=>{c==null||c.scaleBy(Xi(h,W==null?void 0:W.duration,()=>k(!0)),A)}):Promise.resolve(!1)}function I(A){c==null||c.scaleExtent(A)}function R(A){c==null||c.translateExtent(A)}function N(A){const W=!dt(A)||A<0?0:A;c==null||c.clickDistance(W)}return{update:g,destroy:E,setViewport:S,setViewportConstrained:b,getViewport:O,scaleTo:P,scaleBy:z,setScaleExtent:I,setTranslateExtent:R,syncViewport:C,setClickDistance:N}}var wr;(function(t){t.Line="line",t.Handle="handle"})(wr||(wr={}));function Ch(t){let e,n,i,o,r,s;const l=t[45].default,a=qe(l,t,t[44],null);return{c(){e=Se("div"),a&&a.c(),this.h()},l(u){e=Ce(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var f=F(e);a&&a.l(f),f.forEach(v),this.h()},h(){y(e,"data-handleid",t[6]),y(e,"data-nodeid",t[14]),y(e,"data-handlepos",t[2]),y(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[0]||null)+"-"+t[1]),y(e,"class",i=Ne(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),y(e,"style",t[3]),y(e,"role","button"),y(e,"tabindex","-1"),we(e,"valid",t[7]),we(e,"connectingto",t[5]),we(e,"connectingfrom",t[9]),we(e,"source",!t[11]),we(e,"target",t[11]),we(e,"connectablestart",t[12]),we(e,"connectableend",t[12]),we(e,"connectable",t[12]),we(e,"connectionindicator",t[12]&&(!t[10]||t[8]))},m(u,f){Q(u,e,f),a&&a.m(e,null),o=!0,r||(s=[Oe(e,"mousedown",t[32]),Oe(e,"touchstart",t[32])],r=!0)},p(u,f){a&&a.p&&(!o||f[1]&8192)&&Qe(a,l,u,u[44],o?Je(l,u[44],f,null):je(u[44]),null),(!o||f[0]&64)&&y(e,"data-handleid",u[6]),(!o||f[0]&4)&&y(e,"data-handlepos",u[2]),(!o||f[0]&8195&&n!==(n=u[13]+"-"+u[14]+"-"+(u[0]||null)+"-"+u[1]))&&y(e,"data-id",n),(!o||f[0]&20&&i!==(i=Ne(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&y(e,"class",i),(!o||f[0]&8)&&y(e,"style",u[3]),(!o||f[0]&148)&&we(e,"valid",u[7]),(!o||f[0]&52)&&we(e,"connectingto",u[5]),(!o||f[0]&532)&&we(e,"connectingfrom",u[9]),(!o||f[0]&2068)&&we(e,"source",!u[11]),(!o||f[0]&2068)&&we(e,"target",u[11]),(!o||f[0]&4116)&&we(e,"connectablestart",u[12]),(!o||f[0]&4116)&&we(e,"connectableend",u[12]),(!o||f[0]&4116)&&we(e,"connectable",u[12]),(!o||f[0]&5396)&&we(e,"connectionindicator",u[12]&&(!u[10]||u[8]))},i(u){o||(H(a,u),o=!0)},o(u){X(a,u),o=!1},d(u){u&&v(e),a&&a.d(u),r=!1,st(s)}}}function Ph(t,e,n){let i,o,r,s,l,a,u,f,d,c,h,_,m,w,g,E,b,S,C,O,P,z,I,R,N,{$$slots:A={},$$scope:W}=e,{id:k=void 0}=e,{type:V="source"}=e,{position:p=ye.Top}=e,{style:M=void 0}=e,{isValidConnection:L=void 0}=e,{onconnect:T=void 0}=e,{ondisconnect:Z=void 0}=e,{isConnectable:j=void 0}=e,{class:$=void 0}=e;const ee=Jn("svelteflow__node_id"),K=Jn("svelteflow__node_connectable");te(t,K,ae=>n(43,N=ae));const re=We(),{connectionMode:ge,domNode:Y,nodeLookup:me,connectionRadius:_e,viewport:ke,isValidConnection:Ee,lib:Pe,addEdge:He,onedgecreate:J,panBy:Be,cancelConnection:De,updateConnection:It,autoPanOnConnect:pt,edges:vt,connectionLookup:Ye,onconnect:Et,onconnectstart:ue,onconnectend:Nt,flowId:Dt,connection:x}=re;te(t,ge,ae=>n(40,c=ae)),te(t,Y,ae=>n(55,I=ae)),te(t,me,ae=>n(54,z=ae)),te(t,_e,ae=>n(56,R=ae)),te(t,ke,ae=>n(46,m=ae)),te(t,Ee,ae=>n(51,S=ae)),te(t,Pe,ae=>n(53,P=ae)),te(t,J,ae=>n(50,b=ae)),te(t,pt,ae=>n(52,O=ae)),te(t,vt,ae=>n(42,_=ae)),te(t,Ye,ae=>n(41,h=ae)),te(t,Et,ae=>n(49,E=ae)),te(t,ue,ae=>n(48,g=ae)),te(t,Nt,ae=>n(47,w=ae)),te(t,Dt,ae=>n(13,C=ae)),te(t,x,ae=>n(39,d=ae));function Lt(ae){const St=ss(ae);(St&&ae.button===0||!St)&&mh.onPointerDown(ae,{handleId:r,nodeId:ee,isTarget:i,connectionRadius:R,domNode:I,nodeLookup:z,connectionMode:c,lib:P,autoPanOnConnect:O,flowId:C,isValidConnection:L??S,updateConnection:It,cancelConnection:De,panBy:Be,onConnect:$e=>{const Ze=b?b($e):$e;Ze&&(He(Ze),E==null||E($e))},onConnectStart:($e,Ze)=>{g==null||g($e,{nodeId:Ze.nodeId,handleId:Ze.handleId,handleType:Ze.handleType})},onConnectEnd:($e,Ze)=>{w==null||w($e,Ze)},getTransform:()=>[m.x,m.y,m.zoom],getFromHandle:()=>d.fromHandle})}let Ke=null,xe;return t.$$set=ae=>{"id"in ae&&n(0,k=ae.id),"type"in ae&&n(1,V=ae.type),"position"in ae&&n(2,p=ae.position),"style"in ae&&n(3,M=ae.style),"isValidConnection"in ae&&n(33,L=ae.isValidConnection),"onconnect"in ae&&n(34,T=ae.onconnect),"ondisconnect"in ae&&n(35,Z=ae.ondisconnect),"isConnectable"in ae&&n(36,j=ae.isConnectable),"class"in ae&&n(4,$=ae.class),"$$scope"in ae&&n(44,W=ae.$$scope)},t.$$.update=()=>{var ae,St,$e,Ze,Ut,qt,Qt,jt,Tt;if(t.$$.dirty[0]&2&&n(11,i=V==="target"),t.$$.dirty[1]&4128&&n(12,o=j!==void 0?j:N),t.$$.dirty[0]&1&&n(6,r=k||null),t.$$.dirty[0]&3|t.$$.dirty[1]&3096&&(T||Z)&&n(38,xe=h.get(`${ee}-${V}-${k||null}`)),t.$$.dirty[1]&216){if(Ke&&!Ad(xe,Ke)){const Rt=xe??new Map;or(Ke,Rt,Z),or(Rt,Ke,T)}n(37,Ke=xe??new Map)}t.$$.dirty[1]&256&&n(10,s=!!d.fromHandle),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(9,l=((ae=d.fromHandle)==null?void 0:ae.nodeId)===ee&&((St=d.fromHandle)==null?void 0:St.type)===V&&(($e=d.fromHandle)==null?void 0:$e.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(5,a=((Ze=d.toHandle)==null?void 0:Ze.nodeId)===ee&&((Ut=d.toHandle)==null?void 0:Ut.type)===V&&((qt=d.toHandle)==null?void 0:qt.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&768&&n(8,u=c===Kt.Strict?((Qt=d.fromHandle)==null?void 0:Qt.type)!==V:ee!==((jt=d.fromHandle)==null?void 0:jt.nodeId)||r!==((Tt=d.fromHandle)==null?void 0:Tt.id)),t.$$.dirty[0]&32|t.$$.dirty[1]&256&&n(7,f=a&&d.isValid)},[k,V,p,M,$,a,r,f,u,l,s,i,o,C,ee,K,ge,Y,me,_e,ke,Ee,Pe,J,pt,vt,Ye,Et,ue,Nt,Dt,x,Lt,L,T,Z,j,Ke,xe,d,c,h,_,N,W,A]}class ft extends fe{constructor(e){super(),ce(this,e,Ph,Ch,he,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}function Mh(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,r,s,l;return e=new ft({props:{type:"target",position:t[1]??ye.Top}}),s=new ft({props:{type:"source",position:t[2]??ye.Bottom}}),{c(){ne(e.$$.fragment),n=pe(),o=Ve(i),r=pe(),ne(s.$$.fragment)},l(u){se(e.$$.fragment,u),n=ve(u),o=Re(u,i),r=ve(u),se(s.$$.fragment,u)},m(u,f){ie(e,u,f),Q(u,n,f),Q(u,o,f),Q(u,r,f),ie(s,u,f),l=!0},p(u,[f]){var h;const d={};f&2&&(d.position=u[1]??ye.Top),e.$set(d),(!l||f&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&bt(o,i);const c={};f&4&&(c.position=u[2]??ye.Bottom),s.$set(c)},i(u){l||(H(e.$$.fragment,u),H(s.$$.fragment,u),l=!0)},o(u){X(e.$$.fragment,u),X(s.$$.fragment,u),l=!1},d(u){u&&(v(n),v(o),v(r)),oe(e,u),oe(s,u)}}}function Oh(t,e,n){const i=["data","targetPosition","sourcePosition"];Ae(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e,{sourcePosition:s=void 0}=e;return t.$$set=l=>{e=Me(Me({},e),ot(l)),n(3,Ae(e,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,r=l.targetPosition),"sourcePosition"in l&&n(2,s=l.sourcePosition)},[o,r,s]}class ps extends fe{constructor(e){super(),ce(this,e,Oh,Mh,he,{data:0,targetPosition:1,sourcePosition:2})}}function zh(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new ft({props:{type:"source",position:t[1]??ye.Bottom}}),{c(){n=Ve(e),i=pe(),ne(o.$$.fragment)},l(l){n=Re(l,e),i=ve(l),se(o.$$.fragment,l)},m(l,a){Q(l,n,a),Q(l,i,a),ie(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&bt(n,e);const u={};a&2&&(u.position=l[1]??ye.Bottom),o.$set(u)},i(l){r||(H(o.$$.fragment,l),r=!0)},o(l){X(o.$$.fragment,l),r=!1},d(l){l&&(v(n),v(i)),oe(o,l)}}}function Ih(t,e,n){const i=["data","sourcePosition"];Ae(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:r=void 0}=e;return t.$$set=s=>{e=Me(Me({},e),ot(s)),n(2,Ae(e,i)),"data"in s&&n(0,o=s.data),"sourcePosition"in s&&n(1,r=s.sourcePosition)},[o,r]}class Nh extends fe{constructor(e){super(),ce(this,e,Ih,zh,he,{data:0,sourcePosition:1})}}function Dh(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new ft({props:{type:"target",position:t[1]??ye.Top}}),{c(){n=Ve(e),i=pe(),ne(o.$$.fragment)},l(l){n=Re(l,e),i=ve(l),se(o.$$.fragment,l)},m(l,a){Q(l,n,a),Q(l,i,a),ie(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&bt(n,e);const u={};a&2&&(u.position=l[1]??ye.Top),o.$set(u)},i(l){r||(H(o.$$.fragment,l),r=!0)},o(l){X(o.$$.fragment,l),r=!1},d(l){l&&(v(n),v(i)),oe(o,l)}}}function Lh(t,e,n){const i=["data","targetPosition"];Ae(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e;return t.$$set=s=>{e=Me(Me({},e),ot(s)),n(2,Ae(e,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,r=s.targetPosition)},[o,r]}class Th extends fe{constructor(e){super(),ce(this,e,Lh,Dh,he,{data:0,targetPosition:1})}}function Ah(t,e,n){const i=[];return Ae(e,i),t.$$set=o=>{e=Me(Me({},e),ot(o)),n(0,Ae(e,i))},[]}class Hh extends fe{constructor(e){super(),ce(this,e,Ah,null,he,{})}}function br(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function Fh(t,{target:e,domNode:n}){return br(t,n,e),{async update({target:i,domNode:o}){br(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function Vh(t){let e,n,i,o,r;const s=t[3].default,l=qe(s,t,t[2],null);return{c(){e=Se("div"),l&&l.c()},l(a){e=Ce(a,"DIV",{});var u=F(e);l&&l.l(u),u.forEach(v)},m(a,u){Q(a,e,u),l&&l.m(e,null),i=!0,o||(r=Ue(n=Fh.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){l&&l.p&&(!i||u&4)&&Qe(l,s,a,a[2],i?Je(s,a[2],u,null):je(a[2]),null),n&&Fe(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(H(l,a),i=!0)},o(a){X(l,a),i=!1},d(a){a&&v(e),l&&l.d(a),o=!1,r()}}}function Rh(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{domNode:s}=We();return te(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Wh extends fe{constructor(e){super(),ce(this,e,Rh,Vh,he,{})}}function vs(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:r,elementsSelectable:s}=We();return l=>{const a=G(t).get(l);if(!a){console.warn("012",Nn.error012(l));return}(a.selectable||G(s)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&G(i)&&r({nodes:[],edges:[a]}):o([l]))}}function Bh(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,r,s;const l=t[5].default,a=qe(l,t,t[7],null);return{c(){e=Se("div"),a&&a.c(),this.h()},l(u){e=Ce(u,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var f=F(e);a&&a.l(f),f.forEach(v),this.h()},h(){y(e,"class","svelte-flow__edge-label"),y(e,"style",n="pointer-events: all;"+t[0]),y(e,"role","button"),y(e,"tabindex","-1"),le(e,"transform",i)},m(u,f){Q(u,e,f),a&&a.m(e,null),o=!0,r||(s=[Oe(e,"keyup",Yh),Oe(e,"click",t[6])],r=!0)},p(u,f){a&&a.p&&(!o||f&128)&&Qe(a,l,u,u[7],o?Je(l,u[7],f,null):je(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&y(e,"style",n);const d=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||d)&&le(e,"transform",i)},i(u){o||(H(a,u),o=!0)},o(u){X(a,u),o=!1},d(u){u&&v(e),a&&a.d(u),r=!1,st(s)}}}function Xh(t){let e,n;return e=new Wh({props:{$$slots:{default:[Bh]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const r={};o&135&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}const Yh=()=>{};function Kh(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:r=void 0}=e,{x:s=void 0}=e,{y:l=void 0}=e;const a=vs(),u=Jn("svelteflow__edge_id"),f=()=>{u&&a(u)};return t.$$set=d=>{"style"in d&&n(0,r=d.style),"x"in d&&n(1,s=d.x),"y"in d&&n(2,l=d.y),"$$scope"in d&&n(7,o=d.$$scope)},[r,s,l,a,u,i,f,o]}class Zh extends fe{constructor(e){super(),ce(this,e,Kh,Xh,he,{style:0,x:1,y:2})}}function Gh(t){let e;return{c(){e=U("path"),this.h()},l(n){e=q(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),F(e).forEach(v),this.h()},h(){y(e,"d",t[1]),y(e,"stroke-opacity",0),y(e,"stroke-width",t[10]),y(e,"fill","none"),y(e,"class","svelte-flow__edge-interaction")},m(n,i){Q(n,e,i)},p(n,i){i&2&&y(e,"d",n[1])},d(n){n&&v(e)}}}function kr(t){let e,n;return e=new Zh({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[Uh]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const r={};o&8&&(r.x=i[3]),o&16&&(r.y=i[4]),o&32&&(r.style=i[5]),o&4100&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Uh(t){let e;return{c(){e=Ve(t[2])},l(n){e=Re(n,t[2])},m(n,i){Q(n,e,i)},p(n,i){i&4&&bt(e,n[2])},d(n){n&&v(e)}}}function qh(t){let e,n,i,o,r,s,l=t[10]&&Gh(t),a=t[2]&&kr(t);return{c(){e=U("path"),i=pe(),l&&l.c(),o=pe(),a&&a.c(),r=Ie(),this.h()},l(u){e=q(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),F(e).forEach(v),i=ve(u),l&&l.l(u),o=ve(u),a&&a.l(u),r=Ie(),this.h()},h(){y(e,"id",t[0]),y(e,"d",t[1]),y(e,"class",n=Ne(["svelte-flow__edge-path",t[9]])),y(e,"marker-start",t[6]),y(e,"marker-end",t[7]),y(e,"fill","none"),y(e,"style",t[8])},m(u,f){Q(u,e,f),Q(u,i,f),l&&l.m(u,f),Q(u,o,f),a&&a.m(u,f),Q(u,r,f),s=!0},p(u,[f]){(!s||f&1)&&y(e,"id",u[0]),(!s||f&2)&&y(e,"d",u[1]),(!s||f&512&&n!==(n=Ne(["svelte-flow__edge-path",u[9]])))&&y(e,"class",n),(!s||f&64)&&y(e,"marker-start",u[6]),(!s||f&128)&&y(e,"marker-end",u[7]),(!s||f&256)&&y(e,"style",u[8]),u[10]&&l.p(u,f),u[2]?a?(a.p(u,f),f&4&&H(a,1)):(a=kr(u),a.c(),H(a,1),a.m(r.parentNode,r)):a&&(Le(),X(a,1,1,()=>{a=null}),Te())},i(u){s||(H(a),s=!0)},o(u){X(a),s=!1},d(u){u&&(v(e),v(i),v(o),v(r)),l&&l.d(u),a&&a.d(u)}}}function Qh(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:r=void 0}=e,{labelX:s=void 0}=e,{labelY:l=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:f=void 0}=e,{style:d=void 0}=e,{interactionWidth:c=20}=e,{class:h=void 0}=e,_=c===void 0?20:c;return t.$$set=m=>{"id"in m&&n(0,i=m.id),"path"in m&&n(1,o=m.path),"label"in m&&n(2,r=m.label),"labelX"in m&&n(3,s=m.labelX),"labelY"in m&&n(4,l=m.labelY),"labelStyle"in m&&n(5,a=m.labelStyle),"markerStart"in m&&n(6,u=m.markerStart),"markerEnd"in m&&n(7,f=m.markerEnd),"style"in m&&n(8,d=m.style),"interactionWidth"in m&&n(11,c=m.interactionWidth),"class"in m&&n(9,h=m.class)},[i,o,r,s,l,a,u,f,d,h,_,c]}class zi extends fe{constructor(e){super(),ce(this,e,Qh,qh,he,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function jh(t){let e,n;return e=new zi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Jh(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ae(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:_}=e,{sourcePosition:m}=e,{targetX:w}=e,{targetY:g}=e,{targetPosition:E}=e;return t.$$set=b=>{e=Me(Me({},e),ot(b)),n(15,Ae(e,s)),"label"in b&&n(0,l=b.label),"labelStyle"in b&&n(1,a=b.labelStyle),"style"in b&&n(2,u=b.style),"markerStart"in b&&n(3,f=b.markerStart),"markerEnd"in b&&n(4,d=b.markerEnd),"interactionWidth"in b&&n(5,c=b.interactionWidth),"sourceX"in b&&n(9,h=b.sourceX),"sourceY"in b&&n(10,_=b.sourceY),"sourcePosition"in b&&n(11,m=b.sourcePosition),"targetX"in b&&n(12,w=b.targetX),"targetY"in b&&n(13,g=b.targetY),"targetPosition"in b&&n(14,E=b.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=as({sourceX:h,sourceY:_,targetX:w,targetY:g,sourcePosition:m,targetPosition:E}),i,(n(7,o),n(9,h),n(10,_),n(12,w),n(13,g),n(11,m),n(14,E)),(n(6,r),n(9,h),n(10,_),n(12,w),n(13,g),n(11,m),n(14,E)))},[l,a,u,f,d,c,r,o,i,h,_,m,w,g,E]}class Es extends fe{constructor(e){super(),ce(this,e,Jh,jh,he,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function xh(t){let e,n;return e=new zi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function $h(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ae(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:_}=e,{sourcePosition:m}=e,{targetX:w}=e,{targetY:g}=e,{targetPosition:E}=e;return t.$$set=b=>{e=Me(Me({},e),ot(b)),n(15,Ae(e,s)),"label"in b&&n(0,l=b.label),"labelStyle"in b&&n(1,a=b.labelStyle),"style"in b&&n(2,u=b.style),"markerStart"in b&&n(3,f=b.markerStart),"markerEnd"in b&&n(4,d=b.markerEnd),"interactionWidth"in b&&n(5,c=b.interactionWidth),"sourceX"in b&&n(9,h=b.sourceX),"sourceY"in b&&n(10,_=b.sourceY),"sourcePosition"in b&&n(11,m=b.sourcePosition),"targetX"in b&&n(12,w=b.targetX),"targetY"in b&&n(13,g=b.targetY),"targetPosition"in b&&n(14,E=b.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=gi({sourceX:h,sourceY:_,targetX:w,targetY:g,sourcePosition:m,targetPosition:E}),i,(n(7,o),n(9,h),n(10,_),n(12,w),n(13,g),n(11,m),n(14,E)),(n(6,r),n(9,h),n(10,_),n(12,w),n(13,g),n(11,m),n(14,E)))},[l,a,u,f,d,c,r,o,i,h,_,m,w,g,E]}class eg extends fe{constructor(e){super(),ce(this,e,$h,xh,he,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function tg(t){let e,n;return e=new zi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function ng(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];Ae(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:_}=e,{targetX:m}=e,{targetY:w}=e;return t.$$set=g=>{e=Me(Me({},e),ot(g)),n(13,Ae(e,s)),"label"in g&&n(0,l=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,d=g.markerEnd),"interactionWidth"in g&&n(5,c=g.interactionWidth),"sourceX"in g&&n(9,h=g.sourceX),"sourceY"in g&&n(10,_=g.sourceY),"targetX"in g&&n(11,m=g.targetX),"targetY"in g&&n(12,w=g.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,r]=fs({sourceX:h,sourceY:_,targetX:m,targetY:w}),i,(n(7,o),n(9,h),n(10,_),n(11,m),n(12,w)),(n(6,r),n(9,h),n(10,_),n(11,m),n(12,w)))},[l,a,u,f,d,c,r,o,i,h,_,m,w]}class ig extends fe{constructor(e){super(),ce(this,e,ng,tg,he,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function og(t){let e,n;return e=new zi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function rg(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ae(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:_}=e,{sourcePosition:m}=e,{targetX:w}=e,{targetY:g}=e,{targetPosition:E}=e;return t.$$set=b=>{e=Me(Me({},e),ot(b)),n(15,Ae(e,s)),"label"in b&&n(0,l=b.label),"labelStyle"in b&&n(1,a=b.labelStyle),"style"in b&&n(2,u=b.style),"markerStart"in b&&n(3,f=b.markerStart),"markerEnd"in b&&n(4,d=b.markerEnd),"interactionWidth"in b&&n(5,c=b.interactionWidth),"sourceX"in b&&n(9,h=b.sourceX),"sourceY"in b&&n(10,_=b.sourceY),"sourcePosition"in b&&n(11,m=b.sourcePosition),"targetX"in b&&n(12,w=b.targetX),"targetY"in b&&n(13,g=b.targetY),"targetPosition"in b&&n(14,E=b.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=gi({sourceX:h,sourceY:_,targetX:w,targetY:g,sourcePosition:m,targetPosition:E,borderRadius:0}),i,(n(7,o),n(9,h),n(10,_),n(12,w),n(13,g),n(11,m),n(14,E)),(n(6,r),n(9,h),n(10,_),n(12,w),n(13,g),n(11,m),n(14,E)))},[l,a,u,f,d,c,r,o,i,h,_,m,w,g,E]}class lg extends fe{constructor(e){super(),ce(this,e,rg,og,he,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function sg(t,e){const n=t.set,i=e.set,o=G(t),r=G(e);let l=o.length===0&&r.length>0?r:o;t.set(l);const a=u=>{const f=n(u);return l=f,i(l),f};t.set=e.set=a,t.update=e.update=u=>a(u(l))}function ag(t,e){const n=t.set,i=e.set;let o=G(e);t.set(o);const r=s=>{n(s),i(s),o=s};t.set=e.set=r,t.update=e.update=s=>r(s(o))}const ug=(t,e,n)=>{if(!n)return;const i=G(t),o=e.set,r=n.set;let s=n?G(n):{x:0,y:0,zoom:1};e.set(s),e.set=l=>(o(l),r(l),s=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),r(l),s=l,l),e.update=l=>{e.set(l(s))},n.update=l=>{n.set(l(s))}},fg=(t,e,n,i=[0,0],o=ui)=>{const{subscribe:r,set:s,update:l}=de([]);let a=t,u={},f=!0;const d=m=>(cs(m,e,n,{elevateNodesOnSelect:f,nodeOrigin:i,nodeExtent:o,defaults:u,checkEquality:!1}),a=m,s(a),a),c=m=>d(m(a)),h=m=>{u=m},_=m=>{f=m.elevateNodesOnSelect??f};return d(a),{subscribe:r,set:d,update:c,setDefaultOptions:h,setOptions:_}},cg=(t,e,n,i)=>{const{subscribe:o,set:r,update:s}=de([]);let l=t,a={};const u=c=>{const h=a?c.map(_=>({...a,..._})):c;hs(e,n,h),l=h,r(l)},f=c=>u(c(l)),d=c=>{a=c};return u(l),{subscribe:o,set:u,update:f,setDefaultOptions:d}},Ss={input:Nh,output:Th,default:ps,group:Hh},Cs={straight:ig,smoothstep:eg,default:Es,step:lg},dg=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s})=>{const l=new Map,a=new Map,u=new Map,f=new Map,d=r??[0,0],c=s??ui;cs(t,l,a,{nodeExtent:c,nodeOrigin:d,elevateNodesOnSelect:!1,checkEquality:!1}),hs(u,f,e);let h={x:0,y:0,zoom:1};if(o&&n&&i){const _=Ln(l,{filter:m=>!!((m.width||m.initialWidth)&&(m.height||m.initialHeight))});h=Mi(_,n,i,.5,2,.1)}return{flowId:de(null),nodes:fg(t,l,a,d,c),nodeLookup:at(l),parentLookup:at(a),edgeLookup:at(f),visibleNodes:at([]),edges:cg(e,u,f),visibleEdges:at([]),connectionLookup:at(u),height:de(500),width:de(500),minZoom:de(.5),maxZoom:de(2),nodeOrigin:de(d),nodeDragThreshold:de(1),nodeExtent:de(c),translateExtent:de(ui),autoPanOnNodeDrag:de(!0),autoPanOnConnect:de(!0),fitViewOnInit:de(!1),fitViewOnInitDone:de(!1),fitViewOptions:de(void 0),panZoom:de(null),snapGrid:de(null),dragging:de(!1),selectionRect:de(null),selectionKeyPressed:de(!1),multiselectionKeyPressed:de(!1),deleteKeyPressed:de(!1),panActivationKeyPressed:de(!1),zoomActivationKeyPressed:de(!1),selectionRectMode:de(null),selectionMode:de(fi.Partial),nodeTypes:de(Ss),edgeTypes:de(Cs),viewport:de(h),connectionMode:de(Kt.Strict),domNode:de(null),connection:at(io),connectionLineType:de(on.Bezier),connectionRadius:de(20),isValidConnection:de(()=>!0),nodesDraggable:de(!0),nodesConnectable:de(!0),elementsSelectable:de(!0),selectNodesOnDrag:de(!0),markers:at([]),defaultMarkerColor:de("#b1b1b7"),lib:at("svelte"),onlyRenderVisibleElements:de(!1),onerror:de(Rd),ondelete:de(void 0),onedgecreate:de(void 0),onconnect:de(void 0),onconnectstart:de(void 0),onconnectend:de(void 0),onbeforedelete:de(void 0),nodesInitialized:de(!1),edgesInitialized:de(!1),viewportInitialized:de(!1),initialized:at(!1)}};function hg(t){const e=en([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,r,s,l])=>o&&s&&l?n.filter(u=>{const f=i.get(u.source),d=i.get(u.target);return f&&d&&Gd({sourceNode:f,targetNode:d,width:s,height:l,transform:[r.x,r.y,r.zoom]})}):n);return en([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,r])=>n.reduce((l,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return l;const d=$d({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:r});return d&&l.push({...a,zIndex:Zd({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...d}),l},[]))}function gg(t){return en([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,r])=>{const s=[r.x,r.y,r.zoom];return n?ts(e,{x:0,y:0,width:i,height:o},s,!0):Array.from(e.values())})}const Ii=Symbol();function Ps({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=dg({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});function a(p){l.nodeTypes.set({...Ss,...p})}function u(p){l.edgeTypes.set({...Cs,...p})}function f(p){const M=G(l.edges);l.edges.set(Qd(p,M))}const d=(p,M=!1)=>{var T;const L=G(l.nodeLookup);for(const[Z,j]of p){const $=(T=L.get(Z))==null?void 0:T.internals.userNode;$&&($.position=j.position,$.dragging=M)}l.nodes.update(Z=>Z)};function c(p){var j,$,ee;const M=G(l.nodeLookup),L=G(l.parentLookup),{changes:T,updatedInternals:Z}=lh(p,M,G(l.parentLookup),G(l.domNode),G(l.nodeOrigin));if(Z){if(nh(M,L,{nodeOrigin:r,nodeExtent:s}),!G(l.fitViewOnInitDone)&&G(l.fitViewOnInit)){const K=G(l.fitViewOptions),re=_({...K,nodes:K==null?void 0:K.nodes});l.fitViewOnInitDone.set(re)}for(const K of T){const re=(j=M.get(K.id))==null?void 0:j.internals.userNode;if(re)switch(K.type){case"dimensions":{const ge={...re.measured,...K.dimensions};K.setAttributes&&(re.width=(($=K.dimensions)==null?void 0:$.width)??re.width,re.height=((ee=K.dimensions)==null?void 0:ee.height)??re.height),re.measured=ge;break}case"position":re.position=K.position??re.position;break}}l.nodes.update(K=>K),G(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function h(p){const M=G(l.panZoom),L=G(l.domNode);if(!M||!L)return Promise.resolve(!1);const{width:T,height:Z}=bo(L),j=lr(G(l.nodeLookup),p);return sr({nodes:j,width:T,height:Z,minZoom:G(l.minZoom),maxZoom:G(l.maxZoom),panZoom:M},p)}function _(p){const M=G(l.panZoom);if(!M)return!1;const L=lr(G(l.nodeLookup),p);return sr({nodes:L,width:G(l.width),height:G(l.height),minZoom:G(l.minZoom),maxZoom:G(l.maxZoom),panZoom:M},p),L.size>0}function m(p,M){const L=G(l.panZoom);return L?L.scaleBy(p,M):Promise.resolve(!1)}function w(p){return m(1.2,p)}function g(p){return m(1/1.2,p)}function E(p){const M=G(l.panZoom);M&&(M.setScaleExtent([p,G(l.maxZoom)]),l.minZoom.set(p))}function b(p){const M=G(l.panZoom);M&&(M.setScaleExtent([G(l.minZoom),p]),l.maxZoom.set(p))}function S(p){const M=G(l.panZoom);M&&(M.setTranslateExtent(p),l.translateExtent.set(p))}function C(p){let M=!1;return p.forEach(L=>{L.selected&&(L.selected=!1,M=!0)}),M}function O(p){var M;(M=G(l.panZoom))==null||M.setClickDistance(p)}function P(p){C((p==null?void 0:p.nodes)||G(l.nodes))&&l.nodes.set(G(l.nodes)),C((p==null?void 0:p.edges)||G(l.edges))&&l.edges.set(G(l.edges))}l.deleteKeyPressed.subscribe(async p=>{var M;if(p){const L=G(l.nodes),T=G(l.edges),Z=L.filter(K=>K.selected),j=T.filter(K=>K.selected),{nodes:$,edges:ee}=await ns({nodesToRemove:Z,edgesToRemove:j,nodes:L,edges:T,onBeforeDelete:G(l.onbeforedelete)});($.length||ee.length)&&(l.nodes.update(K=>K.filter(re=>!$.some(ge=>ge.id===re.id))),l.edges.update(K=>K.filter(re=>!ee.some(ge=>ge.id===re.id))),(M=G(l.ondelete))==null||M({nodes:$,edges:ee}))}});function z(p){const M=G(l.multiselectionKeyPressed);l.nodes.update(L=>L.map(T=>{const Z=p.includes(T.id),j=M&&T.selected||Z;return T.selected=j,T})),M||l.edges.update(L=>L.map(T=>(T.selected=!1,T)))}function I(p){const M=G(l.multiselectionKeyPressed);l.edges.update(L=>L.map(T=>{const Z=p.includes(T.id),j=M&&T.selected||Z;return T.selected=j,T})),M||l.nodes.update(L=>L.map(T=>(T.selected=!1,T)))}function R(p){var L;const M=(L=G(l.nodes))==null?void 0:L.find(T=>T.id===p);if(!M){console.warn("012",Nn.error012(p));return}l.selectionRect.set(null),l.selectionRectMode.set(null),M.selected?M.selected&&G(l.multiselectionKeyPressed)&&P({nodes:[M],edges:[]}):z([p])}function N(p){const M=G(l.viewport);return sh({delta:p,panZoom:G(l.panZoom),transform:[M.x,M.y,M.zoom],translateExtent:G(l.translateExtent),width:G(l.width),height:G(l.height)})}const A=de(io),W=p=>{A.set({...p})};function k(){A.set(io)}function V(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),P(),k()}return{...l,visibleEdges:hg(l),visibleNodes:gg(l),connection:en([A,l.viewport],([p,M])=>p.inProgress?{...p,to:Tn(p.to,[M.x,M.y,M.zoom])}:{...p}),markers:en([l.edges,l.defaultMarkerColor,l.flowId],([p,M,L])=>eh(p,{defaultColor:M,id:L})),initialized:(()=>{let p=!1;const M=G(l.nodes).length,L=G(l.edges).length;return en([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([T,Z,j])=>p||(M===0?p=j:L===0?p=j&&T:p=j&&T&&Z,p))})(),syncNodeStores:p=>sg(l.nodes,p),syncEdgeStores:p=>ag(l.edges,p),syncViewport:p=>ug(l.panZoom,l.viewport,p),setNodeTypes:a,setEdgeTypes:u,addEdge:f,updateNodePositions:d,updateNodeInternals:c,zoomIn:w,zoomOut:g,fitView:p=>h(p),setMinZoom:E,setMaxZoom:b,setTranslateExtent:S,setPaneClickDistance:O,unselectNodesAndEdges:P,addSelectedNodes:z,addSelectedEdges:I,handleNodeSelection:R,panBy:N,updateConnection:W,cancelConnection:k,reset:V}}function We(){const t=Jn(Ii);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function mg({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=Ps({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});return kn(Ii,{getStore:()=>l}),l}function yg(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:s,dragging:l,translateExtent:a,paneClickDistance:u}=e,f=Sh({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:r,paneClickDistance:u,onDraggingChange:l.set}),d=f.getViewport();return s.set(d),n.set(f),f.update(e),{update(c){f.update(c)}}}function _g(t){let e,n,i,o,r;const s=t[35].default,l=qe(s,t,t[34],null);return{c(){e=Se("div"),l&&l.c(),this.h()},l(a){e=Ce(a,"DIV",{class:!0});var u=F(e);l&&l.l(u),u.forEach(v),this.h()},h(){y(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){Q(a,e,u),l&&l.m(e,null),i=!0,o||(r=Ue(n=yg.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||wt.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8],onTransformChange:t[29]})),o=!0)},p(a,u){l&&l.p&&(!i||u[1]&8)&&Qe(l,s,a,a[34],i?Je(s,a[34],u,null):je(a[34]),null),n&&Fe(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||wt.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8],onTransformChange:a[29]})},i(a){i||(H(l,a),i=!0)},o(a){X(l,a),i=!1},d(a){a&&v(e),l&&l.d(a),o=!1,r()}}}function wg(t,e,n){let i,o,r,s,l,a,u,f,d,c,h,{$$slots:_={},$$scope:m}=e,{initialViewport:w=void 0}=e,{onMoveStart:g=void 0}=e,{onMove:E=void 0}=e,{onMoveEnd:b=void 0}=e,{panOnScrollMode:S}=e,{preventScrolling:C}=e,{zoomOnScroll:O}=e,{zoomOnDoubleClick:P}=e,{zoomOnPinch:z}=e,{panOnDrag:I}=e,{panOnScroll:R}=e,{paneClickDistance:N}=e;const{viewport:A,panZoom:W,selectionRect:k,minZoom:V,maxZoom:p,dragging:M,translateExtent:L,lib:T,panActivationKeyPressed:Z,zoomActivationKeyPressed:j,viewportInitialized:$}=We();te(t,k,K=>n(15,d=K)),te(t,V,K=>n(12,a=K)),te(t,p,K=>n(13,u=K)),te(t,L,K=>n(16,c=K)),te(t,T,K=>n(17,h=K)),te(t,Z,K=>n(33,l=K)),te(t,j,K=>n(14,f=K)),te(t,$,K=>n(36,s=K));const ee=K=>A.set({x:K[0],y:K[1],zoom:K[2]});return On(()=>{xn($,s=!0,s)}),t.$$set=K=>{"initialViewport"in K&&n(30,w=K.initialViewport),"onMoveStart"in K&&n(0,g=K.onMoveStart),"onMove"in K&&n(1,E=K.onMove),"onMoveEnd"in K&&n(2,b=K.onMoveEnd),"panOnScrollMode"in K&&n(3,S=K.panOnScrollMode),"preventScrolling"in K&&n(4,C=K.preventScrolling),"zoomOnScroll"in K&&n(5,O=K.zoomOnScroll),"zoomOnDoubleClick"in K&&n(6,P=K.zoomOnDoubleClick),"zoomOnPinch"in K&&n(7,z=K.zoomOnPinch),"panOnDrag"in K&&n(31,I=K.panOnDrag),"panOnScroll"in K&&n(32,R=K.panOnScroll),"paneClickDistance"in K&&n(8,N=K.paneClickDistance),"$$scope"in K&&n(34,m=K.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&n(11,i=w||{x:0,y:0,zoom:1}),t.$$.dirty[1]&5&&n(10,o=l||I),t.$$.dirty[1]&6&&n(9,r=l||R)},[g,E,b,S,C,O,P,z,N,r,o,i,a,u,f,d,c,h,A,W,k,V,p,M,L,T,Z,j,$,ee,w,I,R,l,m,_]}class bg extends fe{constructor(e){super(),ce(this,e,wg,_g,he,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}function kg(t){let e,n,i,o;const r=t[28].default,s=qe(r,t,t[27],null);return{c(){e=Se("div"),s&&s.c(),this.h()},l(l){e=Ce(l,"DIV",{class:!0});var a=F(e);s&&s.l(a),a.forEach(v),this.h()},h(){y(e,"class","svelte-flow__pane svelte-1esy7hx"),we(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),we(e,"dragging",t[4]),we(e,"selection",t[1])},m(l,a){Q(l,e,a),s&&s.m(e,null),t[29](e),n=!0,i||(o=[Oe(e,"click",function(){Fe(t[3]?void 0:Kn(t[15],t[2]))&&(t[3]?void 0:Kn(t[15],t[2])).apply(this,arguments)}),Oe(e,"pointerdown",function(){Fe(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),Oe(e,"pointermove",function(){Fe(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),Oe(e,"pointerup",function(){Fe(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),Oe(e,"contextmenu",function(){Fe(Kn(t[19],t[2]))&&Kn(t[19],t[2]).apply(this,arguments)})],i=!0)},p(l,a){t=l,s&&s.p&&(!n||a[0]&134217728)&&Qe(s,r,t,t[27],n?Je(r,t[27],a,null):je(t[27]),null),(!n||a[0]&1)&&we(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),(!n||a[0]&16)&&we(e,"dragging",t[4]),(!n||a[0]&2)&&we(e,"selection",t[1])},i(l){n||(H(s,l),n=!0)},o(l){X(s,l),n=!1},d(l){l&&v(e),s&&s.d(l),t[29](null),i=!1,st(o)}}}function Kn(t,e){return n=>{n.target===e&&(t==null||t(n))}}function pr(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function pg(t,e,n){let i,o,r,s,l,a,u,f,d,c,h,_,m,{$$slots:w={},$$scope:g}=e,{panOnDrag:E=void 0}=e,{selectionOnDrag:b=void 0}=e;const S=Gt(),{nodes:C,nodeLookup:O,edges:P,viewport:z,dragging:I,elementsSelectable:R,selectionRect:N,selectionRectMode:A,selectionKeyPressed:W,selectionMode:k,panActivationKeyPressed:V,unselectNodesAndEdges:p}=We();te(t,O,Y=>n(36,d=Y)),te(t,P,Y=>n(33,a=Y)),te(t,z,Y=>n(35,f=Y)),te(t,I,Y=>n(4,m=Y)),te(t,R,Y=>n(25,h=Y)),te(t,N,Y=>n(24,c=Y)),te(t,A,Y=>n(23,l=Y)),te(t,W,Y=>n(22,s=Y)),te(t,k,Y=>n(34,u=Y)),te(t,V,Y=>n(26,_=Y));let M,L=null,T=[],Z=!1;function j(Y){if(Z){Z=!1;return}S("paneclick",{event:Y}),p(),A.set(null)}function $(Y){var ke,Ee;if(L=M.getBoundingClientRect(),!R||!o||Y.button!==0||Y.target!==M||!L)return;(Ee=(ke=Y.target)==null?void 0:ke.setPointerCapture)==null||Ee.call(ke,Y.pointerId);const{x:me,y:_e}=Ot(Y,L);p(),N.set({width:0,height:0,startX:me,startY:_e,x:me,y:_e})}function ee(Y){if(!o||!L||!c)return;Z=!0;const me=Ot(Y,L),_e=c.startX??0,ke=c.startY??0,Ee={...c,x:me.x<_e?me.x:_e,y:me.y<ke?me.y:ke,width:Math.abs(me.x-_e),height:Math.abs(me.y-ke)},Pe=T.map(De=>De.id),He=oo(T,a).map(De=>De.id);T=ts(d,Ee,[f.x,f.y,f.zoom],u===fi.Partial,!0);const J=oo(T,a).map(De=>De.id),Be=T.map(De=>De.id);(Pe.length!==Be.length||Be.some(De=>!Pe.includes(De)))&&C.update(De=>De.map(pr(Be))),(He.length!==J.length||J.some(De=>!He.includes(De)))&&P.update(De=>De.map(pr(J))),A.set("user"),N.set(Ee)}function K(Y){var me,_e;Y.button===0&&((_e=(me=Y.target)==null?void 0:me.releasePointerCapture)==null||_e.call(me,Y.pointerId),!o&&l==="user"&&Y.target===M&&(j==null||j(Y)),N.set(null),T.length>0&&xn(A,l="nodes",l),s&&(Z=!1))}const re=Y=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){Y.preventDefault();return}S("panecontextmenu",{event:Y})};function ge(Y){ht[Y?"unshift":"push"](()=>{M=Y,n(2,M)})}return t.$$set=Y=>{"panOnDrag"in Y&&n(0,E=Y.panOnDrag),"selectionOnDrag"in Y&&n(20,b=Y.selectionOnDrag),"$$scope"in Y&&n(27,g=Y.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=_||E),t.$$.dirty[0]&24117248&&n(1,o=s||c||b&&i!==!0),t.$$.dirty[0]&41943042&&n(3,r=h&&(o||l==="user"))},[E,o,M,r,m,O,P,z,I,R,N,A,W,k,V,j,$,ee,K,re,b,i,s,l,c,h,_,g,w,ge]}class vg extends fe{constructor(e){super(),ce(this,e,pg,kg,he,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}function Eg(t){let e,n;const i=t[3].default,o=qe(i,t,t[2],null);return{c(){e=Se("div"),o&&o.c(),this.h()},l(r){e=Ce(r,"DIV",{class:!0,style:!0});var s=F(e);o&&o.l(s),s.forEach(v),this.h()},h(){y(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),le(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(r,s){Q(r,e,s),o&&o.m(e,null),n=!0},p(r,[s]){o&&o.p&&(!n||s&4)&&Qe(o,i,r,r[2],n?Je(i,r[2],s,null):je(r[2]),null),(!n||s&1)&&le(e,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(H(o,r),n=!0)},o(r){X(o,r),n=!1},d(r){r&&v(e),o&&o.d(r)}}}function Sg(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{viewport:s}=We();return te(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Cg extends fe{constructor(e){super(),ce(this,e,Sg,Eg,he,{})}}function Ms(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s}=e,l=uh({onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s,getStoreItems:()=>{const u=G(n.snapGrid),f=G(n.viewport);return{nodes:G(n.nodes),nodeLookup:G(n.nodeLookup),edges:G(n.edges),nodeExtent:G(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:G(n.nodeOrigin),multiSelectionActive:G(n.multiselectionKeyPressed),domNode:G(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:G(n.autoPanOnNodeDrag),nodesDraggable:G(n.nodesDraggable),selectNodesOnDrag:G(n.selectNodesOnDrag),nodeDragThreshold:G(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){l.destroy();return}l.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(t,e),{update(u){a(t,u)},destroy(){l.destroy()}}}function Pg({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:r}){if(o===void 0&&r===void 0){const s=t??n,l=e??i;return{width:s?`width:${s}px;`:"",height:l?`height:${l}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function vr(t){let e,n,i,o,r,s=`translate(${t[12]}px, ${t[13]}px)`,l,a,u;var f=t[27];function d(c,h){return{props:{data:c[2],id:c[1],selected:c[3],selectable:c[5],deletable:c[7],sourcePosition:c[14],targetPosition:c[15],zIndex:c[16],dragging:c[9],draggable:c[4],dragHandle:c[19],parentId:c[21],type:c[25],isConnectable:c[28],positionAbsoluteX:c[12],positionAbsoluteY:c[13],width:c[17],height:c[18]}}}return f&&(n=$n(f,d(t))),{c(){e=Se("div"),n&&ne(n.$$.fragment),this.h()},l(c){e=Ce(c,"DIV",{"data-id":!0,class:!0,style:!0});var h=F(e);n&&se(n.$$.fragment,h),h.forEach(v),this.h()},h(){y(e,"data-id",t[1]),y(e,"class",i=Ne(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),y(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),we(e,"dragging",t[9]),we(e,"selected",t[3]),we(e,"draggable",t[4]),we(e,"connectable",t[6]),we(e,"selectable",t[5]),we(e,"nopan",t[4]),we(e,"parent",t[11]),le(e,"z-index",t[16]),le(e,"transform",s),le(e,"visibility",t[20]?"visible":"hidden")},m(c,h){Q(c,e,h),n&&ie(n,e,null),t[50](e),l=!0,a||(u=[Ue(r=Ms.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[31],onDrag:t[47],onDragStart:t[48],onDragStop:t[49],store:t[29]})),Oe(e,"click",t[34]),Oe(e,"mouseenter",t[51]),Oe(e,"mouseleave",t[52]),Oe(e,"mousemove",t[53]),Oe(e,"contextmenu",t[54])],a=!0)},p(c,h){if(h[0]&134217728&&f!==(f=c[27])){if(n){Le();const m=n;X(m.$$.fragment,1,0,()=>{oe(m,1)}),Te()}f?(n=$n(f,d(c)),ne(n.$$.fragment),H(n.$$.fragment,1),ie(n,e,null)):n=null}else if(f){const m={};h[0]&4&&(m.data=c[2]),h[0]&2&&(m.id=c[1]),h[0]&8&&(m.selected=c[3]),h[0]&32&&(m.selectable=c[5]),h[0]&128&&(m.deletable=c[7]),h[0]&16384&&(m.sourcePosition=c[14]),h[0]&32768&&(m.targetPosition=c[15]),h[0]&65536&&(m.zIndex=c[16]),h[0]&512&&(m.dragging=c[9]),h[0]&16&&(m.draggable=c[4]),h[0]&524288&&(m.dragHandle=c[19]),h[0]&2097152&&(m.parentId=c[21]),h[0]&33554432&&(m.type=c[25]),h[0]&268435456&&(m.isConnectable=c[28]),h[0]&4096&&(m.positionAbsoluteX=c[12]),h[0]&8192&&(m.positionAbsoluteY=c[13]),h[0]&131072&&(m.width=c[17]),h[0]&262144&&(m.height=c[18]),n.$set(m)}(!l||h[0]&2)&&y(e,"data-id",c[1]),(!l||h[0]&41943040&&i!==(i=Ne(["svelte-flow__node",`svelte-flow__node-${c[25]}`,c[23]])))&&y(e,"class",i),(!l||h[0]&67109888&&o!==(o=(c[10]??"")+";"+c[26].width+c[26].height))&&y(e,"style",o),r&&Fe(r.update)&&h[0]&4718626&&r.update.call(null,{nodeId:c[1],isSelectable:c[5],disabled:!1,handleSelector:c[19],noDragClass:"nodrag",nodeClickDistance:c[22],onNodeMouseDown:c[31],onDrag:c[47],onDragStart:c[48],onDragStop:c[49],store:c[29]}),(!l||h[0]&41943552)&&we(e,"dragging",c[9]),(!l||h[0]&41943048)&&we(e,"selected",c[3]),(!l||h[0]&41943056)&&we(e,"draggable",c[4]),(!l||h[0]&41943104)&&we(e,"connectable",c[6]),(!l||h[0]&41943072)&&we(e,"selectable",c[5]),(!l||h[0]&41943056)&&we(e,"nopan",c[4]),(!l||h[0]&41945088)&&we(e,"parent",c[11]);const _=h[0]&67109888;(h[0]&67175424||_)&&le(e,"z-index",c[16]),(h[0]&67122176&&s!==(s=`translate(${c[12]}px, ${c[13]}px)`)||_)&&le(e,"transform",s),(h[0]&68158464||_)&&le(e,"visibility",c[20]?"visible":"hidden")},i(c){l||(n&&H(n.$$.fragment,c),l=!0)},o(c){n&&X(n.$$.fragment,c),l=!1},d(c){c&&v(e),n&&oe(n),t[50](null),a=!1,st(u)}}}function Mg(t){let e,n,i=!t[8]&&vr(t);return{c(){i&&i.c(),e=Ie()},l(o){i&&i.l(o),e=Ie()},m(o,r){i&&i.m(o,r),Q(o,e,r),n=!0},p(o,r){o[8]?i&&(Le(),X(i,1,1,()=>{i=null}),Te()):i?(i.p(o,r),r[0]&256&&H(i,1)):(i=vr(o),i.c(),H(i,1),i.m(e.parentNode,e))},i(o){n||(H(i),n=!0)},o(o){X(i),n=!1},d(o){o&&v(e),i&&i.d(o)}}}function Og(t,e,n){let i,o,r,s,l,a,{node:u}=e,{id:f}=e,{data:d={}}=e,{selected:c=!1}=e,{draggable:h=void 0}=e,{selectable:_=void 0}=e,{connectable:m=!0}=e,{deletable:w=!0}=e,{hidden:g=!1}=e,{dragging:E=!1}=e,{resizeObserver:b=null}=e,{style:S=void 0}=e,{type:C="default"}=e,{isParent:O=!1}=e,{positionX:P}=e,{positionY:z}=e,{sourcePosition:I=void 0}=e,{targetPosition:R=void 0}=e,{zIndex:N}=e,{measuredWidth:A=void 0}=e,{measuredHeight:W=void 0}=e,{initialWidth:k=void 0}=e,{initialHeight:V=void 0}=e,{width:p=void 0}=e,{height:M=void 0}=e,{dragHandle:L=void 0}=e,{initialized:T=!1}=e,{parentId:Z=void 0}=e,{nodeClickDistance:j=void 0}=e,{class:$=""}=e;const ee=We(),{nodeTypes:K,nodeDragThreshold:re,selectNodesOnDrag:ge,handleNodeSelection:Y,updateNodeInternals:me}=ee;te(t,K,x=>n(46,l=x));let _e,ke=null;const Ee=Gt(),Pe=de(m);te(t,Pe,x=>n(28,a=x));let He,J,Be;kn("svelteflow__node_id",f),kn("svelteflow__node_connectable",Pe),yi(()=>{ke&&(b==null||b.unobserve(ke))});function De(x){_&&(!G(ge)||!h||G(re)>0)&&Y(f),Ee("nodeclick",{node:u.internals.userNode,event:x})}const It=(x,Lt,Ke,xe)=>{Ee("nodedrag",{event:x,targetNode:Ke,nodes:xe})},pt=(x,Lt,Ke,xe)=>{Ee("nodedragstart",{event:x,targetNode:Ke,nodes:xe})},vt=(x,Lt,Ke,xe)=>{Ee("nodedragstop",{event:x,targetNode:Ke,nodes:xe})};function Ye(x){ht[x?"unshift":"push"](()=>{_e=x,n(24,_e)})}const Et=x=>Ee("nodemouseenter",{node:u,event:x}),ue=x=>Ee("nodemouseleave",{node:u,event:x}),Nt=x=>Ee("nodemousemove",{node:u,event:x}),Dt=x=>Ee("nodecontextmenu",{node:u,event:x});return t.$$set=x=>{"node"in x&&n(0,u=x.node),"id"in x&&n(1,f=x.id),"data"in x&&n(2,d=x.data),"selected"in x&&n(3,c=x.selected),"draggable"in x&&n(4,h=x.draggable),"selectable"in x&&n(5,_=x.selectable),"connectable"in x&&n(6,m=x.connectable),"deletable"in x&&n(7,w=x.deletable),"hidden"in x&&n(8,g=x.hidden),"dragging"in x&&n(9,E=x.dragging),"resizeObserver"in x&&n(35,b=x.resizeObserver),"style"in x&&n(10,S=x.style),"type"in x&&n(36,C=x.type),"isParent"in x&&n(11,O=x.isParent),"positionX"in x&&n(12,P=x.positionX),"positionY"in x&&n(13,z=x.positionY),"sourcePosition"in x&&n(14,I=x.sourcePosition),"targetPosition"in x&&n(15,R=x.targetPosition),"zIndex"in x&&n(16,N=x.zIndex),"measuredWidth"in x&&n(37,A=x.measuredWidth),"measuredHeight"in x&&n(38,W=x.measuredHeight),"initialWidth"in x&&n(39,k=x.initialWidth),"initialHeight"in x&&n(40,V=x.initialHeight),"width"in x&&n(17,p=x.width),"height"in x&&n(18,M=x.height),"dragHandle"in x&&n(19,L=x.dragHandle),"initialized"in x&&n(20,T=x.initialized),"parentId"in x&&n(21,Z=x.parentId),"nodeClickDistance"in x&&n(22,j=x.nodeClickDistance),"class"in x&&n(23,$=x.class)},t.$$.update=()=>{t.$$.dirty[1]&32&&n(25,i=C||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&32768&&n(45,o=!!l[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&32768&&n(27,r=l[i]||ps),t.$$.dirty[1]&16416&&(o||console.warn("003",Nn.error003(C))),t.$$.dirty[0]&393216|t.$$.dirty[1]&960&&n(26,s=Pg({width:p,height:M,initialWidth:k,initialHeight:V,measuredWidth:A,measuredHeight:W})),t.$$.dirty[0]&64&&Pe.set(!!m),t.$$.dirty[0]&50380802|t.$$.dirty[1]&14336&&((He&&i!==He||J&&I!==J||Be&&R!==Be)&&requestAnimationFrame(()=>me(new Map([[f,{id:f,nodeElement:_e,force:!0}]]))),n(42,He=i),n(43,J=I),n(44,Be=R)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&1040&&b&&(_e!==ke||!T)&&(ke&&b.unobserve(ke),_e&&b.observe(_e),n(41,ke=_e))},[u,f,d,c,h,_,m,w,g,E,S,O,P,z,I,R,N,p,M,L,T,Z,j,$,_e,i,s,r,a,ee,K,Y,Ee,Pe,De,b,C,A,W,k,V,ke,He,J,Be,o,l,It,pt,vt,Ye,Et,ue,Nt,Dt]}class zg extends fe{constructor(e){super(),ce(this,e,Og,Mg,ml,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:35,style:10,type:36,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:37,measuredHeight:38,initialWidth:39,initialHeight:40,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const{Map:Ig}=fa;function Er(t,e,n){const i=t.slice();return i[21]=e[n],i}function Sr(t,e){let n,i,o;return i=new zg({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:hi(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=Ie(),ne(i.$$.fragment),this.h()},l(r){n=Ie(),se(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){Q(r,n,s),ie(i,r,s),o=!0},p(r,s){e=r;const l={};s&2&&(l.node=e[21]),s&2&&(l.id=e[21].id),s&2&&(l.data=e[21].data),s&2&&(l.selected=!!e[21].selected),s&2&&(l.hidden=!!e[21].hidden),s&6&&(l.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),s&10&&(l.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),s&18&&(l.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),s&2&&(l.deletable=e[21].deletable??!0),s&2&&(l.positionX=e[21].internals.positionAbsolute.x),s&2&&(l.positionY=e[21].internals.positionAbsolute.y),s&34&&(l.isParent=e[5].has(e[21].id)),s&2&&(l.style=e[21].style),s&2&&(l.class=e[21].class),s&2&&(l.type=e[21].type??"default"),s&2&&(l.sourcePosition=e[21].sourcePosition),s&2&&(l.targetPosition=e[21].targetPosition),s&2&&(l.dragging=e[21].dragging),s&2&&(l.zIndex=e[21].internals.z??0),s&2&&(l.dragHandle=e[21].dragHandle),s&2&&(l.initialized=hi(e[21])),s&2&&(l.width=e[21].width),s&2&&(l.height=e[21].height),s&2&&(l.initialWidth=e[21].initialWidth),s&2&&(l.initialHeight=e[21].initialHeight),s&2&&(l.measuredWidth=e[21].measured.width),s&2&&(l.measuredHeight=e[21].measured.height),s&2&&(l.parentId=e[21].parentId),s&1&&(l.nodeClickDistance=e[0]),i.$set(l)},i(r){o||(H(i.$$.fragment,r),o=!0)},o(r){X(i.$$.fragment,r),o=!1},d(r){r&&v(n),oe(i,r)}}}function Ng(t){let e,n=[],i=new Ig,o,r=lt(t[1]);const s=l=>l[21].id;for(let l=0;l<r.length;l+=1){let a=Er(t,r,l),u=s(a);i.set(u,n[l]=Sr(u,a))}return{c(){e=Se("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=Ce(l,"DIV",{class:!0});var a=F(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(v),this.h()},h(){y(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,a){Q(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&2111&&(r=lt(l[1]),Le(),n=wi(n,a,s,1,l,r,i,e,_i,Sr,null,Er),Te())},i(l){if(!o){for(let a=0;a<r.length;a+=1)H(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)X(n[a]);o=!1},d(l){l&&v(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Dg(t,e,n){let i,o,r,s,l,{nodeClickDistance:a=0}=e;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:d,elementsSelectable:c,updateNodeInternals:h,parentLookup:_}=We();te(t,u,z=>n(1,i=z)),te(t,f,z=>n(2,o=z)),te(t,d,z=>n(4,s=z)),te(t,c,z=>n(3,r=z)),te(t,_,z=>n(5,l=z));const m=typeof ResizeObserver>"u"?null:new ResizeObserver(z=>{const I=new Map;z.forEach(R=>{const N=R.target.getAttribute("data-id");I.set(N,{id:N,nodeElement:R.target,force:!0})}),h(I)});yi(()=>{m==null||m.disconnect()});function w(z){ze.call(this,t,z)}function g(z){ze.call(this,t,z)}function E(z){ze.call(this,t,z)}function b(z){ze.call(this,t,z)}function S(z){ze.call(this,t,z)}function C(z){ze.call(this,t,z)}function O(z){ze.call(this,t,z)}function P(z){ze.call(this,t,z)}return t.$$set=z=>{"nodeClickDistance"in z&&n(0,a=z.nodeClickDistance)},[a,i,o,r,s,l,u,f,d,c,_,m,w,g,E,b,S,C,O,P]}class Lg extends fe{constructor(e){super(),ce(this,e,Dg,Ng,he,{nodeClickDistance:0})}}function Cr(t){let e,n,i,o,r,s,l,a;var u=t[27];function f(d,c){return{props:{id:d[0],source:d[1],target:d[2],sourceX:d[14],sourceY:d[15],targetX:d[16],targetY:d[17],sourcePosition:d[18],targetPosition:d[19],animated:d[6],selected:d[7],label:d[10],labelStyle:d[11],data:d[3],style:d[4],interactionWidth:d[21],selectable:d[24],deletable:d[8]??!0,type:d[23],sourceHandleId:d[12],targetHandleId:d[13],markerStart:d[26],markerEnd:d[25]}}}return u&&(i=$n(u,f(t))),{c(){e=U("svg"),n=U("g"),i&&ne(i.$$.fragment),this.h()},l(d){e=q(d,"svg",{});var c=F(e);n=q(c,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var h=F(n);i&&se(i.$$.fragment,h),h.forEach(v),c.forEach(v),this.h()},h(){y(n,"class",o=Ne(["svelte-flow__edge",t[22]])),y(n,"data-id",t[0]),y(n,"aria-label",r=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),y(n,"role","img"),we(n,"animated",t[6]),we(n,"selected",t[7]),we(n,"selectable",t[24]),le(e,"z-index",t[5])},m(d,c){Q(d,e,c),B(e,n),i&&ie(i,n,null),s=!0,l||(a=[Oe(n,"click",t[32]),Oe(n,"contextmenu",t[41]),Oe(n,"mouseenter",t[42]),Oe(n,"mouseleave",t[43])],l=!0)},p(d,c){if(c[0]&134217728&&u!==(u=d[27])){if(i){Le();const h=i;X(h.$$.fragment,1,0,()=>{oe(h,1)}),Te()}u?(i=$n(u,f(d)),ne(i.$$.fragment),H(i.$$.fragment,1),ie(i,n,null)):i=null}else if(u){const h={};c[0]&1&&(h.id=d[0]),c[0]&2&&(h.source=d[1]),c[0]&4&&(h.target=d[2]),c[0]&16384&&(h.sourceX=d[14]),c[0]&32768&&(h.sourceY=d[15]),c[0]&65536&&(h.targetX=d[16]),c[0]&131072&&(h.targetY=d[17]),c[0]&262144&&(h.sourcePosition=d[18]),c[0]&524288&&(h.targetPosition=d[19]),c[0]&64&&(h.animated=d[6]),c[0]&128&&(h.selected=d[7]),c[0]&1024&&(h.label=d[10]),c[0]&2048&&(h.labelStyle=d[11]),c[0]&8&&(h.data=d[3]),c[0]&16&&(h.style=d[4]),c[0]&2097152&&(h.interactionWidth=d[21]),c[0]&16777216&&(h.selectable=d[24]),c[0]&256&&(h.deletable=d[8]??!0),c[0]&8388608&&(h.type=d[23]),c[0]&4096&&(h.sourceHandleId=d[12]),c[0]&8192&&(h.targetHandleId=d[13]),c[0]&67108864&&(h.markerStart=d[26]),c[0]&33554432&&(h.markerEnd=d[25]),i.$set(h)}(!s||c[0]&4194304&&o!==(o=Ne(["svelte-flow__edge",d[22]])))&&y(n,"class",o),(!s||c[0]&1)&&y(n,"data-id",d[0]),(!s||c[0]&1048582&&r!==(r=d[20]===null?void 0:d[20]?d[20]:`Edge from ${d[1]} to ${d[2]}`))&&y(n,"aria-label",r),(!s||c[0]&4194368)&&we(n,"animated",d[6]),(!s||c[0]&4194432)&&we(n,"selected",d[7]),(!s||c[0]&20971520)&&we(n,"selectable",d[24]),c[0]&32&&le(e,"z-index",d[5])},i(d){s||(i&&H(i.$$.fragment,d),s=!0)},o(d){i&&X(i.$$.fragment,d),s=!1},d(d){d&&v(e),i&&oe(i),l=!1,st(a)}}}function Tg(t){let e,n,i=!t[9]&&Cr(t);return{c(){i&&i.c(),e=Ie()},l(o){i&&i.l(o),e=Ie()},m(o,r){i&&i.m(o,r),Q(o,e,r),n=!0},p(o,r){o[9]?i&&(Le(),X(i,1,1,()=>{i=null}),Te()):i?(i.p(o,r),r[0]&512&&H(i,1)):(i=Cr(o),i.c(),H(i,1),i.m(e.parentNode,e))},i(o){n||(H(i),n=!0)},o(o){X(i),n=!1},d(o){o&&v(e),i&&i.d(o)}}}function Ag(t,e,n){let i,o,r,s,l,a,u,f,d,{id:c}=e,{type:h="default"}=e,{source:_=""}=e,{target:m=""}=e,{data:w={}}=e,{style:g=void 0}=e,{zIndex:E=void 0}=e,{animated:b=!1}=e,{selected:S=!1}=e,{selectable:C=void 0}=e,{deletable:O=void 0}=e,{hidden:P=!1}=e,{label:z=void 0}=e,{labelStyle:I=void 0}=e,{markerStart:R=void 0}=e,{markerEnd:N=void 0}=e,{sourceHandle:A=void 0}=e,{targetHandle:W=void 0}=e,{sourceX:k}=e,{sourceY:V}=e,{targetX:p}=e,{targetY:M}=e,{sourcePosition:L}=e,{targetPosition:T}=e,{ariaLabel:Z=void 0}=e,{interactionWidth:j=void 0}=e,{class:$=""}=e;kn("svelteflow__edge_id",c);const{edgeLookup:ee,edgeTypes:K,flowId:re,elementsSelectable:ge}=We();te(t,ee,J=>n(44,a=J)),te(t,K,J=>n(40,d=J)),te(t,re,J=>n(39,f=J)),te(t,ge,J=>n(38,u=J));const Y=Gt(),me=vs();function _e(J){const Be=a.get(c);Be&&(me(c),Y("edgeclick",{event:J,edge:Be}))}function ke(J,Be){const De=a.get(c);De&&Y(Be,{event:J,edge:De})}const Ee=J=>{ke(J,"edgecontextmenu")},Pe=J=>{ke(J,"edgemouseenter")},He=J=>{ke(J,"edgemouseleave")};return t.$$set=J=>{"id"in J&&n(0,c=J.id),"type"in J&&n(34,h=J.type),"source"in J&&n(1,_=J.source),"target"in J&&n(2,m=J.target),"data"in J&&n(3,w=J.data),"style"in J&&n(4,g=J.style),"zIndex"in J&&n(5,E=J.zIndex),"animated"in J&&n(6,b=J.animated),"selected"in J&&n(7,S=J.selected),"selectable"in J&&n(35,C=J.selectable),"deletable"in J&&n(8,O=J.deletable),"hidden"in J&&n(9,P=J.hidden),"label"in J&&n(10,z=J.label),"labelStyle"in J&&n(11,I=J.labelStyle),"markerStart"in J&&n(36,R=J.markerStart),"markerEnd"in J&&n(37,N=J.markerEnd),"sourceHandle"in J&&n(12,A=J.sourceHandle),"targetHandle"in J&&n(13,W=J.targetHandle),"sourceX"in J&&n(14,k=J.sourceX),"sourceY"in J&&n(15,V=J.sourceY),"targetX"in J&&n(16,p=J.targetX),"targetY"in J&&n(17,M=J.targetY),"sourcePosition"in J&&n(18,L=J.sourcePosition),"targetPosition"in J&&n(19,T=J.targetPosition),"ariaLabel"in J&&n(20,Z=J.ariaLabel),"interactionWidth"in J&&n(21,j=J.interactionWidth),"class"in J&&n(22,$=J.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=h||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=d[i]||Es),t.$$.dirty[1]&288&&n(26,r=R?`url('#${lo(R,f)}')`:void 0),t.$$.dirty[1]&320&&n(25,s=N?`url('#${lo(N,f)}')`:void 0),t.$$.dirty[1]&144&&n(24,l=C??u)},[c,_,m,w,g,E,b,S,O,P,z,I,A,W,k,V,p,M,L,T,Z,j,$,i,l,s,r,o,ee,K,re,ge,_e,ke,h,C,R,N,u,f,d,Ee,Pe,He]}class Hg extends fe{constructor(e){super(),ce(this,e,Ag,Tg,ml,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function Fg(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return On(()=>(i==null||i(),o)),t.$$set=r=>{"onMount"in r&&n(0,i=r.onMount),"onDestroy"in r&&n(1,o=r.onDestroy)},[i,o]}class Vg extends fe{constructor(e){super(),ce(this,e,Fg,null,he,{onMount:0,onDestroy:1})}}function Pr(t,e,n){const i=t.slice();return i[2]=e[n],i}function Mr(t,e){let n,i,o;const r=[e[2]];let s={};for(let l=0;l<r.length;l+=1)s=Me(s,r[l]);return i=new Gg({props:s}),{key:t,first:null,c(){n=Ie(),ne(i.$$.fragment),this.h()},l(l){n=Ie(),se(i.$$.fragment,l),this.h()},h(){this.first=n},m(l,a){Q(l,n,a),ie(i,l,a),o=!0},p(l,a){e=l;const u=a&1?gt(r,[Xt(e[2])]):{};i.$set(u)},i(l){o||(H(i.$$.fragment,l),o=!0)},o(l){X(i.$$.fragment,l),o=!1},d(l){l&&v(n),oe(i,l)}}}function Rg(t){let e,n=[],i=new Map,o,r=lt(t[0]);const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let a=Pr(t,r,l),u=s(a);i.set(u,n[l]=Mr(u,a))}return{c(){e=U("defs");for(let l=0;l<n.length;l+=1)n[l].c()},l(l){e=q(l,"defs",{});var a=F(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(v)},m(l,a){Q(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&1&&(r=lt(l[0]),Le(),n=wi(n,a,s,1,l,r,i,e,_i,Mr,null,Pr),Te())},i(l){if(!o){for(let a=0;a<r.length;a+=1)H(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)X(n[a]);o=!1},d(l){l&&v(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Wg(t,e,n){let i;const{markers:o}=We();return te(t,o,r=>n(0,i=r)),[i,o]}class Bg extends fe{constructor(e){super(),ce(this,e,Wg,Rg,he,{})}}function Xg(t){let e;return{c(){e=U("polyline"),this.h()},l(n){e=q(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),F(e).forEach(v),this.h()},h(){y(e,"stroke",t[6]),y(e,"stroke-linecap","round"),y(e,"stroke-linejoin","round"),y(e,"stroke-width",t[7]),y(e,"fill",t[6]),y(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){Q(n,e,i)},p(n,i){i&64&&y(e,"stroke",n[6]),i&128&&y(e,"stroke-width",n[7]),i&64&&y(e,"fill",n[6])},d(n){n&&v(e)}}}function Yg(t){let e;return{c(){e=U("polyline"),this.h()},l(n){e=q(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),F(e).forEach(v),this.h()},h(){y(e,"stroke",t[6]),y(e,"stroke-linecap","round"),y(e,"stroke-linejoin","round"),y(e,"stroke-width",t[7]),y(e,"fill","none"),y(e,"points","-5,-4 0,0 -5,4")},m(n,i){Q(n,e,i)},p(n,i){i&64&&y(e,"stroke",n[6]),i&128&&y(e,"stroke-width",n[7])},d(n){n&&v(e)}}}function Kg(t){let e,n,i;function o(l,a){if(l[1]===sn.Arrow)return Yg;if(l[1]===sn.ArrowClosed)return Xg}let r=o(t),s=r&&r(t);return{c(){e=U("marker"),s&&s.c(),this.h()},l(l){e=q(l,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=F(e);s&&s.l(a),a.forEach(v),this.h()},h(){y(e,"class","svelte-flow__arrowhead"),y(e,"id",t[0]),y(e,"markerWidth",n=`${t[2]}`),y(e,"markerHeight",i=`${t[3]}`),y(e,"viewBox","-10 -10 20 20"),y(e,"markerUnits",t[4]),y(e,"orient",t[5]),y(e,"refX","0"),y(e,"refY","0")},m(l,a){Q(l,e,a),s&&s.m(e,null)},p(l,[a]){r===(r=o(l))&&s?s.p(l,a):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(e,null))),a&1&&y(e,"id",l[0]),a&4&&n!==(n=`${l[2]}`)&&y(e,"markerWidth",n),a&8&&i!==(i=`${l[3]}`)&&y(e,"markerHeight",i),a&16&&y(e,"markerUnits",l[4]),a&32&&y(e,"orient",l[5])},i:be,o:be,d(l){l&&v(e),s&&s.d()}}}function Zg(t,e,n){let{id:i}=e,{type:o}=e,{width:r=12.5}=e,{height:s=12.5}=e,{markerUnits:l="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=d=>{"id"in d&&n(0,i=d.id),"type"in d&&n(1,o=d.type),"width"in d&&n(2,r=d.width),"height"in d&&n(3,s=d.height),"markerUnits"in d&&n(4,l=d.markerUnits),"orient"in d&&n(5,a=d.orient),"color"in d&&n(6,u=d.color),"strokeWidth"in d&&n(7,f=d.strokeWidth)},[i,o,r,s,l,a,u,f]}class Gg extends fe{constructor(e){super(),ce(this,e,Zg,Kg,he,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Or(t,e,n){const i=t.slice();return i[14]=e[n],i}function zr(t,e){let n,i,o;return i=new Hg({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=Ie(),ne(i.$$.fragment),this.h()},l(r){n=Ie(),se(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){Q(r,n,s),ie(i,r,s),o=!0},p(r,s){e=r;const l={};s&1&&(l.id=e[14].id),s&1&&(l.source=e[14].source),s&1&&(l.target=e[14].target),s&1&&(l.data=e[14].data),s&1&&(l.style=e[14].style),s&1&&(l.animated=e[14].animated),s&1&&(l.selected=e[14].selected),s&3&&(l.selectable=e[14].selectable??e[1]),s&1&&(l.deletable=e[14].deletable),s&1&&(l.hidden=e[14].hidden),s&1&&(l.label=e[14].label),s&1&&(l.labelStyle=e[14].labelStyle),s&1&&(l.markerStart=e[14].markerStart),s&1&&(l.markerEnd=e[14].markerEnd),s&1&&(l.sourceHandle=e[14].sourceHandle),s&1&&(l.targetHandle=e[14].targetHandle),s&1&&(l.sourceX=e[14].sourceX),s&1&&(l.sourceY=e[14].sourceY),s&1&&(l.targetX=e[14].targetX),s&1&&(l.targetY=e[14].targetY),s&1&&(l.sourcePosition=e[14].sourcePosition),s&1&&(l.targetPosition=e[14].targetPosition),s&1&&(l.ariaLabel=e[14].ariaLabel),s&1&&(l.interactionWidth=e[14].interactionWidth),s&1&&(l.class=e[14].class),s&1&&(l.type=e[14].type||"default"),s&1&&(l.zIndex=e[14].zIndex),i.$set(l)},i(r){o||(H(i.$$.fragment,r),o=!0)},o(r){X(i.$$.fragment,r),o=!1},d(r){r&&v(n),oe(i,r)}}}function Ir(t){let e,n;return e=new Vg({props:{onMount:t[11],onDestroy:t[12]}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.onMount=i[11]),o&4&&(r.onDestroy=i[12]),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Ug(t){let e,n,i,o,r=[],s=new Map,l,a;i=new Bg({});let u=lt(t[0]);const f=c=>c[14].id;for(let c=0;c<u.length;c+=1){let h=Or(t,u,c),_=f(h);s.set(_,r[c]=zr(_,h))}let d=t[0].length>0&&Ir(t);return{c(){e=Se("div"),n=U("svg"),ne(i.$$.fragment),o=pe();for(let c=0;c<r.length;c+=1)r[c].c();l=pe(),d&&d.c(),this.h()},l(c){e=Ce(c,"DIV",{class:!0});var h=F(e);n=q(h,"svg",{class:!0});var _=F(n);se(i.$$.fragment,_),_.forEach(v),o=ve(h);for(let m=0;m<r.length;m+=1)r[m].l(h);l=ve(h),d&&d.l(h),h.forEach(v),this.h()},h(){y(n,"class","svelte-flow__marker"),y(e,"class","svelte-flow__edges")},m(c,h){Q(c,e,h),B(e,n),ie(i,n,null),B(e,o);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(e,null);B(e,l),d&&d.m(e,null),a=!0},p(c,[h]){h&3&&(u=lt(c[0]),Le(),r=wi(r,h,f,1,c,u,s,e,_i,zr,l,Or),Te()),c[0].length>0?d?(d.p(c,h),h&1&&H(d,1)):(d=Ir(c),d.c(),H(d,1),d.m(e,null)):d&&(Le(),X(d,1,1,()=>{d=null}),Te())},i(c){if(!a){H(i.$$.fragment,c);for(let h=0;h<u.length;h+=1)H(r[h]);H(d),a=!0}},o(c){X(i.$$.fragment,c);for(let h=0;h<r.length;h+=1)X(r[h]);X(d),a=!1},d(c){c&&v(e),oe(i);for(let h=0;h<r.length;h+=1)r[h].d();d&&d.d()}}}function qg(t,e,n){let i,o,r,{defaultEdgeOptions:s}=e;const{visibleEdges:l,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=We();te(t,l,g=>n(0,i=g)),te(t,a,g=>n(2,r=g)),te(t,f,g=>n(1,o=g)),On(()=>{s&&u(s)});function d(g){ze.call(this,t,g)}function c(g){ze.call(this,t,g)}function h(g){ze.call(this,t,g)}function _(g){ze.call(this,t,g)}const m=()=>{xn(a,r=!0,r)},w=()=>{xn(a,r=!1,r)};return t.$$set=g=>{"defaultEdgeOptions"in g&&n(6,s=g.defaultEdgeOptions)},[i,o,r,l,a,f,s,d,c,h,_,m,w]}class Qg extends fe{constructor(e){super(),ce(this,e,qg,Ug,he,{defaultEdgeOptions:6})}}function Nr(t){let e;return{c(){e=Se("div"),this.h()},l(n){e=Ce(n,"DIV",{class:!0}),F(e).forEach(v),this.h()},h(){y(e,"class","svelte-flow__selection svelte-1iugwpu"),le(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),le(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),le(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){Q(n,e,i)},p(n,i){i&4&&le(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&le(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&le(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&v(e)}}}function jg(t){let e,n=t[4]&&Nr(t);return{c(){n&&n.c(),e=Ie()},l(i){n&&n.l(i),e=Ie()},m(i,o){n&&n.m(i,o),Q(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Nr(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:be,o:be,d(i){i&&v(e),n&&n.d(i)}}}function Jg(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:r=0}=e,{height:s=0}=e,{isVisible:l=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,r=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,l=a.isVisible)},[i,o,r,s,l]}class Os extends fe{constructor(e){super(),ce(this,e,Jg,jg,he,{x:0,y:1,width:2,height:3,isVisible:4})}}function xg(t){var i,o,r,s;let e,n;return e=new Os({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(r=t[0])==null?void 0:r.x,y:(s=t[0])==null?void 0:s.y}}),{c(){ne(e.$$.fragment)},l(l){se(e.$$.fragment,l)},m(l,a){ie(e,l,a),n=!0},p(l,[a]){var f,d,c,h;const u={};a&3&&(u.isVisible=!!(l[0]&&l[1]==="user")),a&1&&(u.width=(f=l[0])==null?void 0:f.width),a&1&&(u.height=(d=l[0])==null?void 0:d.height),a&1&&(u.x=(c=l[0])==null?void 0:c.x),a&1&&(u.y=(h=l[0])==null?void 0:h.y),e.$set(u)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){X(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function $g(t,e,n){let i,o;const{selectionRect:r,selectionRectMode:s}=We();return te(t,r,l=>n(0,i=l)),te(t,s,l=>n(1,o=l)),[i,o,r,s]}class e1 extends fe{constructor(e){super(),ce(this,e,$g,xg,he,{})}}function Dr(t){let e,n,i,o,r;return n=new Os({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=Se("div"),ne(n.$$.fragment),this.h()},l(s){e=Ce(s,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var l=F(e);se(n.$$.fragment,l),l.forEach(v),this.h()},h(){y(e,"class","selection-wrapper nopan svelte-5pxri"),le(e,"width",t[1].width+"px"),le(e,"height",t[1].height+"px"),le(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),y(e,"role","button"),y(e,"tabindex","-1")},m(s,l){Q(s,e,l),ie(n,e,null),i=!0,o||(r=[Ue(Ms.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),Oe(e,"contextmenu",t[7]),Oe(e,"click",t[8]),Oe(e,"keyup",n1)],o=!0)},p(s,l){(!i||l&2)&&le(e,"width",s[1].width+"px"),(!i||l&2)&&le(e,"height",s[1].height+"px"),(!i||l&2)&&le(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(H(n.$$.fragment,s),i=!0)},o(s){X(n.$$.fragment,s),i=!1},d(s){s&&v(e),oe(n),o=!1,st(r)}}}function t1(t){let e=t[0]==="nodes"&&t[1]&&dt(t[1].x)&&dt(t[1].y),n,i,o=e&&Dr(t);return{c(){o&&o.c(),n=Ie()},l(r){o&&o.l(r),n=Ie()},m(r,s){o&&o.m(r,s),Q(r,n,s),i=!0},p(r,[s]){s&3&&(e=r[0]==="nodes"&&r[1]&&dt(r[1].x)&&dt(r[1].y)),e?o?(o.p(r,s),s&3&&H(o,1)):(o=Dr(r),o.c(),H(o,1),o.m(n.parentNode,n)):o&&(Le(),X(o,1,1,()=>{o=null}),Te())},i(r){i||(H(o),i=!0)},o(r){X(o),i=!1},d(r){r&&v(n),o&&o.d(r)}}}const n1=()=>{};function i1(t,e,n){let i,o,r;const s=We(),{selectionRectMode:l,nodes:a,nodeLookup:u}=s;te(t,l,g=>n(0,r=g)),te(t,a,g=>n(9,i=g)),te(t,u,g=>n(10,o=g));const f=Gt();let d=null;function c(g){const E=i.filter(b=>b.selected);f("selectioncontextmenu",{nodes:E,event:g})}function h(g){const E=i.filter(b=>b.selected);f("selectionclick",{nodes:E,event:g})}const _=(g,E,b,S)=>{f("nodedrag",{event:g,targetNode:null,nodes:S})},m=(g,E,b,S)=>{f("nodedragstart",{event:g,targetNode:null,nodes:S})},w=(g,E,b,S)=>{f("nodedragstop",{event:g,targetNode:null,nodes:S})};return t.$$.update=()=>{t.$$.dirty&1537&&r==="nodes"&&n(1,d=Ln(o,{filter:g=>!!g.selected}))},[r,d,s,l,a,u,f,c,h,i,o,_,m,w]}class o1 extends fe{constructor(e){super(),ce(this,e,i1,t1,he,{})}}function yt(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function r(s){const l=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of l){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:d,key:c,callback:h,preventDefault:_,enabled:m}=f;if(m){if(d.length&&!(Array.isArray(d)?d:[d]).map(E=>typeof E=="string"?[E]:E).some(E=>E.every(b=>a[b])))continue;if(s.key===c){_&&s.preventDefault();const w={node:t,trigger:f,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:w})),h==null||h(w)}}}}return n&&t.addEventListener(o,r),{update:s=>{const{enabled:l=!0,type:a="keydown"}=s;n&&(!l||o!==a)?t.removeEventListener(o,r):!n&&l&&t.addEventListener(a,r),n=l,o=a,i=s.trigger},destroy:()=>{t.removeEventListener(o,r)}}}function r1(t){let e,n,i,o,r,s,l,a,u,f,d,c;return{c:be,l:be,m(h,_){d||(c=[Ue(e=yt.call(null,window,{trigger:Xe(t[0],t[11]),type:"keydown"})),Ue(n=yt.call(null,window,{trigger:Xe(t[0],t[12]),type:"keyup"})),Ue(i=yt.call(null,window,{trigger:Xe(t[1],t[13]),type:"keydown"})),Ue(o=yt.call(null,window,{trigger:Xe(t[1],t[14]),type:"keyup"})),Ue(r=yt.call(null,window,{trigger:Xe(t[2],t[15]),type:"keydown"})),Ue(s=yt.call(null,window,{trigger:Xe(t[2],t[16]),type:"keyup"})),Ue(l=yt.call(null,window,{trigger:Xe(t[3],t[17]),type:"keydown"})),Ue(a=yt.call(null,window,{trigger:Xe(t[3],t[18]),type:"keyup"})),Ue(u=yt.call(null,window,{trigger:Xe(t[4],t[19]),type:"keydown"})),Ue(f=yt.call(null,window,{trigger:Xe(t[4],t[20]),type:"keyup"})),Oe(window,"blur",t[10]),Oe(window,"contextmenu",t[10])],d=!0)},p(h,[_]){e&&Fe(e.update)&&_&1&&e.update.call(null,{trigger:Xe(h[0],h[11]),type:"keydown"}),n&&Fe(n.update)&&_&1&&n.update.call(null,{trigger:Xe(h[0],h[12]),type:"keyup"}),i&&Fe(i.update)&&_&2&&i.update.call(null,{trigger:Xe(h[1],h[13]),type:"keydown"}),o&&Fe(o.update)&&_&2&&o.update.call(null,{trigger:Xe(h[1],h[14]),type:"keyup"}),r&&Fe(r.update)&&_&4&&r.update.call(null,{trigger:Xe(h[2],h[15]),type:"keydown"}),s&&Fe(s.update)&&_&4&&s.update.call(null,{trigger:Xe(h[2],h[16]),type:"keyup"}),l&&Fe(l.update)&&_&8&&l.update.call(null,{trigger:Xe(h[3],h[17]),type:"keydown"}),a&&Fe(a.update)&&_&8&&a.update.call(null,{trigger:Xe(h[3],h[18]),type:"keyup"}),u&&Fe(u.update)&&_&16&&u.update.call(null,{trigger:Xe(h[4],h[19]),type:"keydown"}),f&&Fe(f.update)&&_&16&&f.update.call(null,{trigger:Xe(h[4],h[20]),type:"keyup"})},i:be,o:be,d(h){d=!1,st(c)}}}function zs(t){return t!==null&&typeof t=="object"}function l1(t){return zs(t)?t.modifier||[]:[]}function s1(t){return t==null?"":zs(t)?t.key:t}function Xe(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=s1(i);return{key:o,modifier:l1(i),enabled:o!==null,callback:e}})}function a1(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=di()?"Meta":"Control"}=e,{deleteKey:r="Backspace"}=e,{panActivationKey:s=" "}=e,{zoomActivationKey:l=di()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:d,zoomActivationKeyPressed:c,selectionRect:h}=We();function _(){h.set(null),a.set(!1),u.set(!1),f.set(!1),d.set(!1),c.set(!1)}const m=()=>a.set(!0),w=()=>a.set(!1),g=()=>u.set(!0),E=()=>u.set(!1),b=I=>{!(I.originalEvent.ctrlKey||I.originalEvent.metaKey||I.originalEvent.shiftKey)&&!Yd(I.originalEvent)&&f.set(!0)},S=()=>f.set(!1),C=()=>d.set(!0),O=()=>d.set(!1),P=()=>c.set(!0),z=()=>c.set(!1);return t.$$set=I=>{"selectionKey"in I&&n(0,i=I.selectionKey),"multiSelectionKey"in I&&n(1,o=I.multiSelectionKey),"deleteKey"in I&&n(2,r=I.deleteKey),"panActivationKey"in I&&n(3,s=I.panActivationKey),"zoomActivationKey"in I&&n(4,l=I.zoomActivationKey)},[i,o,r,s,l,a,u,f,d,c,_,m,w,g,E,b,S,C,O,P,z]}class u1 extends fe{constructor(e){super(),ce(this,e,a1,r1,he,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const f1=t=>({}),Lr=t=>({});function Tr(t){let e,n,i,o;const r=t[13].connectionLine,s=qe(r,t,t[12],Lr);let l=!t[2]&&Ar(t);return{c(){e=U("svg"),n=U("g"),s&&s.c(),l&&l.c(),this.h()},l(a){e=q(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=F(e);n=q(u,"g",{class:!0});var f=F(n);s&&s.l(f),l&&l.l(f),f.forEach(v),u.forEach(v),this.h()},h(){y(n,"class",i=Ne(["svelte-flow__connection",rr(t[3].isValid)])),y(e,"width",t[5]),y(e,"height",t[6]),y(e,"class","svelte-flow__connectionline"),y(e,"style",t[0])},m(a,u){Q(a,e,u),B(e,n),s&&s.m(n,null),l&&l.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&4096)&&Qe(s,r,a,a[12],o?Je(r,a[12],u,f1):je(a[12]),Lr),a[2]?l&&(l.d(1),l=null):l?l.p(a,u):(l=Ar(a),l.c(),l.m(n,null)),(!o||u&8&&i!==(i=Ne(["svelte-flow__connection",rr(a[3].isValid)])))&&y(n,"class",i),(!o||u&32)&&y(e,"width",a[5]),(!o||u&64)&&y(e,"height",a[6]),(!o||u&1)&&y(e,"style",a[0])},i(a){o||(H(s,a),o=!0)},o(a){X(s,a),o=!1},d(a){a&&v(e),s&&s.d(a),l&&l.d()}}}function Ar(t){let e;return{c(){e=U("path"),this.h()},l(n){e=q(n,"path",{d:!0,style:!0,fill:!0,class:!0}),F(e).forEach(v),this.h()},h(){y(e,"d",t[4]),y(e,"style",t[1]),y(e,"fill","none"),y(e,"class","svelte-flow__connection-path")},m(n,i){Q(n,e,i)},p(n,i){i&16&&y(e,"d",n[4]),i&2&&y(e,"style",n[1])},d(n){n&&v(e)}}}function c1(t){let e,n,i=t[3].inProgress&&Tr(t);return{c(){i&&i.c(),e=Ie()},l(o){i&&i.l(o),e=Ie()},m(o,r){i&&i.m(o,r),Q(o,e,r),n=!0},p(o,[r]){o[3].inProgress?i?(i.p(o,r),r&8&&H(i,1)):(i=Tr(o),i.c(),H(i,1),i.m(e.parentNode,e)):i&&(Le(),X(i,1,1,()=>{i=null}),Te())},i(o){n||(H(i),n=!0)},o(o){X(i),n=!1},d(o){o&&v(e),i&&i.d(o)}}}function d1(t,e,n){let i,o,r,s,{$$slots:l={},$$scope:a}=e,{containerStyle:u=""}=e,{style:f=""}=e,{isCustomComponent:d=!1}=e;const{width:c,height:h,connection:_,connectionLineType:m}=We();te(t,c,g=>n(5,r=g)),te(t,h,g=>n(6,s=g)),te(t,_,g=>n(3,o=g)),te(t,m,g=>n(11,i=g));let w=null;return t.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,d=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!d){const{from:g,to:E,fromPosition:b,toPosition:S}=o,C={sourceX:g.x,sourceY:g.y,sourcePosition:b,targetX:E.x,targetY:E.y,targetPosition:S};switch(i){case on.Bezier:n(4,[w]=as(C),w);break;case on.Step:n(4,[w]=gi({...C,borderRadius:0}),w);break;case on.SmoothStep:n(4,[w]=gi(C),w);break;default:n(4,[w]=fs(C),w)}}},[u,f,d,o,w,r,s,c,h,_,m,i,a,l]}class h1 extends fe{constructor(e){super(),ce(this,e,d1,c1,he,{containerStyle:0,style:1,isCustomComponent:2})}}function g1(t){let e,n,i;const o=t[8].default,r=qe(o,t,t[7],null);let s=[{class:n=Ne(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],l={};for(let a=0;a<s.length;a+=1)l=Me(l,s[a]);return{c(){e=Se("div"),r&&r.c(),this.h()},l(a){e=Ce(a,"DIV",{class:!0,style:!0});var u=F(e);r&&r.l(u),u.forEach(v),this.h()},h(){Ft(e,l),le(e,"pointer-events",t[3]?"none":"")},m(a,u){Q(a,e,u),r&&r.m(e,null),i=!0},p(a,[u]){r&&r.p&&(!i||u&128)&&Qe(r,o,a,a[7],i?Je(o,a[7],u,null):je(a[7]),null),Ft(e,l=gt(s,[(!i||u&6&&n!==(n=Ne(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),le(e,"pointer-events",a[3]?"none":"")},i(a){i||(H(r,a),i=!0)},o(a){X(r,a),i=!1},d(a){a&&v(e),r&&r.d(a)}}}function m1(t,e,n){let i;const o=["position","style","class"];let r=Ae(e,o),s,{$$slots:l={},$$scope:a}=e,{position:u="top-right"}=e,{style:f=void 0}=e,{class:d=void 0}=e;const{selectionRectMode:c}=We();return te(t,c,h=>n(3,s=h)),t.$$set=h=>{e=Me(Me({},e),ot(h)),n(5,r=Ae(e,o)),"position"in h&&n(6,u=h.position),"style"in h&&n(0,f=h.style),"class"in h&&n(1,d=h.class),"$$scope"in h&&n(7,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,d,i,s,c,r,u,a,l]}class Eo extends fe{constructor(e){super(),ce(this,e,m1,g1,he,{position:6,style:0,class:1})}}function Hr(t){let e,n;return e=new Eo({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[y1]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function y1(t){let e,n="Svelte Flow";return{c(){e=Se("a"),e.textContent=n,this.h()},l(i){e=Ce(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),yl(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){y(e,"href","https://svelteflow.dev"),y(e,"target","_blank"),y(e,"rel","noopener noreferrer"),y(e,"aria-label","Svelte Flow attribution")},m(i,o){Q(i,e,o)},p:be,d(i){i&&v(e)}}}function _1(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&Hr(t);return{c(){i&&i.c(),e=Ie()},l(r){i&&i.l(r),e=Ie()},m(r,s){i&&i.m(r,s),Q(r,e,s),n=!0},p(r,[s]){var l;(l=r[0])!=null&&l.hideAttribution?i&&(Le(),X(i,1,1,()=>{i=null}),Te()):i?(i.p(r,s),s&1&&H(i,1)):(i=Hr(r),i.c(),H(i,1),i.m(e.parentNode,e))},i(r){n||(H(i),n=!0)},o(r){X(i),n=!1},d(r){r&&v(e),i&&i.d(r)}}}function w1(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class b1 extends fe{constructor(e){super(),ce(this,e,w1,_1,he,{proOptions:0,position:1})}}function Fr(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r,paneClickDistance:s}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),r!==void 0&&t.setTranslateExtent(r),s!==void 0&&t.setPaneClickDistance(s)}const k1=t=>Object.keys(t);function p1(t,e){k1(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function v1(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function E1(t="light"){return at("light",n=>{if(t!=="system"){n(t);return}const i=v1(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const S1=t=>({}),Vr=t=>({slot:"connectionLine"});function C1(t){let e;const n=t[75].connectionLine,i=qe(n,t,t[99],Vr);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[3]&64)&&Qe(i,n,o,o[99],e?Je(n,o[99],r,S1):je(o[99]),Vr)},i(o){e||(H(i,o),e=!0)},o(o){X(i,o),e=!1},d(o){i&&i.d(o)}}}function P1(t){let e,n,i,o,r,s,l,a,u,f,d,c;return e=new Qg({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[78]),e.$on("edgecontextmenu",t[79]),e.$on("edgemouseenter",t[80]),e.$on("edgemouseleave",t[81]),i=new h1({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[C1]},$$scope:{ctx:t}}}),u=new Lg({props:{nodeClickDistance:t[23]}}),u.$on("nodeclick",t[82]),u.$on("nodemouseenter",t[83]),u.$on("nodemousemove",t[84]),u.$on("nodemouseleave",t[85]),u.$on("nodedragstart",t[86]),u.$on("nodedrag",t[87]),u.$on("nodedragstop",t[88]),u.$on("nodecontextmenu",t[89]),d=new o1({}),d.$on("selectionclick",t[90]),d.$on("selectioncontextmenu",t[91]),d.$on("nodedragstart",t[92]),d.$on("nodedrag",t[93]),d.$on("nodedragstop",t[94]),{c(){ne(e.$$.fragment),n=pe(),ne(i.$$.fragment),o=pe(),r=Se("div"),s=pe(),l=Se("div"),a=pe(),ne(u.$$.fragment),f=pe(),ne(d.$$.fragment),this.h()},l(h){se(e.$$.fragment,h),n=ve(h),se(i.$$.fragment,h),o=ve(h),r=Ce(h,"DIV",{class:!0}),F(r).forEach(v),s=ve(h),l=Ce(h,"DIV",{class:!0}),F(l).forEach(v),a=ve(h),se(u.$$.fragment,h),f=ve(h),se(d.$$.fragment,h),this.h()},h(){y(r,"class","svelte-flow__edgelabel-renderer"),y(l,"class","svelte-flow__viewport-portal")},m(h,_){ie(e,h,_),Q(h,n,_),ie(i,h,_),Q(h,o,_),Q(h,r,_),Q(h,s,_),Q(h,l,_),Q(h,a,_),ie(u,h,_),Q(h,f,_),ie(d,h,_),c=!0},p(h,_){const m={};_[0]&2097152&&(m.defaultEdgeOptions=h[21]),e.$set(m);const w={};_[0]&128&&(w.containerStyle=h[7]),_[0]&64&&(w.style=h[6]),_[1]&8&&(w.isCustomComponent=h[34].connectionLine),_[3]&64&&(w.$$scope={dirty:_,ctx:h}),i.$set(w);const g={};_[0]&8388608&&(g.nodeClickDistance=h[23]),u.$set(g)},i(h){c||(H(e.$$.fragment,h),H(i.$$.fragment,h),H(u.$$.fragment,h),H(d.$$.fragment,h),c=!0)},o(h){X(e.$$.fragment,h),X(i.$$.fragment,h),X(u.$$.fragment,h),X(d.$$.fragment,h),c=!1},d(h){h&&(v(n),v(o),v(r),v(s),v(l),v(a),v(f)),oe(e,h),oe(i,h),oe(u,h),oe(d,h)}}}function M1(t){let e,n,i,o;return e=new Cg({props:{$$slots:{default:[P1]},$$scope:{ctx:t}}}),i=new e1({}),{c(){ne(e.$$.fragment),n=pe(),ne(i.$$.fragment)},l(r){se(e.$$.fragment,r),n=ve(r),se(i.$$.fragment,r)},m(r,s){ie(e,r,s),Q(r,n,s),ie(i,r,s),o=!0},p(r,s){const l={};s[0]&10485952|s[1]&8|s[3]&64&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){o||(H(e.$$.fragment,r),H(i.$$.fragment,r),o=!0)},o(r){X(e.$$.fragment,r),X(i.$$.fragment,r),o=!1},d(r){r&&v(n),oe(e,r),oe(i,r)}}}function O1(t){let e,n;return e=new vg({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[M1]},$$scope:{ctx:t}}}),e.$on("paneclick",t[95]),e.$on("panecontextmenu",t[96]),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function z1(t){let e,n,i,o,r,s,l,a,u,f,d,c;n=new u1({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new bg({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?wt.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[O1]},$$scope:{ctx:t}}}),s=new b1({props:{proOptions:t[20],position:t[19]}});const h=t[75].default,_=qe(h,t,t[99],null);let m=[{style:t[24]},{class:a=Ne(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],w={};for(let g=0;g<m.length;g+=1)w=Me(w,m[g]);return{c(){e=Se("div"),ne(n.$$.fragment),i=pe(),ne(o.$$.fragment),r=pe(),ne(s.$$.fragment),l=pe(),_&&_.c(),this.h()},l(g){e=Ce(g,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var E=F(e);se(n.$$.fragment,E),i=ve(E),se(o.$$.fragment,E),r=ve(E),se(s.$$.fragment,E),l=ve(E),_&&_.l(E),E.forEach(v),this.h()},h(){Ft(e,w),_l(()=>t[98].call(e)),we(e,"svelte-12wlba6",!0)},m(g,E){Q(g,e,E),ie(n,e,null),B(e,i),ie(o,e,null),B(e,r),ie(s,e,null),B(e,l),_&&_.m(e,null),t[97](e),u=oa(e,t[98].bind(e)),f=!0,d||(c=[Oe(e,"dragover",t[76]),Oe(e,"drop",t[77])],d=!0)},p(g,E){const b={};E[0]&2&&(b.selectionKey=g[1]),E[0]&32&&(b.deleteKey=g[5]),E[0]&4&&(b.panActivationKey=g[2]),E[0]&8&&(b.multiSelectionKey=g[3]),E[0]&16&&(b.zoomActivationKey=g[4]),n.$set(b);const S={};E[0]&256&&(S.onMoveStart=g[8]),E[0]&512&&(S.onMove=g[9]),E[0]&1024&&(S.onMoveEnd=g[10]),E[0]&2048&&(S.panOnScrollMode=g[11]===void 0?wt.Free:g[11]),E[0]&4096&&(S.preventScrolling=g[12]===void 0?!0:g[12]),E[0]&8192&&(S.zoomOnScroll=g[13]===void 0?!0:g[13]),E[0]&16384&&(S.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),E[0]&32768&&(S.zoomOnPinch=g[15]===void 0?!0:g[15]),E[0]&65536&&(S.panOnScroll=g[16]===void 0?!1:g[16]),E[0]&131072&&(S.panOnDrag=g[17]===void 0?!0:g[17]),E[0]&4194304&&(S.paneClickDistance=g[22]===void 0?0:g[22]),E[0]&10879168|E[1]&8|E[3]&64&&(S.$$scope={dirty:E,ctx:g}),o.$set(S);const C={};E[0]&1048576&&(C.proOptions=g[20]),E[0]&524288&&(C.position=g[19]),s.$set(C),_&&_.p&&(!f||E[3]&64)&&Qe(_,h,g,g[99],f?Je(h,g[99],E,null):je(g[99]),null),Ft(e,w=gt(m,[(!f||E[0]&16777216)&&{style:g[24]},(!f||E[0]&1107296256&&a!==(a=Ne(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},E[1]&4&&g[33],{role:"application"}])),we(e,"svelte-12wlba6",!0)},i(g){f||(H(n.$$.fragment,g),H(o.$$.fragment,g),H(s.$$.fragment,g),H(_,g),f=!0)},o(g){X(n.$$.fragment,g),X(o.$$.fragment,g),X(s.$$.fragment,g),X(_,g),f=!1},d(g){g&&v(e),oe(n),oe(o),oe(s),_&&_.d(g),t[97](null),u(),d=!1,st(c)}}}function I1(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let r=Ae(e,o),s,l,a=be,u=()=>(a(),a=Io(z,D=>n(100,l=D)),z),f,d=be,c=()=>(d(),d=Io(i,D=>n(30,f=D)),i);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>d());let{$$slots:h={},$$scope:_}=e;const m=ra(h);let{id:w="1"}=e,{nodes:g}=e,{edges:E}=e,{fitView:b=void 0}=e,{fitViewOptions:S=void 0}=e,{minZoom:C=void 0}=e,{maxZoom:O=void 0}=e,{initialViewport:P=void 0}=e,{viewport:z=void 0}=e;u();let{nodeTypes:I=void 0}=e,{edgeTypes:R=void 0}=e,{selectionKey:N=void 0}=e,{selectionMode:A=void 0}=e,{panActivationKey:W=void 0}=e,{multiSelectionKey:k=void 0}=e,{zoomActivationKey:V=void 0}=e,{nodesDraggable:p=void 0}=e,{nodesConnectable:M=void 0}=e,{nodeDragThreshold:L=void 0}=e,{elementsSelectable:T=void 0}=e,{snapGrid:Z=void 0}=e,{deleteKey:j=void 0}=e,{connectionRadius:$=void 0}=e,{connectionLineType:ee=void 0}=e,{connectionMode:K=Kt.Strict}=e,{connectionLineStyle:re=""}=e,{connectionLineContainerStyle:ge=""}=e,{onMoveStart:Y=void 0}=e,{onMove:me=void 0}=e,{onMoveEnd:_e=void 0}=e,{isValidConnection:ke=void 0}=e,{translateExtent:Ee=void 0}=e,{nodeExtent:Pe=void 0}=e,{onlyRenderVisibleElements:He=void 0}=e,{panOnScrollMode:J=wt.Free}=e,{preventScrolling:Be=!0}=e,{zoomOnScroll:De=!0}=e,{zoomOnDoubleClick:It=!0}=e,{zoomOnPinch:pt=!0}=e,{panOnScroll:vt=!1}=e,{panOnDrag:Ye=!0}=e,{selectionOnDrag:Et=void 0}=e,{autoPanOnConnect:ue=!0}=e,{autoPanOnNodeDrag:Nt=!0}=e,{onerror:Dt=void 0}=e,{ondelete:x=void 0}=e,{onedgecreate:Lt=void 0}=e,{attributionPosition:Ke=void 0}=e,{proOptions:xe=void 0}=e,{defaultEdgeOptions:ae=void 0}=e,{width:St=void 0}=e,{height:$e=void 0}=e,{colorMode:Ze="light"}=e,{onconnect:Ut=void 0}=e,{onconnectstart:qt=void 0}=e,{onconnectend:Qt=void 0}=e,{onbeforedelete:jt=void 0}=e,{oninit:Tt=void 0}=e,{nodeOrigin:Rt=void 0}=e,{paneClickDistance:An=0}=e,{nodeClickDistance:Po=0}=e,{defaultMarkerColor:Di="#b1b1b7"}=e,{style:Mo=void 0}=e,{class:Oo=void 0}=e,Hn,Jt,xt;const Ts=l||P,Ge=la(Ii)?We():mg({nodes:G(g),edges:G(E),width:St,height:$e,fitView:b,nodeOrigin:Rt,nodeExtent:Pe});On(()=>(Ge.width.set(Jt),Ge.height.set(xt),Ge.domNode.set(Hn),Ge.syncNodeStores(g),Ge.syncEdgeStores(E),Ge.syncViewport(z),b!==void 0&&Ge.fitViewOnInit.set(b),S&&Ge.fitViewOptions.set(S),Fr(Ge,{nodeTypes:I,edgeTypes:R,minZoom:C,maxZoom:O,translateExtent:Ee,paneClickDistance:An}),()=>{Ge.reset()}));const{initialized:zo}=Ge;te(t,zo,D=>n(74,s=D));let Li=!1;function As(D){ze.call(this,t,D)}function Hs(D){ze.call(this,t,D)}function Fs(D){ze.call(this,t,D)}function Vs(D){ze.call(this,t,D)}function Rs(D){ze.call(this,t,D)}function Ws(D){ze.call(this,t,D)}function Bs(D){ze.call(this,t,D)}function Xs(D){ze.call(this,t,D)}function Ys(D){ze.call(this,t,D)}function Ks(D){ze.call(this,t,D)}function Zs(D){ze.call(this,t,D)}function Gs(D){ze.call(this,t,D)}function Us(D){ze.call(this,t,D)}function qs(D){ze.call(this,t,D)}function Qs(D){ze.call(this,t,D)}function js(D){ze.call(this,t,D)}function Js(D){ze.call(this,t,D)}function xs(D){ze.call(this,t,D)}function $s(D){ze.call(this,t,D)}function ea(D){ze.call(this,t,D)}function ta(D){ze.call(this,t,D)}function na(D){ht[D?"unshift":"push"](()=>{Hn=D,n(28,Hn)})}function ia(){Jt=this.clientWidth,xt=this.clientHeight,n(26,Jt),n(27,xt)}return t.$$set=D=>{e=Me(Me({},e),ot(D)),n(33,r=Ae(e,o)),"id"in D&&n(35,w=D.id),"nodes"in D&&n(36,g=D.nodes),"edges"in D&&n(37,E=D.edges),"fitView"in D&&n(38,b=D.fitView),"fitViewOptions"in D&&n(39,S=D.fitViewOptions),"minZoom"in D&&n(40,C=D.minZoom),"maxZoom"in D&&n(41,O=D.maxZoom),"initialViewport"in D&&n(42,P=D.initialViewport),"viewport"in D&&u(n(0,z=D.viewport)),"nodeTypes"in D&&n(43,I=D.nodeTypes),"edgeTypes"in D&&n(44,R=D.edgeTypes),"selectionKey"in D&&n(1,N=D.selectionKey),"selectionMode"in D&&n(45,A=D.selectionMode),"panActivationKey"in D&&n(2,W=D.panActivationKey),"multiSelectionKey"in D&&n(3,k=D.multiSelectionKey),"zoomActivationKey"in D&&n(4,V=D.zoomActivationKey),"nodesDraggable"in D&&n(46,p=D.nodesDraggable),"nodesConnectable"in D&&n(47,M=D.nodesConnectable),"nodeDragThreshold"in D&&n(48,L=D.nodeDragThreshold),"elementsSelectable"in D&&n(49,T=D.elementsSelectable),"snapGrid"in D&&n(50,Z=D.snapGrid),"deleteKey"in D&&n(5,j=D.deleteKey),"connectionRadius"in D&&n(51,$=D.connectionRadius),"connectionLineType"in D&&n(52,ee=D.connectionLineType),"connectionMode"in D&&n(53,K=D.connectionMode),"connectionLineStyle"in D&&n(6,re=D.connectionLineStyle),"connectionLineContainerStyle"in D&&n(7,ge=D.connectionLineContainerStyle),"onMoveStart"in D&&n(8,Y=D.onMoveStart),"onMove"in D&&n(9,me=D.onMove),"onMoveEnd"in D&&n(10,_e=D.onMoveEnd),"isValidConnection"in D&&n(54,ke=D.isValidConnection),"translateExtent"in D&&n(55,Ee=D.translateExtent),"nodeExtent"in D&&n(56,Pe=D.nodeExtent),"onlyRenderVisibleElements"in D&&n(57,He=D.onlyRenderVisibleElements),"panOnScrollMode"in D&&n(11,J=D.panOnScrollMode),"preventScrolling"in D&&n(12,Be=D.preventScrolling),"zoomOnScroll"in D&&n(13,De=D.zoomOnScroll),"zoomOnDoubleClick"in D&&n(14,It=D.zoomOnDoubleClick),"zoomOnPinch"in D&&n(15,pt=D.zoomOnPinch),"panOnScroll"in D&&n(16,vt=D.panOnScroll),"panOnDrag"in D&&n(17,Ye=D.panOnDrag),"selectionOnDrag"in D&&n(18,Et=D.selectionOnDrag),"autoPanOnConnect"in D&&n(58,ue=D.autoPanOnConnect),"autoPanOnNodeDrag"in D&&n(59,Nt=D.autoPanOnNodeDrag),"onerror"in D&&n(60,Dt=D.onerror),"ondelete"in D&&n(61,x=D.ondelete),"onedgecreate"in D&&n(62,Lt=D.onedgecreate),"attributionPosition"in D&&n(19,Ke=D.attributionPosition),"proOptions"in D&&n(20,xe=D.proOptions),"defaultEdgeOptions"in D&&n(21,ae=D.defaultEdgeOptions),"width"in D&&n(63,St=D.width),"height"in D&&n(64,$e=D.height),"colorMode"in D&&n(65,Ze=D.colorMode),"onconnect"in D&&n(66,Ut=D.onconnect),"onconnectstart"in D&&n(67,qt=D.onconnectstart),"onconnectend"in D&&n(68,Qt=D.onconnectend),"onbeforedelete"in D&&n(69,jt=D.onbeforedelete),"oninit"in D&&n(70,Tt=D.oninit),"nodeOrigin"in D&&n(71,Rt=D.nodeOrigin),"paneClickDistance"in D&&n(22,An=D.paneClickDistance),"nodeClickDistance"in D&&n(23,Po=D.nodeClickDistance),"defaultMarkerColor"in D&&n(72,Di=D.defaultMarkerColor),"style"in D&&n(24,Mo=D.style),"class"in D&&n(25,Oo=D.class),"$$scope"in D&&n(99,_=D.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&Jt!==void 0&&xt!==void 0&&(Ge.width.set(Jt),Ge.height.set(xt)),t.$$.dirty[2]&6400&&!Li&&s&&(Tt==null||Tt(),n(73,Li=!0)),t.$$.dirty[1]&2097135632|t.$$.dirty[2]&1777&&p1(Ge,{flowId:w,connectionLineType:ee,connectionRadius:$,selectionMode:A,snapGrid:Z,defaultMarkerColor:Di,nodesDraggable:p,nodesConnectable:M,elementsSelectable:T,onlyRenderVisibleElements:He,isValidConnection:ke,autoPanOnConnect:ue,autoPanOnNodeDrag:Nt,onerror:Dt,ondelete:x,onedgecreate:Lt,connectionMode:K,nodeDragThreshold:L,onconnect:Ut,onconnectstart:qt,onconnectend:Qt,onbeforedelete:jt,nodeOrigin:Rt}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&Fr(Ge,{nodeTypes:I,edgeTypes:R,minZoom:C,maxZoom:O,translateExtent:Ee,paneClickDistance:An}),t.$$.dirty[2]&8&&c(n(29,i=E1(Ze)))},[z,N,W,k,V,j,re,ge,Y,me,_e,J,Be,De,It,pt,vt,Ye,Et,Ke,xe,ae,An,Po,Mo,Oo,Jt,xt,Hn,i,f,Ts,zo,r,m,w,g,E,b,S,C,O,P,I,R,A,p,M,L,T,Z,$,ee,K,ke,Ee,Pe,He,ue,Nt,Dt,x,Lt,St,$e,Ze,Ut,qt,Qt,jt,Tt,Rt,Di,Li,s,h,As,Hs,Fs,Vs,Rs,Ws,Bs,Xs,Ys,Ks,Zs,Gs,Us,qs,Qs,js,Js,xs,$s,ea,ta,na,ia,_]}class N1 extends fe{constructor(e){super(),ce(this,e,I1,z1,he,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}function D1(t){let e;const n=t[7].default,i=qe(n,t,t[6],null);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&64)&&Qe(i,n,o,o[6],e?Je(n,o[6],r,null):je(o[6]),null)},i(o){e||(H(i,o),e=!0)},o(o){X(i,o),e=!1},d(o){i&&i.d(o)}}}function L1(t,e,n){let{$$slots:i={},$$scope:o}=e,{initialNodes:r=void 0}=e,{initialEdges:s=void 0}=e,{initialWidth:l=void 0}=e,{initialHeight:a=void 0}=e,{fitView:u=void 0}=e,{nodeOrigin:f=void 0}=e;const d=Ps({nodes:r,edges:s,width:l,height:a,nodeOrigin:f,fitView:u});return kn(Ii,{getStore:()=>d}),yi(()=>{d.reset()}),t.$$set=c=>{"initialNodes"in c&&n(0,r=c.initialNodes),"initialEdges"in c&&n(1,s=c.initialEdges),"initialWidth"in c&&n(2,l=c.initialWidth),"initialHeight"in c&&n(3,a=c.initialHeight),"fitView"in c&&n(4,u=c.fitView),"nodeOrigin"in c&&n(5,f=c.nodeOrigin),"$$scope"in c&&n(6,o=c.$$scope)},[r,s,l,a,u,f,o,i]}class T1 extends fe{constructor(e){super(),ce(this,e,L1,D1,he,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4,nodeOrigin:5})}}const A1=t=>({}),Rr=t=>({class:"button-svg"});function H1(t){let e,n,i,o,r;const s=t[8].default,l=qe(s,t,t[7],Rr);let a=[{type:"button"},{class:n=Ne(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let f=0;f<a.length;f+=1)u=Me(u,a[f]);return{c(){e=Se("button"),l&&l.c(),this.h()},l(f){e=Ce(f,"BUTTON",{type:!0,class:!0});var d=F(e);l&&l.l(d),d.forEach(v),this.h()},h(){Ft(e,u),le(e,"--xy-controls-button-background-color-props",t[1]),le(e,"--xy-controls-button-background-color-hover-props",t[2]),le(e,"--xy-controls-button-color-props",t[3]),le(e,"--xy-controls-button-color-hover-props",t[4]),le(e,"--xy-controls-button-border-color-props",t[5])},m(f,d){Q(f,e,d),l&&l.m(e,null),e.autofocus&&e.focus(),i=!0,o||(r=Oe(e,"click",t[9]),o=!0)},p(f,[d]){l&&l.p&&(!i||d&128)&&Qe(l,s,f,f[7],i?Je(s,f[7],d,A1):je(f[7]),Rr),Ft(e,u=gt(a,[{type:"button"},(!i||d&1&&n!==(n=Ne(["svelte-flow__controls-button",f[0]])))&&{class:n},d&64&&f[6]])),le(e,"--xy-controls-button-background-color-props",f[1]),le(e,"--xy-controls-button-background-color-hover-props",f[2]),le(e,"--xy-controls-button-color-props",f[3]),le(e,"--xy-controls-button-color-hover-props",f[4]),le(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(H(l,f),i=!0)},o(f){X(l,f),i=!1},d(f){f&&v(e),l&&l.d(f),o=!1,r()}}}function F1(t,e,n){const i=["class"];let o=Ae(e,i),{$$slots:r={},$$scope:s}=e,{class:l=void 0}=e,a,u,f,d,c;function h(_){ze.call(this,t,_)}return t.$$set=_=>{e=Me(Me({},e),ot(_)),n(6,o=Ae(e,i)),"class"in _&&n(0,l=_.class),"$$scope"in _&&n(7,s=_.$$scope)},[l,a,u,f,d,c,o,s,r,h]}class mi extends fe{constructor(e){super(),ce(this,e,F1,H1,he,{class:0})}}function V1(t){let e,n;return{c(){e=U("svg"),n=U("path"),this.h()},l(i){e=q(i,"svg",{xmlns:!0,viewBox:!0});var o=F(e);n=q(o,"path",{d:!0}),F(n).forEach(v),o.forEach(v),this.h()},h(){y(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"viewBox","0 0 32 32")},m(i,o){Q(i,e,o),B(e,n)},p:be,i:be,o:be,d(i){i&&v(e)}}}class R1 extends fe{constructor(e){super(),ce(this,e,null,V1,he,{})}}function W1(t){let e,n;return{c(){e=U("svg"),n=U("path"),this.h()},l(i){e=q(i,"svg",{xmlns:!0,viewBox:!0});var o=F(e);n=q(o,"path",{d:!0}),F(n).forEach(v),o.forEach(v),this.h()},h(){y(n,"d","M0 0h32v4.2H0z"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"viewBox","0 0 32 5")},m(i,o){Q(i,e,o),B(e,n)},p:be,i:be,o:be,d(i){i&&v(e)}}}class B1 extends fe{constructor(e){super(),ce(this,e,null,W1,he,{})}}function X1(t){let e,n;return{c(){e=U("svg"),n=U("path"),this.h()},l(i){e=q(i,"svg",{xmlns:!0,viewBox:!0});var o=F(e);n=q(o,"path",{d:!0}),F(n).forEach(v),o.forEach(v),this.h()},h(){y(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"viewBox","0 0 32 30")},m(i,o){Q(i,e,o),B(e,n)},p:be,i:be,o:be,d(i){i&&v(e)}}}class Y1 extends fe{constructor(e){super(),ce(this,e,null,X1,he,{})}}function K1(t){let e,n;return{c(){e=U("svg"),n=U("path"),this.h()},l(i){e=q(i,"svg",{xmlns:!0,viewBox:!0});var o=F(e);n=q(o,"path",{d:!0}),F(n).forEach(v),o.forEach(v),this.h()},h(){y(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"viewBox","0 0 25 32")},m(i,o){Q(i,e,o),B(e,n)},p:be,i:be,o:be,d(i){i&&v(e)}}}class Z1 extends fe{constructor(e){super(),ce(this,e,null,K1,he,{})}}function G1(t){let e,n;return{c(){e=U("svg"),n=U("path"),this.h()},l(i){e=q(i,"svg",{xmlns:!0,viewBox:!0});var o=F(e);n=q(o,"path",{d:!0}),F(n).forEach(v),o.forEach(v),this.h()},h(){y(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"viewBox","0 0 25 32")},m(i,o){Q(i,e,o),B(e,n)},p:be,i:be,o:be,d(i){i&&v(e)}}}class U1 extends fe{constructor(e){super(),ce(this,e,null,G1,he,{})}}const q1=t=>({}),Wr=t=>({}),Q1=t=>({}),Br=t=>({});function Xr(t){let e,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let s={$$slots:{default:[j1]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)s=Me(s,r[u]);e=new mi({props:s}),e.$on("click",t[18]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[J1]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)a=Me(a,l[u]);return i=new mi({props:a}),i.$on("click",t[19]),{c(){ne(e.$$.fragment),n=pe(),ne(i.$$.fragment)},l(u){se(e.$$.fragment,u),n=ve(u),se(i.$$.fragment,u)},m(u,f){ie(e,u,f),Q(u,n,f),ie(i,u,f),o=!0},p(u,f){const d=f[0]&131584?gt(r,[r[0],r[1],r[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&Xt(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),e.$set(d);const c=f[0]&132096?gt(l,[l[0],l[1],l[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&Xt(u[17])]):{};f[1]&32&&(c.$$scope={dirty:f,ctx:u}),i.$set(c)},i(u){o||(H(e.$$.fragment,u),H(i.$$.fragment,u),o=!0)},o(u){X(e.$$.fragment,u),X(i.$$.fragment,u),o=!1},d(u){u&&v(n),oe(e,u),oe(i,u)}}}function j1(t){let e,n;return e=new R1({}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function J1(t){let e,n;return e=new B1({}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Yr(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[x1]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=Me(o,i[r]);return e=new mi({props:o}),e.$on("click",t[20]),{c(){ne(e.$$.fragment)},l(r){se(e.$$.fragment,r)},m(r,s){ie(e,r,s),n=!0},p(r,s){const l=s[0]&131072?gt(i,[i[0],i[1],i[2],Xt(r[17])]):{};s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(H(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function x1(t){let e,n;return e=new Y1({}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Kr(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[t0]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=Me(o,i[r]);return e=new mi({props:o}),e.$on("click",t[21]),{c(){ne(e.$$.fragment)},l(r){se(e.$$.fragment,r)},m(r,s){ie(e,r,s),n=!0},p(r,s){const l=s[0]&131072?gt(i,[i[0],i[1],i[2],Xt(r[17])]):{};s[0]&256|s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(H(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function $1(t){let e,n;return e=new Z1({}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function e0(t){let e,n;return e=new U1({}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function t0(t){let e,n,i,o;const r=[e0,$1],s=[];function l(a,u){return a[8]?0:1}return e=l(t),n=s[e]=r[e](t),{c(){n.c(),i=Ie()},l(a){n.l(a),i=Ie()},m(a,u){s[e].m(a,u),Q(a,i,u),o=!0},p(a,u){let f=e;e=l(a),e!==f&&(Le(),X(s[f],1,1,()=>{s[f]=null}),Te(),n=s[e],n||(n=s[e]=r[e](a),n.c()),H(n,1),n.m(i.parentNode,i))},i(a){o||(H(n),o=!0)},o(a){X(n),o=!1},d(a){a&&v(i),s[e].d(a)}}}function n0(t){let e,n,i,o,r,s;const l=t[35].before,a=qe(l,t,t[36],Br);let u=t[1]&&Xr(t),f=t[2]&&Yr(t),d=t[3]&&Kr(t);const c=t[35].default,h=qe(c,t,t[36],null),_=t[35].after,m=qe(_,t,t[36],Wr);return{c(){a&&a.c(),e=pe(),u&&u.c(),n=pe(),f&&f.c(),i=pe(),d&&d.c(),o=pe(),h&&h.c(),r=pe(),m&&m.c()},l(w){a&&a.l(w),e=ve(w),u&&u.l(w),n=ve(w),f&&f.l(w),i=ve(w),d&&d.l(w),o=ve(w),h&&h.l(w),r=ve(w),m&&m.l(w)},m(w,g){a&&a.m(w,g),Q(w,e,g),u&&u.m(w,g),Q(w,n,g),f&&f.m(w,g),Q(w,i,g),d&&d.m(w,g),Q(w,o,g),h&&h.m(w,g),Q(w,r,g),m&&m.m(w,g),s=!0},p(w,g){a&&a.p&&(!s||g[1]&32)&&Qe(a,l,w,w[36],s?Je(l,w[36],g,Q1):je(w[36]),Br),w[1]?u?(u.p(w,g),g[0]&2&&H(u,1)):(u=Xr(w),u.c(),H(u,1),u.m(n.parentNode,n)):u&&(Le(),X(u,1,1,()=>{u=null}),Te()),w[2]?f?(f.p(w,g),g[0]&4&&H(f,1)):(f=Yr(w),f.c(),H(f,1),f.m(i.parentNode,i)):f&&(Le(),X(f,1,1,()=>{f=null}),Te()),w[3]?d?(d.p(w,g),g[0]&8&&H(d,1)):(d=Kr(w),d.c(),H(d,1),d.m(o.parentNode,o)):d&&(Le(),X(d,1,1,()=>{d=null}),Te()),h&&h.p&&(!s||g[1]&32)&&Qe(h,c,w,w[36],s?Je(c,w[36],g,null):je(w[36]),null),m&&m.p&&(!s||g[1]&32)&&Qe(m,_,w,w[36],s?Je(_,w[36],g,q1):je(w[36]),Wr)},i(w){s||(H(a,w),H(u),H(f),H(d),H(h,w),H(m,w),s=!0)},o(w){X(a,w),X(u),X(f),X(d),X(h,w),X(m,w),s=!1},d(w){w&&(v(e),v(n),v(i),v(o),v(r)),a&&a.d(w),u&&u.d(w),f&&f.d(w),d&&d.d(w),h&&h.d(w),m&&m.d(w)}}}function i0(t){let e,n;return e=new Eo({props:{class:Ne(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[n0]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const r={};o[0]&192&&(r.class=Ne(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(r.position=i[0]),o[0]&16&&(r["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(r.style=i[5]),o[0]&1806|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function o0(t,e,n){let i,o,r,s,l,a,u,f,d,c,{$$slots:h={},$$scope:_}=e,{position:m="bottom-left"}=e,{showZoom:w=!0}=e,{showFitView:g=!0}=e,{showLock:E=!0}=e,{buttonBgColor:b=void 0}=e,{buttonBgColorHover:S=void 0}=e,{buttonColor:C=void 0}=e,{buttonColorHover:O=void 0}=e,{buttonBorderColor:P=void 0}=e,{ariaLabel:z=void 0}=e,{style:I=void 0}=e,{orientation:R="vertical"}=e,{fitViewOptions:N=void 0}=e,{class:A=""}=e;const{zoomIn:W,zoomOut:k,fitView:V,viewport:p,minZoom:M,maxZoom:L,nodesDraggable:T,nodesConnectable:Z,elementsSelectable:j}=We();te(t,p,Y=>n(30,a=Y)),te(t,M,Y=>n(31,u=Y)),te(t,L,Y=>n(29,l=Y)),te(t,T,Y=>n(34,c=Y)),te(t,Z,Y=>n(33,d=Y)),te(t,j,Y=>n(32,f=Y));const $={bgColor:b,bgColorHover:S,color:C,colorHover:O,borderColor:P},ee=()=>{W()},K=()=>{k()},re=()=>{V(N)},ge=()=>{n(8,i=!i),T.set(i),Z.set(i),j.set(i)};return t.$$set=Y=>{"position"in Y&&n(0,m=Y.position),"showZoom"in Y&&n(1,w=Y.showZoom),"showFitView"in Y&&n(2,g=Y.showFitView),"showLock"in Y&&n(3,E=Y.showLock),"buttonBgColor"in Y&&n(22,b=Y.buttonBgColor),"buttonBgColorHover"in Y&&n(23,S=Y.buttonBgColorHover),"buttonColor"in Y&&n(24,C=Y.buttonColor),"buttonColorHover"in Y&&n(25,O=Y.buttonColorHover),"buttonBorderColor"in Y&&n(26,P=Y.buttonBorderColor),"ariaLabel"in Y&&n(4,z=Y.ariaLabel),"style"in Y&&n(5,I=Y.style),"orientation"in Y&&n(27,R=Y.orientation),"fitViewOptions"in Y&&n(28,N=Y.fitViewOptions),"class"in Y&&n(6,A=Y.class),"$$scope"in Y&&n(36,_=Y.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=c||d||f),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=a.zoom<=u),t.$$.dirty[0]&1610612736&&n(9,r=a.zoom>=l),t.$$.dirty[0]&134217728&&n(7,s=R==="horizontal"?"horizontal":"vertical")},[m,w,g,E,z,I,A,s,i,r,o,p,M,L,T,Z,j,$,ee,K,re,ge,b,S,C,O,P,R,N,l,a,u,f,d,c,h,_]}class r0 extends fe{constructor(e){super(),ce(this,e,o0,i0,he,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var Ht;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Ht||(Ht={}));function l0(t){let e,n;return{c(){e=U("circle"),this.h()},l(i){e=q(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),F(e).forEach(v),this.h()},h(){y(e,"cx",t[0]),y(e,"cy",t[0]),y(e,"r",t[0]),y(e,"class",n=Ne(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){Q(i,e,o)},p(i,[o]){o&1&&y(e,"cx",i[0]),o&1&&y(e,"cy",i[0]),o&1&&y(e,"r",i[0]),o&2&&n!==(n=Ne(["svelte-flow__background-pattern","dots",i[1]]))&&y(e,"class",n)},i:be,o:be,d(i){i&&v(e)}}}function s0(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class a0 extends fe{constructor(e){super(),ce(this,e,s0,l0,he,{radius:0,class:1})}}function u0(t){let e,n,i;return{c(){e=U("path"),this.h()},l(o){e=q(o,"path",{"stroke-width":!0,d:!0,class:!0}),F(e).forEach(v),this.h()},h(){y(e,"stroke-width",t[0]),y(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),y(e,"class",i=Ne(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,r){Q(o,e,r)},p(o,[r]){r&1&&y(e,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&y(e,"d",n),r&12&&i!==(i=Ne(["svelte-flow__background-pattern",o[2],o[3]]))&&y(e,"class",i)},i:be,o:be,d(o){o&&v(e)}}}function f0(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:r=void 0}=e,{class:s=""}=e;return t.$$set=l=>{"lineWidth"in l&&n(0,i=l.lineWidth),"dimensions"in l&&n(1,o=l.dimensions),"variant"in l&&n(2,r=l.variant),"class"in l&&n(3,s=l.class)},[i,o,r,s]}class c0 extends fe{constructor(e){super(),ce(this,e,f0,u0,he,{lineWidth:0,dimensions:1,variant:2,class:3})}}function d0(t){let e,n;return e=new c0({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function h0(t){let e,n;return e=new a0({props:{radius:t[7]/2,class:t[4]}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function g0(t){let e,n,i,o,r,s,l,a,u,f,d,c,h;const _=[h0,d0],m=[];function w(g,E){return g[14]?0:1}return i=w(t),o=m[i]=_[i](t),{c(){e=U("svg"),n=U("pattern"),o.c(),f=U("rect"),this.h()},l(g){e=q(g,"svg",{class:!0,"data-testid":!0});var E=F(e);n=q(E,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var b=F(n);o.l(b),b.forEach(v),f=q(E,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),F(f).forEach(v),E.forEach(v),this.h()},h(){y(n,"id",t[11]),y(n,"x",r=t[9].x%t[8][0]),y(n,"y",s=t[9].y%t[8][1]),y(n,"width",l=t[8][0]),y(n,"height",a=t[8][1]),y(n,"patternUnits","userSpaceOnUse"),y(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),y(f,"x","0"),y(f,"y","0"),y(f,"width","100%"),y(f,"height","100%"),y(f,"fill",d=`url(#${t[11]})`),y(e,"class",c=ei(Ne(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),y(e,"data-testid","svelte-flow__background"),le(e,"--xy-background-color-props",t[2]),le(e,"--xy-background-pattern-color-props",t[3])},m(g,E){Q(g,e,E),B(e,n),m[i].m(n,null),B(e,f),h=!0},p(g,[E]){o.p(g,E),(!h||E&2048)&&y(n,"id",g[11]),(!h||E&768&&r!==(r=g[9].x%g[8][0]))&&y(n,"x",r),(!h||E&768&&s!==(s=g[9].y%g[8][1]))&&y(n,"y",s),(!h||E&256&&l!==(l=g[8][0]))&&y(n,"width",l),(!h||E&256&&a!==(a=g[8][1]))&&y(n,"height",a),(!h||E&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&y(n,"patternTransform",u),(!h||E&2048&&d!==(d=`url(#${g[11]})`))&&y(f,"fill",d),(!h||E&32&&c!==(c=ei(Ne(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&y(e,"class",c),E&4&&le(e,"--xy-background-color-props",g[2]),E&8&&le(e,"--xy-background-pattern-color-props",g[3])},i(g){h||(H(o),h=!0)},o(g){X(o),h=!1},d(g){g&&v(e),m[i].d()}}}const m0={[Ht.Dots]:1,[Ht.Lines]:1,[Ht.Cross]:6};function y0(t,e,n){let i,o,r,s,l,a,u,{id:f=void 0}=e,{variant:d=Ht.Dots}=e,{gap:c=20}=e,{size:h=1}=e,{lineWidth:_=1}=e,{bgColor:m=void 0}=e,{patternColor:w=void 0}=e,{patternClass:g=void 0}=e,{class:E=""}=e;const{viewport:b,flowId:S}=We();te(t,b,I=>n(9,a=I)),te(t,S,I=>n(18,u=I));const C=h||m0[d],O=d===Ht.Dots,P=d===Ht.Cross,z=Array.isArray(c)?c:[c,c];return t.$$set=I=>{"id"in I&&n(15,f=I.id),"variant"in I&&n(0,d=I.variant),"gap"in I&&n(16,c=I.gap),"size"in I&&n(17,h=I.size),"lineWidth"in I&&n(1,_=I.lineWidth),"bgColor"in I&&n(2,m=I.bgColor),"patternColor"in I&&n(3,w=I.patternColor),"patternClass"in I&&n(4,g=I.patternClass),"class"in I&&n(5,E=I.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),t.$$.dirty&512&&n(8,o=[z[0]*a.zoom||1,z[1]*a.zoom||1]),t.$$.dirty&512&&n(7,r=C*a.zoom),t.$$.dirty&384&&n(6,s=P?[r,r]:o),t.$$.dirty&192&&n(10,l=O?[r/2,r/2]:[s[0]/2,s[1]/2])},[d,_,m,w,g,E,s,r,o,a,l,i,b,S,O,f,c,h,u]}class _0 extends fe{constructor(e){super(),ce(this,e,y0,g0,he,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function w0(t){let e,n,i;return{c(){e=U("rect"),this.h()},l(o){e=q(o,"rect",{class:!0,x:!0,y:!0,rx:!0,ry:!0,width:!0,height:!0,style:!0,"shape-rendering":!0}),F(e).forEach(v),this.h()},h(){y(e,"class",n=Ne(["svelte-flow__minimap-node",t[10]])),y(e,"x",t[0]),y(e,"y",t[1]),y(e,"rx",t[4]),y(e,"ry",t[4]),y(e,"width",t[2]),y(e,"height",t[3]),y(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),y(e,"shape-rendering",t[6]),we(e,"selected",t[9])},m(o,r){Q(o,e,r)},p(o,[r]){r&1024&&n!==(n=Ne(["svelte-flow__minimap-node",o[10]]))&&y(e,"class",n),r&1&&y(e,"x",o[0]),r&2&&y(e,"y",o[1]),r&16&&y(e,"rx",o[4]),r&16&&y(e,"ry",o[4]),r&4&&y(e,"width",o[2]),r&8&&y(e,"height",o[3]),r&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&y(e,"style",i),r&64&&y(e,"shape-rendering",o[6]),r&1536&&we(e,"selected",o[9])},i:be,o:be,d(o){o&&v(e)}}}function b0(t,e,n){let{x:i}=e,{y:o}=e,{width:r=0}=e,{height:s=0}=e,{borderRadius:l=5}=e,{color:a=void 0}=e,{shapeRendering:u}=e,{strokeColor:f=void 0}=e,{strokeWidth:d=2}=e,{selected:c=!1}=e,{class:h=""}=e;return t.$$set=_=>{"x"in _&&n(0,i=_.x),"y"in _&&n(1,o=_.y),"width"in _&&n(2,r=_.width),"height"in _&&n(3,s=_.height),"borderRadius"in _&&n(4,l=_.borderRadius),"color"in _&&n(5,a=_.color),"shapeRendering"in _&&n(6,u=_.shapeRendering),"strokeColor"in _&&n(7,f=_.strokeColor),"strokeWidth"in _&&n(8,d=_.strokeWidth),"selected"in _&&n(9,c=_.selected),"class"in _&&n(10,h=_.class)},[i,o,r,s,l,a,u,f,d,c,h]}class k0 extends fe{constructor(e){super(),ce(this,e,b0,w0,he,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function p0(t,e){const n=yh({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=G(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function Zr(t,e,n){const i=t.slice();i[55]=e[n];const o=i[20].get(i[55].id);return i[56]=o,i}function Yi(t){const e=t.slice(),n=Vt(e[56]);return e[59]=n,e}function Gr(t){let e,n,i=[],o=new Map,r,s,l,a,u,f,d,c=t[1]&&Ur(t),h=lt(t[19]);const _=m=>m[55].id;for(let m=0;m<h.length;m+=1){let w=Zr(t,h,m),g=_(w);o.set(g,i[m]=Qr(g,w))}return{c(){e=U("svg"),c&&c.c(),n=Ie();for(let m=0;m<i.length;m+=1)i[m].c();r=U("path"),this.h()},l(m){e=q(m,"svg",{width:!0,height:!0,viewBox:!0,class:!0,role:!0,"aria-labelledby":!0});var w=F(e);c&&c.l(w),n=Ie();for(let g=0;g<i.length;g+=1)i[g].l(w);r=q(w,"path",{class:!0,d:!0,"fill-rule":!0,"pointer-events":!0}),F(r).forEach(v),w.forEach(v),this.h()},h(){y(r,"class","svelte-flow__minimap-mask"),y(r,"d",s="M"+(t[26]-t[15])+","+(t[25]-t[15])+"h"+(t[24]+t[15]*2)+"v"+(t[23]+t[15]*2)+"h"+(-t[24]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),y(r,"fill-rule","evenodd"),y(r,"pointer-events","none"),y(e,"width",t[17]),y(e,"height",t[16]),y(e,"viewBox",l=t[26]+" "+t[25]+" "+t[24]+" "+t[23]),y(e,"class","svelte-flow__minimap-svg"),y(e,"role","img"),y(e,"aria-labelledby",t[41]),le(e,"--xy-minimap-mask-background-color-props",t[5]),le(e,"--xy-minimap-mask-stroke-color-props",t[6]),le(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(m,w){Q(m,e,w),c&&c.m(e,null),B(e,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(e,null);B(e,r),u=!0,f||(d=Ue(a=p0.call(null,e,{panZoom:t[27],viewport:t[31],getViewScale:t[42],translateExtent:t[28],width:t[22],height:t[21],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),f=!0)},p(m,w){m[1]?c?c.p(m,w):(c=Ur(m),c.c(),c.m(e,n)):c&&(c.d(1),c=null),w[0]&1572876|w[1]&960&&(h=lt(m[19]),Le(),i=wi(i,w,_,1,m,h,o,e,_i,Qr,r,Zr),Te()),(!u||w[0]&126124032&&s!==(s="M"+(m[26]-m[15])+","+(m[25]-m[15])+"h"+(m[24]+m[15]*2)+"v"+(m[23]+m[15]*2)+"h"+(-m[24]-m[15]*2)+`z
      M`+m[18].x+","+m[18].y+"h"+m[18].width+"v"+m[18].height+"h"+-m[18].width+"z"))&&y(r,"d",s),(!u||w[0]&131072)&&y(e,"width",m[17]),(!u||w[0]&65536)&&y(e,"height",m[16]),(!u||w[0]&125829120&&l!==(l=m[26]+" "+m[25]+" "+m[24]+" "+m[23]))&&y(e,"viewBox",l),a&&Fe(a.update)&&w[0]&408948480&&a.update.call(null,{panZoom:m[27],viewport:m[31],getViewScale:m[42],translateExtent:m[28],width:m[22],height:m[21],inversePan:m[10],zoomStep:m[11],pannable:m[8],zoomable:m[9]}),w[0]&32&&le(e,"--xy-minimap-mask-background-color-props",m[5]),w[0]&64&&le(e,"--xy-minimap-mask-stroke-color-props",m[6]),w[0]&16512&&le(e,"--xy-minimap-mask-stroke-width-props",m[7]?m[7]*m[14]:void 0)},i(m){if(!u){for(let w=0;w<h.length;w+=1)H(i[w]);u=!0}},o(m){for(let w=0;w<i.length;w+=1)X(i[w]);u=!1},d(m){m&&v(e),c&&c.d();for(let w=0;w<i.length;w+=1)i[w].d();f=!1,d()}}}function Ur(t){let e,n;return{c(){e=U("title"),n=Ve(t[1]),this.h()},l(i){e=q(i,"title",{id:!0});var o=F(e);n=Re(o,t[1]),o.forEach(v),this.h()},h(){y(e,"id",t[41])},m(i,o){Q(i,e,o),B(e,n)},p(i,o){o[0]&2&&bt(n,i[1])},d(i){i&&v(e)}}}function qr(t){var r;let e,n;const i=[{x:t[56].internals.positionAbsolute.x},{y:t[56].internals.positionAbsolute.y},t[59],{selected:t[56].selected},{color:(r=t[37])==null?void 0:r.call(t,t[56])},{borderRadius:t[2]},{strokeColor:t[38](t[56])},{strokeWidth:t[3]},{shapeRendering:t[40]},{class:t[39](t[56])}];let o={};for(let s=0;s<i.length;s+=1)o=Me(o,i[s]);return e=new k0({props:o}),{c(){ne(e.$$.fragment)},l(s){se(e.$$.fragment,s)},m(s,l){ie(e,s,l),n=!0},p(s,l){var u;const a=l[0]&1572876|l[1]&960?gt(i,[l[0]&1572864&&{x:s[56].internals.positionAbsolute.x},l[0]&1572864&&{y:s[56].internals.positionAbsolute.y},l[0]&1572864&&Xt(s[59]),l[0]&1572864&&{selected:s[56].selected},l[0]&1572864|l[1]&64&&{color:(u=s[37])==null?void 0:u.call(s,s[56])},l[0]&4&&{borderRadius:s[2]},l[0]&1572864|l[1]&128&&{strokeColor:s[38](s[56])},l[0]&8&&{strokeWidth:s[3]},l[1]&512&&{shapeRendering:s[40]},l[0]&1572864|l[1]&256&&{class:s[39](s[56])}]):{};e.$set(a)},i(s){n||(H(e.$$.fragment,s),n=!0)},o(s){X(e.$$.fragment,s),n=!1},d(s){oe(e,s)}}}function Qr(t,e){let n,i=e[56]&&hi(e[56]),o,r,s=i&&qr(Yi(e));return{key:t,first:null,c(){n=Ie(),s&&s.c(),o=Ie(),this.h()},l(l){n=Ie(),s&&s.l(l),o=Ie(),this.h()},h(){this.first=n},m(l,a){Q(l,n,a),s&&s.m(l,a),Q(l,o,a),r=!0},p(l,a){e=l,a[0]&1572864&&(i=e[56]&&hi(e[56])),i?s?(s.p(Yi(e),a),a[0]&1572864&&H(s,1)):(s=qr(Yi(e)),s.c(),H(s,1),s.m(o.parentNode,o)):s&&(Le(),X(s,1,1,()=>{s=null}),Te())},i(l){r||(H(s),r=!0)},o(l){X(s),r=!1},d(l){l&&(v(n),v(o)),s&&s.d(l)}}}function v0(t){let e,n,i=t[27]&&Gr(t);return{c(){i&&i.c(),e=Ie()},l(o){i&&i.l(o),e=Ie()},m(o,r){i&&i.m(o,r),Q(o,e,r),n=!0},p(o,r){o[27]?i?(i.p(o,r),r[0]&134217728&&H(i,1)):(i=Gr(o),i.c(),H(i,1),i.m(e.parentNode,e)):i&&(Le(),X(i,1,1,()=>{i=null}),Te())},i(o){n||(H(i),n=!0)},o(o){X(i),n=!1},d(o){o&&v(e),i&&i.d(o)}}}function E0(t){let e,n;return e=new Eo({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:Ne(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[v0]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const r={};o[0]&1&&(r.position=i[0]),o[0]&4112&&(r.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(r.class=Ne(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}const Ki=t=>t instanceof Function?t:()=>t,S0=200,C0=150;function P0(t,e,n){let i,o,r,s,l,a,u,f,d,c,h,_,m,w,g,E,b,S,C,O,P,{position:z="bottom-right"}=e,{ariaLabel:I="Mini map"}=e,{nodeStrokeColor:R="transparent"}=e,{nodeColor:N=void 0}=e,{nodeClass:A=""}=e,{nodeBorderRadius:W=5}=e,{nodeStrokeWidth:k=2}=e,{bgColor:V=void 0}=e,{maskColor:p=void 0}=e,{maskStrokeColor:M=void 0}=e,{maskStrokeWidth:L=void 0}=e,{width:T=void 0}=e,{height:Z=void 0}=e,{pannable:j=!0}=e,{zoomable:$=!0}=e,{inversePan:ee=void 0}=e,{zoomStep:K=void 0}=e,{style:re=""}=e,{class:ge=""}=e;const{nodes:Y,nodeLookup:me,viewport:_e,width:ke,height:Ee,flowId:Pe,panZoom:He,translateExtent:J}=We();te(t,Y,ue=>n(19,w=ue)),te(t,me,ue=>n(20,g=ue)),te(t,_e,ue=>n(53,E=ue)),te(t,ke,ue=>n(22,S=ue)),te(t,Ee,ue=>n(21,b=ue)),te(t,Pe,ue=>n(54,C=ue)),te(t,He,ue=>n(27,O=ue)),te(t,J,ue=>n(28,P=ue));const Be=N===void 0?void 0:Ki(N),De=Ki(R),It=Ki(A),pt=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",vt=`svelte-flow__minimap-desc-${C}`;let Ye=i;const Et=()=>a;return t.$$set=ue=>{"position"in ue&&n(0,z=ue.position),"ariaLabel"in ue&&n(1,I=ue.ariaLabel),"nodeStrokeColor"in ue&&n(43,R=ue.nodeStrokeColor),"nodeColor"in ue&&n(44,N=ue.nodeColor),"nodeClass"in ue&&n(45,A=ue.nodeClass),"nodeBorderRadius"in ue&&n(2,W=ue.nodeBorderRadius),"nodeStrokeWidth"in ue&&n(3,k=ue.nodeStrokeWidth),"bgColor"in ue&&n(4,V=ue.bgColor),"maskColor"in ue&&n(5,p=ue.maskColor),"maskStrokeColor"in ue&&n(6,M=ue.maskStrokeColor),"maskStrokeWidth"in ue&&n(7,L=ue.maskStrokeWidth),"width"in ue&&n(46,T=ue.width),"height"in ue&&n(47,Z=ue.height),"pannable"in ue&&n(8,j=ue.pannable),"zoomable"in ue&&n(9,$=ue.zoomable),"inversePan"in ue&&n(10,ee=ue.inversePan),"zoomStep"in ue&&n(11,K=ue.zoomStep),"style"in ue&&n(12,re=ue.style),"class"in ue&&n(13,ge=ue.class)},t.$$.update=()=>{t.$$.dirty[0]&6291456|t.$$.dirty[1]&4194304&&n(18,i={x:-E.x/E.zoom,y:-E.y/E.zoom,width:S/E.zoom,height:b/E.zoom}),t.$$.dirty[0]&1835008&&n(48,Ye=g.size>0?rs(Ln(g),i):i),t.$$.dirty[1]&32768&&n(17,o=T??S0),t.$$.dirty[1]&65536&&n(16,r=Z??C0),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(52,s=Ye.width/o),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(51,l=Ye.height/r),t.$$.dirty[1]&3145728&&n(14,a=Math.max(s,l)),t.$$.dirty[0]&147456&&n(50,u=a*o),t.$$.dirty[0]&81920&&n(49,f=a*r),t.$$.dirty[0]&16384&&n(15,d=5*a),t.$$.dirty[0]&32768|t.$$.dirty[1]&655360&&n(26,c=Ye.x-(u-Ye.width)/2-d),t.$$.dirty[0]&32768|t.$$.dirty[1]&393216&&n(25,h=Ye.y-(f-Ye.height)/2-d),t.$$.dirty[0]&32768|t.$$.dirty[1]&524288&&n(24,_=u+d*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&262144&&n(23,m=f+d*2)},[z,I,W,k,V,p,M,L,j,$,ee,K,re,ge,a,d,r,o,i,w,g,b,S,m,_,h,c,O,P,Y,me,_e,ke,Ee,Pe,He,J,Be,De,It,pt,vt,Et,R,N,A,T,Z,Ye,f,u,l,s,E]}class M0 extends fe{constructor(e){super(),ce(this,e,P0,E0,he,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}const jr=t=>Fd(t);function O0(){const{zoomIn:t,zoomOut:e,fitView:n,onbeforedelete:i,snapGrid:o,viewport:r,width:s,height:l,minZoom:a,maxZoom:u,panZoom:f,nodes:d,edges:c,domNode:h,nodeLookup:_,nodeOrigin:m,edgeLookup:w,connectionLookup:g}=We(),E=C=>{var R,N;const O=G(_),P=jr(C)?C:O.get(C.id),z=P.parentId?Wd(P.position,P.measured,P.parentId,O,G(m)):P.position,I={id:P.id,position:z,width:((R=P.measured)==null?void 0:R.width)??P.width,height:((N=P.measured)==null?void 0:N.height)??P.height,data:P.data};return un(I)},b=(C,O,P={replace:!1})=>{var R;const z=(R=G(_).get(C))==null?void 0:R.internals.userNode;if(!z)return;const I=typeof O=="function"?O(z):O;P.replace?d.update(N=>N.map(A=>A.id===C?jr(I)?I:{...A,...I}:A)):(Object.assign(z,I),d.update(N=>N))},S=C=>G(_).get(C);return{zoomIn:t,zoomOut:e,getInternalNode:S,getNode:C=>{var O;return(O=S(C))==null?void 0:O.internals.userNode},getNodes:C=>C===void 0?G(d):Jr(G(_),C),getEdge:C=>G(w).get(C),getEdges:C=>C===void 0?G(c):Jr(G(w),C),setZoom:(C,O)=>{const P=G(f);return P?P.scaleTo(C,{duration:O==null?void 0:O.duration}):Promise.resolve(!1)},getZoom:()=>G(r).zoom,setViewport:async(C,O)=>{const P=G(r),z=G(f);return z?(await z.setViewport({x:C.x??P.x,y:C.y??P.y,zoom:C.zoom??P.zoom},{duration:O==null?void 0:O.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>G(r),setCenter:async(C,O,P)=>{const z=typeof(P==null?void 0:P.zoom)<"u"?P.zoom:G(u),I=G(f);return I?(await I.setViewport({x:G(s)/2-C*z,y:G(l)/2-O*z,zoom:z},{duration:P==null?void 0:P.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:n,fitBounds:async(C,O)=>{const P=G(f);if(!P)return Promise.resolve(!1);const z=Mi(C,G(s),G(l),G(a),G(u),(O==null?void 0:O.padding)??.1);return await P.setViewport(z,{duration:O==null?void 0:O.duration}),Promise.resolve(!0)},getIntersectingNodes:(C,O=!0,P)=>{const z=ur(C),I=z?C:E(C);return I?(P||G(d)).filter(R=>{const N=G(_).get(R.id);if(!N||!z&&R.id===C.id)return!1;const A=un(N),W=Pn(A,I);return O&&W>0||W>=I.width*I.height}):[]},isNodeIntersecting:(C,O,P=!0)=>{const I=ur(C)?C:E(C);if(!I)return!1;const R=Pn(I,O);return P&&R>0||R>=I.width*I.height},deleteElements:async({nodes:C=[],edges:O=[]})=>{const{nodes:P,edges:z}=await ns({nodesToRemove:C,edgesToRemove:O,nodes:G(d),edges:G(c),onBeforeDelete:G(i)});return P&&d.update(I=>I.filter(R=>!P.some(({id:N})=>N===R.id))),z&&c.update(I=>I.filter(R=>!z.some(({id:N})=>N===R.id))),{deletedNodes:P,deletedEdges:z}},screenToFlowPosition:(C,O={snapToGrid:!0})=>{const P=G(h);if(!P)return C;const z=O.snapToGrid?G(o):!1,{x:I,y:R,zoom:N}=G(r),{x:A,y:W}=P.getBoundingClientRect(),k={x:C.x-A,y:C.y-W};return Tn(k,[I,R,N],z!==null,z||[1,1])},flowToScreenPosition:C=>{const O=G(h);if(!O)return C;const{x:P,y:z,zoom:I}=G(r),{x:R,y:N}=O.getBoundingClientRect(),A=ls(C,[P,z,I]);return{x:A.x+R,y:A.y+N}},toObject:()=>({nodes:G(d).map(C=>({...C,position:{...C.position},data:{...C.data}})),edges:G(c).map(C=>({...C})),viewport:{...G(r)}}),updateNode:b,updateNodeData:(C,O,P)=>{var R;const z=(R=G(_).get(C))==null?void 0:R.internals.userNode;if(!z)return;const I=typeof O=="function"?O(z):O;z.data=P!=null&&P.replace?I:{...z.data,...I},d.update(N=>N)},getNodesBounds:C=>{const O=G(_),P=G(m);return es(C,{nodeLookup:O,nodeOrigin:P})},getHandleConnections:({type:C,id:O,nodeId:P})=>{var z;return Array.from(((z=G(g).get(`${P}-${C}-${O??null}`))==null?void 0:z.values())??[])},viewport:r}}function Jr(t,e){var i;const n=[];for(const o of e){const r=t.get(o);if(r){const s="internals"in r?(i=r.internals)==null?void 0:i.userNode:r;n.push(s)}}return n}function z0(t){let e,n,i,o,r=[t[1],{alt:"save as image"},{placeholder:"save chart as image"}],s={};for(let l=0;l<r.length;l+=1)s=Me(s,r[l]);return{c(){e=Se("button"),n=Ve(""),this.h()},l(l){e=Ce(l,"BUTTON",{alt:!0,placeholder:!0});var a=F(e);n=Re(a,""),a.forEach(v),this.h()},h(){Ft(e,s)},m(l,a){Q(l,e,a),B(e,n),e.autofocus&&e.focus(),i||(o=Oe(e,"click",t[0]),i=!0)},p(l,[a]){Ft(e,s=gt(r,[a&2&&l[1],{alt:"save as image"},{placeholder:"save chart as image"}]))},i:be,o:be,d(l){l&&v(e),i=!1,o()}}}const Zi=1024,Gi=768;function I0(t,e,n){const i=["nodes","fileName"];let o=Ae(e,i),{nodes:r=[]}=e,{fileName:s=""}=e;function l(){if(!Array.isArray(r)||r.length===0){console.error("No nodes available to generate image.");return}const a=es(r),u=Mi(a,Zi,Gi,.5,2,.2),f=document.querySelector(".svelte-flow__viewport");u&&nu(f,{width:Zi,height:Gi,style:{width:`${Zi}px`,height:`${Gi}px`,transform:`translate(${u.x}px, ${u.y}px) scale(${u.zoom})`}}).then(d=>{const c=document.createElement("a");c.download=`${s||""}_solothought-flowchart.png`,c.href=d,c.click()})}return t.$$set=a=>{e=Me(Me({},e),ot(a)),n(1,o=Ae(e,i)),"nodes"in a&&n(2,r=a.nodes),"fileName"in a&&n(3,s=a.fileName)},[l,o,r,s]}class N0 extends fe{constructor(e){super(),ce(this,e,I0,z0,he,{nodes:2,fileName:3})}}function D0(t){let e,n,i,o,r,s,l;return{c(){e=U("svg"),n=U("defs"),i=U("style"),o=Ve(`.cls-1 {
        fill: none;
      }
    `),r=U("title"),s=Ve("fork"),l=U("path"),this.h()},l(a){e=q(a,"svg",{fill:!0,width:!0,height:!0,viewBox:!0,id:!0,xmlns:!0});var u=F(e);n=q(u,"defs",{});var f=F(n);i=q(f,"style",{});var d=F(i);o=Re(d,`.cls-1 {
        fill: none;
      }
    `),d.forEach(v),f.forEach(v),r=q(u,"title",{});var c=F(r);s=Re(c,"fork"),c.forEach(v),l=q(u,"path",{d:!0}),F(l).forEach(v),u.forEach(v),this.h()},h(){y(l,"d","M26,18a3.9955,3.9955,0,0,0-3.858,3H18a3.0033,3.0033,0,0,1-3-3V14a4.9514,4.9514,0,0,0-1.0256-3H22.142a4,4,0,1,0,0-2H9.858a4,4,0,1,0,0,2H10a3.0033,3.0033,0,0,1,3,3v4a5.0059,5.0059,0,0,0,5,5h4.142A3.9935,3.9935,0,1,0,26,18ZM26,8a2,2,0,1,1-2,2A2.0023,2.0023,0,0,1,26,8ZM6,12a2,2,0,1,1,2-2A2.002,2.002,0,0,1,6,12ZM26,24a2,2,0,1,1,2-2A2.0027,2.0027,0,0,1,26,24Z"),y(e,"fill","#000000"),y(e,"width",t[0]),y(e,"height",t[1]),y(e,"viewBox","0 0 32 32"),y(e,"id","icon"),y(e,"xmlns","http://www.w3.org/2000/svg")},m(a,u){Q(a,e,u),B(e,n),B(n,i),B(i,o),B(e,r),B(r,s),B(e,l)},p(a,[u]){u&1&&y(e,"width",a[0]),u&2&&y(e,"height",a[1])},i:be,o:be,d(a){a&&v(e)}}}function L0(t,e,n){let{width:i="25px"}=e,{height:o="25px"}=e;return t.$$set=r=>{"width"in r&&n(0,i=r.width),"height"in r&&n(1,o=r.height)},[i,o]}class Is extends fe{constructor(e){super(),ce(this,e,L0,D0,he,{width:0,height:1})}}function xr(t,e,n){const i=t.slice();return i[9]=e[n],i[11]=n,i}function $r(t){let e,n=lt(t[0]),i=[];for(let o=0;o<n.length;o+=1)i[o]=el(xr(t,n,o));return{c(){e=Se("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=Ce(o,"DIV",{class:!0});var r=F(e);for(let s=0;s<i.length;s+=1)i[s].l(r);r.forEach(v),this.h()},h(){y(e,"class","paths-dropdown svelte-1ofxkkf")},m(o,r){Q(o,e,r);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null)},p(o,r){if(r&19){n=lt(o[0]);let s;for(s=0;s<n.length;s+=1){const l=xr(o,n,s);i[s]?i[s].p(l,r):(i[s]=el(l),i[s].c(),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(o){o&&v(e),wl(i,o)}}}function el(t){let e,n,i="",o,r,s,l=t[11]+1+"",a,u,f=t[9].length+"",d,c,h=t[1][t[9][t[9].length-1]].id+"",_,m,w,g;function E(){return t[6](t[11])}function b(){return t[7](t[11])}return{c(){e=Se("div"),n=Se("span"),n.textContent=i,o=pe(),r=Se("span"),s=Ve("Path "),a=Ve(l),u=Ve(" ("),d=Ve(f),c=Ve(" steps) ends at Step "),_=Ve(h),m=pe(),this.h()},l(S){e=Ce(S,"DIV",{class:!0});var C=F(e);n=Ce(C,"SPAN",{"data-svelte-h":!0}),yl(n)!=="svelte-mxem9z"&&(n.textContent=i),o=ve(C),r=Ce(C,"SPAN",{});var O=F(r);s=Re(O,"Path "),a=Re(O,l),u=Re(O," ("),d=Re(O,f),c=Re(O," steps) ends at Step "),_=Re(O,h),O.forEach(v),m=ve(C),C.forEach(v),this.h()},h(){y(e,"class","path-item svelte-1ofxkkf")},m(S,C){Q(S,e,C),B(e,n),B(e,o),B(e,r),B(r,s),B(r,a),B(r,u),B(r,d),B(r,c),B(r,_),B(e,m),w||(g=[Oe(n,"click",E),Oe(r,"click",b)],w=!0)},p(S,C){t=S,C&1&&f!==(f=t[9].length+"")&&bt(d,f),C&3&&h!==(h=t[1][t[9][t[9].length-1]].id+"")&&bt(_,h)},d(S){S&&v(e),w=!1,st(g)}}}function T0(t){let e,n,i,o,r,s,l;i=new Is({});let a=t[2]&&t[0].length>0&&$r(t);return{c(){e=Se("div"),n=Se("button"),ne(i.$$.fragment),o=pe(),a&&a.c(),this.h()},l(u){e=Ce(u,"DIV",{class:!0});var f=F(e);n=Ce(f,"BUTTON",{});var d=F(n);se(i.$$.fragment,d),d.forEach(v),o=ve(f),a&&a.l(f),f.forEach(v),this.h()},h(){y(e,"class","paths-dropdown-container svelte-1ofxkkf")},m(u,f){Q(u,e,f),B(e,n),ie(i,n,null),B(e,o),a&&a.m(e,null),r=!0,s||(l=Oe(n,"click",t[3]),s=!0)},p(u,[f]){u[2]&&u[0].length>0?a?a.p(u,f):(a=$r(u),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(u){r||(H(i.$$.fragment,u),r=!0)},o(u){X(i.$$.fragment,u),r=!1},d(u){u&&v(e),oe(i),a&&a.d(),s=!1,l()}}}function A0(t,e,n){let{paths:i=[]}=e,{nodes:o=[]}=e,{selectedFlowIndex:r=0}=e,s=!1;const l=Gt();function a(){n(2,s=!s)}function u(c,h="select"){if(i&&i[c]){const _=i[c];l("pathSelected",{mode:h,flowIndex:r,nodeIndexes:_.filter(m=>m!==-1)})}n(2,s=!1)}const f=c=>u(c,"play"),d=c=>u(c);return t.$$set=c=>{"paths"in c&&n(0,i=c.paths),"nodes"in c&&n(1,o=c.nodes),"selectedFlowIndex"in c&&n(5,r=c.selectedFlowIndex)},[i,o,s,a,u,r,f,d]}class H0 extends fe{constructor(e){super(),ce(this,e,A0,T0,he,{paths:0,nodes:1,selectedFlowIndex:5})}}function F0(t){let e,n,i,o,r,s,l,a,u,f,d,c,h,_,m,w,g,E,b,S,C,O,P,z,I,R,N,A,W,k,V,p;return{c(){e=U("svg"),n=U("defs"),i=U("style"),o=Ve(`@import url(https://fonts.googleapis.com/css2?family=Architects+Daughter:wght@400;500);&#xa;
    `),r=U("rect"),s=U("g"),l=U("g"),a=U("g"),u=U("g"),f=U("g"),d=U("g"),c=U("g"),h=U("g"),_=U("g"),m=U("g"),w=U("g"),g=U("rect"),E=U("g"),b=U("g"),S=U("path"),C=U("g"),O=U("g"),P=U("path"),z=U("g"),I=U("g"),R=U("path"),N=U("g"),A=U("g"),W=U("path"),k=U("g"),V=U("g"),p=U("g"),this.h()},l(M){e=q(M,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var L=F(e);n=q(L,"defs",{});var T=F(n);i=q(T,"style",{type:!0});var Z=F(i);o=Re(Z,`@import url(https://fonts.googleapis.com/css2?family=Architects+Daughter:wght@400;500);&#xa;
    `),Z.forEach(v),T.forEach(v),r=q(L,"rect",{fill:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),F(r).forEach(v),s=q(L,"g",{});var j=F(s);l=q(j,"g",{"data-cell-id":!0});var $=F(l);a=q($,"g",{"data-cell-id":!0});var ee=F(a);u=q(ee,"g",{"data-cell-id":!0}),F(u).forEach(v),f=q(ee,"g",{"data-cell-id":!0}),F(f).forEach(v),d=q(ee,"g",{"data-cell-id":!0}),F(d).forEach(v),c=q(ee,"g",{"data-cell-id":!0}),F(c).forEach(v),h=q(ee,"g",{"data-cell-id":!0}),F(h).forEach(v),_=q(ee,"g",{"data-cell-id":!0}),F(_).forEach(v),m=q(ee,"g",{"data-cell-id":!0});var K=F(m);w=q(K,"g",{});var re=F(w);g=q(re,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0,fill:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0,style:!0}),F(g).forEach(v),re.forEach(v),K.forEach(v),E=q(ee,"g",{"data-cell-id":!0});var ge=F(E);b=q(ge,"g",{});var Y=F(b);S=q(Y,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"pointer-events":!0,style:!0}),F(S).forEach(v),Y.forEach(v),ge.forEach(v),C=q(ee,"g",{"data-cell-id":!0});var me=F(C);O=q(me,"g",{});var _e=F(O);P=q(_e,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"pointer-events":!0,style:!0}),F(P).forEach(v),_e.forEach(v),me.forEach(v),z=q(ee,"g",{"data-cell-id":!0});var ke=F(z);I=q(ke,"g",{});var Ee=F(I);R=q(Ee,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"pointer-events":!0,style:!0}),F(R).forEach(v),Ee.forEach(v),ke.forEach(v),N=q(ee,"g",{"data-cell-id":!0});var Pe=F(N);A=q(Pe,"g",{});var He=F(A);W=q(He,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"pointer-events":!0,style:!0}),F(W).forEach(v),He.forEach(v),Pe.forEach(v),k=q(ee,"g",{"data-cell-id":!0}),F(k).forEach(v),V=q(ee,"g",{"data-cell-id":!0}),F(V).forEach(v),p=q(ee,"g",{"data-cell-id":!0}),F(p).forEach(v),ee.forEach(v),$.forEach(v),j.forEach(v),L.forEach(v),this.h()},h(){y(i,"type","text/css"),y(r,"fill","#ffffff"),y(r,"width","100%"),y(r,"height","100%"),y(r,"x","0"),y(r,"y","0"),le(r,"fill","light-dark(#ffffff, var(--ge-dark-color, #121212))"),y(u,"data-cell-id","9eGFOFwpmL9Wt3psQl19-1"),y(f,"data-cell-id","9eGFOFwpmL9Wt3psQl19-2"),y(d,"data-cell-id","9eGFOFwpmL9Wt3psQl19-3"),y(c,"data-cell-id","9eGFOFwpmL9Wt3psQl19-4"),y(h,"data-cell-id","9eGFOFwpmL9Wt3psQl19-5"),y(_,"data-cell-id","9eGFOFwpmL9Wt3psQl19-6"),y(g,"x","2"),y(g,"y","2"),y(g,"width","100"),y(g,"height","100"),y(g,"rx","13"),y(g,"ry","13"),y(g,"fill","none"),y(g,"stroke","#000000"),y(g,"stroke-width","4"),y(g,"pointer-events","all"),le(g,"stroke","light-dark(rgb(0, 0, 0), rgb(255, 255, 255))"),y(m,"data-cell-id","9eGFOFwpmL9Wt3psQl19-7"),y(S,"d","M 18 28 L 88 28"),y(S,"fill","none"),y(S,"stroke","#000000"),y(S,"stroke-width","4"),y(S,"stroke-miterlimit","10"),y(S,"pointer-events","stroke"),le(S,"stroke","light-dark(rgb(0, 0, 0), rgb(255, 255, 255))"),y(E,"data-cell-id","9eGFOFwpmL9Wt3psQl19-10"),y(P,"d","M 18 44 L 88 44"),y(P,"fill","none"),y(P,"stroke","#000000"),y(P,"stroke-width","4"),y(P,"stroke-miterlimit","10"),y(P,"pointer-events","stroke"),le(P,"stroke","light-dark(rgb(0, 0, 0), rgb(255, 255, 255))"),y(C,"data-cell-id","9eGFOFwpmL9Wt3psQl19-14"),y(R,"d","M 18 60 L 88 60"),y(R,"fill","none"),y(R,"stroke","#000000"),y(R,"stroke-width","4"),y(R,"stroke-miterlimit","10"),y(R,"pointer-events","stroke"),le(R,"stroke","light-dark(rgb(0, 0, 0), rgb(255, 255, 255))"),y(z,"data-cell-id","9eGFOFwpmL9Wt3psQl19-27"),y(W,"d","M 18 76 L 88 76"),y(W,"fill","none"),y(W,"stroke","#000000"),y(W,"stroke-width","4"),y(W,"stroke-miterlimit","10"),y(W,"pointer-events","stroke"),le(W,"stroke","light-dark(rgb(0, 0, 0), rgb(255, 255, 255))"),y(N,"data-cell-id","9eGFOFwpmL9Wt3psQl19-28"),y(k,"data-cell-id","9eGFOFwpmL9Wt3psQl19-30"),y(V,"data-cell-id","9eGFOFwpmL9Wt3psQl19-31"),y(p,"data-cell-id","9eGFOFwpmL9Wt3psQl19-32"),y(a,"data-cell-id","1"),y(l,"data-cell-id","0"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"width",t[0]),y(e,"height",t[1]),y(e,"viewBox","-0.5 -0.5 104 104")},m(M,L){Q(M,e,L),B(e,n),B(n,i),B(i,o),B(e,r),B(e,s),B(s,l),B(l,a),B(a,u),B(a,f),B(a,d),B(a,c),B(a,h),B(a,_),B(a,m),B(m,w),B(w,g),B(a,E),B(E,b),B(b,S),B(a,C),B(C,O),B(O,P),B(a,z),B(z,I),B(I,R),B(a,N),B(N,A),B(A,W),B(a,k),B(a,V),B(a,p)},p(M,[L]){L&1&&y(e,"width",M[0]),L&2&&y(e,"height",M[1])},i:be,o:be,d(M){M&&v(e)}}}function V0(t,e,n){let{width:i="25px"}=e,{height:o="25px"}=e;return t.$$set=r=>{"width"in r&&n(0,i=r.width),"height"in r&&n(1,o=r.height)},[i,o]}class R0 extends fe{constructor(e){super(),ce(this,e,V0,F0,he,{width:0,height:1})}}function W0(t){let e,n,i,o,r,s,l,a,u,f,d,c,h,_,m,w,g,E,b,S,C,O,P,z,I,R,N,A;return{c(){e=U("svg"),n=U("defs"),i=U("style"),o=Ve(`@import url(https://fonts.googleapis.com/css2?family=Architects+Daughter:wght@400;500);&#xa;
    `),r=U("rect"),s=U("g"),l=U("g"),a=U("g"),u=U("g"),f=U("g"),d=U("g"),c=U("g"),h=U("g"),_=U("g"),m=U("g"),w=U("g"),g=U("g"),E=U("g"),b=U("g"),S=U("g"),C=U("g"),O=U("rect"),P=U("g"),z=U("g"),I=U("path"),R=U("g"),N=U("g"),A=U("path"),this.h()},l(W){e=q(W,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var k=F(e);n=q(k,"defs",{});var V=F(n);i=q(V,"style",{type:!0});var p=F(i);o=Re(p,`@import url(https://fonts.googleapis.com/css2?family=Architects+Daughter:wght@400;500);&#xa;
    `),p.forEach(v),V.forEach(v),r=q(k,"rect",{fill:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),F(r).forEach(v),s=q(k,"g",{});var M=F(s);l=q(M,"g",{"data-cell-id":!0});var L=F(l);a=q(L,"g",{"data-cell-id":!0});var T=F(a);u=q(T,"g",{"data-cell-id":!0}),F(u).forEach(v),f=q(T,"g",{"data-cell-id":!0}),F(f).forEach(v),d=q(T,"g",{"data-cell-id":!0}),F(d).forEach(v),c=q(T,"g",{"data-cell-id":!0}),F(c).forEach(v),h=q(T,"g",{"data-cell-id":!0}),F(h).forEach(v),_=q(T,"g",{"data-cell-id":!0}),F(_).forEach(v),m=q(T,"g",{"data-cell-id":!0}),F(m).forEach(v),w=q(T,"g",{"data-cell-id":!0}),F(w).forEach(v),g=q(T,"g",{"data-cell-id":!0}),F(g).forEach(v),E=q(T,"g",{"data-cell-id":!0}),F(E).forEach(v),b=q(T,"g",{"data-cell-id":!0}),F(b).forEach(v),S=q(T,"g",{"data-cell-id":!0});var Z=F(S);C=q(Z,"g",{});var j=F(C);O=q(j,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0,fill:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0,style:!0}),F(O).forEach(v),j.forEach(v),Z.forEach(v),P=q(T,"g",{"data-cell-id":!0});var $=F(P);z=q($,"g",{});var ee=F(z);I=q(ee,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"pointer-events":!0,style:!0}),F(I).forEach(v),ee.forEach(v),$.forEach(v),R=q(T,"g",{"data-cell-id":!0});var K=F(R);N=q(K,"g",{});var re=F(N);A=q(re,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"pointer-events":!0,style:!0}),F(A).forEach(v),re.forEach(v),K.forEach(v),T.forEach(v),L.forEach(v),M.forEach(v),k.forEach(v),this.h()},h(){y(i,"type","text/css"),y(r,"fill","#ffffff"),y(r,"width","100%"),y(r,"height","100%"),y(r,"x","0"),y(r,"y","0"),le(r,"fill","light-dark(#ffffff, var(--ge-dark-color, #121212))"),y(u,"data-cell-id","9eGFOFwpmL9Wt3psQl19-1"),y(f,"data-cell-id","9eGFOFwpmL9Wt3psQl19-2"),y(d,"data-cell-id","9eGFOFwpmL9Wt3psQl19-3"),y(c,"data-cell-id","9eGFOFwpmL9Wt3psQl19-4"),y(h,"data-cell-id","9eGFOFwpmL9Wt3psQl19-5"),y(_,"data-cell-id","9eGFOFwpmL9Wt3psQl19-6"),y(m,"data-cell-id","9eGFOFwpmL9Wt3psQl19-7"),y(w,"data-cell-id","9eGFOFwpmL9Wt3psQl19-10"),y(g,"data-cell-id","9eGFOFwpmL9Wt3psQl19-14"),y(E,"data-cell-id","9eGFOFwpmL9Wt3psQl19-27"),y(b,"data-cell-id","9eGFOFwpmL9Wt3psQl19-28"),y(O,"x","2"),y(O,"y","2"),y(O,"width","100"),y(O,"height","100"),y(O,"rx","13"),y(O,"ry","13"),y(O,"fill","none"),y(O,"stroke","#000000"),y(O,"stroke-width","4"),y(O,"pointer-events","all"),le(O,"stroke","light-dark(rgb(0, 0, 0), rgb(255, 255, 255))"),y(S,"data-cell-id","9eGFOFwpmL9Wt3psQl19-30"),y(I,"d","M 18 31 L 88 31"),y(I,"fill","none"),y(I,"stroke","#000000"),y(I,"stroke-width","4"),y(I,"stroke-miterlimit","10"),y(I,"pointer-events","stroke"),le(I,"stroke","light-dark(rgb(0, 0, 0), rgb(255, 255, 255))"),y(P,"data-cell-id","9eGFOFwpmL9Wt3psQl19-31"),y(A,"d","M 18 47 L 88 47"),y(A,"fill","none"),y(A,"stroke","#000000"),y(A,"stroke-width","4"),y(A,"stroke-miterlimit","10"),y(A,"pointer-events","stroke"),le(A,"stroke","light-dark(rgb(0, 0, 0), rgb(255, 255, 255))"),y(R,"data-cell-id","9eGFOFwpmL9Wt3psQl19-32"),y(a,"data-cell-id","1"),y(l,"data-cell-id","0"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"width",t[0]),y(e,"height",t[1]),y(e,"viewBox","-0.5 -0.5 104 104")},m(W,k){Q(W,e,k),B(e,n),B(n,i),B(i,o),B(e,r),B(e,s),B(s,l),B(l,a),B(a,u),B(a,f),B(a,d),B(a,c),B(a,h),B(a,_),B(a,m),B(a,w),B(a,g),B(a,E),B(a,b),B(a,S),B(S,C),B(C,O),B(a,P),B(P,z),B(z,I),B(a,R),B(R,N),B(N,A)},p(W,[k]){k&1&&y(e,"width",W[0]),k&2&&y(e,"height",W[1])},i:be,o:be,d(W){W&&v(e)}}}function B0(t,e,n){let{width:i="25px"}=e,{height:o="25px"}=e;return t.$$set=r=>{"width"in r&&n(0,i=r.width),"height"in r&&n(1,o=r.height)},[i,o]}class X0 extends fe{constructor(e){super(),ce(this,e,B0,W0,he,{width:0,height:1})}}function Y0(t){let e,n,i,o,r,s,l,a,u,f;return{c(){e=U("svg"),n=U("title"),i=Ve("focus_point_round [#844]"),o=U("desc"),r=Ve("Created with Sketch."),s=U("defs"),l=U("g"),a=U("g"),u=U("g"),f=U("path"),this.h()},l(d){e=q(d,"svg",{width:!0,height:!0,viewBox:!0,version:!0,xmlns:!0,"xmlns:xlink":!0});var c=F(e);n=q(c,"title",{});var h=F(n);i=Re(h,"focus_point_round [#844]"),h.forEach(v),o=q(c,"desc",{});var _=F(o);r=Re(_,"Created with Sketch."),_.forEach(v),s=q(c,"defs",{});var m=F(s);m.forEach(v),l=q(c,"g",{id:!0,stroke:!0,"stroke-width":!0,fill:!0,"fill-rule":!0});var w=F(l);a=q(w,"g",{id:!0,transform:!0,fill:!0});var g=F(a);u=q(g,"g",{id:!0,transform:!0});var E=F(u);f=q(E,"path",{d:!0,id:!0});var b=F(f);b.forEach(v),E.forEach(v),g.forEach(v),w.forEach(v),c.forEach(v),this.h()},h(){y(f,"d","M264,4281 L264,4286 C264,4286.552 263.552,4287 263,4287 C262.448,4287 262,4286.552 262,4286 L262,4282 C262,4281.448 261.552,4281 261,4281 L257,4281 C256.448,4281 256,4280.552 256,4280 C256,4279.448 256.448,4279 257,4279 L262,4279 C263.105,4279 264,4279.895 264,4281 L264,4281 Z M262,4299 L257,4299 C256.448,4299 256,4298.552 256,4298 C256,4297.448 256.448,4297 257,4297 L261,4297 C261.552,4297 262,4296.552 262,4296 L262,4292 C262,4291.448 262.448,4291 263,4291 C263.552,4291 264,4291.448 264,4292 L264,4297 C264,4298.105 263.105,4299 262,4299 L262,4299 Z M244,4297 L244,4292 C244,4291.448 244.448,4291 245,4291 C245.552,4291 246,4291.448 246,4292 L246,4296 C246,4296.552 246.448,4297 247,4297 L251,4297 C251.552,4297 252,4297.448 252,4298 C252,4298.552 251.552,4299 251,4299 L246,4299 C244.895,4299 244,4298.105 244,4297 L244,4297 Z M244,4286 L244,4281 C244,4279.895 244.895,4279 246,4279 L251,4279 C251.552,4279 252,4279.448 252,4280 C252,4280.552 251.552,4281 251,4281 L247,4281 C246.448,4281 246,4281.448 246,4282 L246,4286 C246,4286.552 245.552,4287 245,4287 C244.448,4287 244,4286.552 244,4286 L244,4286 Z M244.01,4289 L244,4289.01 L244,4288.99 L244.01,4289 Z M254,4291 C252.897,4291 252,4290.103 252,4289 C252,4287.897 252.897,4287 254,4287 C255.103,4287 256,4287.897 256,4289 C256,4290.103 255.103,4291 254,4291 L254,4291 Z M257.859,4290 L259,4290 C259.552,4290 260,4289.552 260,4289 C260,4288.448 259.552,4288 259,4288 L257.859,4288 C257.496,4286.599 256.401,4285.504 255,4285.141 L255,4284 C255,4283.448 254.552,4283 254,4283 C253.448,4283 253,4283.448 253,4284 L253,4285.141 C251.599,4285.504 250.504,4286.599 250.141,4288 L249,4288 C248.448,4288 248,4288.448 248,4289 C248,4289.552 248.448,4290 249,4290 L250.141,4290 C250.504,4291.401 251.599,4292.496 253,4292.859 L253,4294 C253,4294.552 253.448,4295 254,4295 C254.552,4295 255,4294.552 255,4294 L255,4292.859 C256.401,4292.496 257.496,4291.401 257.859,4290 L257.859,4290 Z"),y(f,"id","focus_point_round-[#844]"),y(u,"id","icons"),y(u,"transform","translate(56.000000, 160.000000)"),y(a,"id","Dribbble-Light-Preview"),y(a,"transform","translate(-300.000000, -4439.000000)"),y(a,"fill","#000000"),y(l,"id","Page-1"),y(l,"stroke","none"),y(l,"stroke-width","1"),y(l,"fill","none"),y(l,"fill-rule","evenodd"),y(e,"width",t[0]),y(e,"height",t[1]),y(e,"viewBox","0 0 20 20"),y(e,"version","1.1"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"xmlns:xlink","http://www.w3.org/1999/xlink")},m(d,c){Q(d,e,c),B(e,n),B(n,i),B(e,o),B(o,r),B(e,s),B(e,l),B(l,a),B(a,u),B(u,f)},p(d,[c]){c&1&&y(e,"width",d[0]),c&2&&y(e,"height",d[1])},i:be,o:be,d(d){d&&v(e)}}}function K0(t,e,n){let{width:i="24px"}=e,{height:o="24px"}=e;return t.$$set=r=>{"width"in r&&n(0,i=r.width),"height"in r&&n(1,o=r.height)},[i,o]}class Z0 extends fe{constructor(e){super(),ce(this,e,K0,Y0,he,{width:0,height:1})}}function tl(t,e,n){const i=t.slice();return i[12]=e[n],i[14]=n,i}function nl(t){let e,n=t[12].flowName+"",i;return{c(){e=Se("option"),i=Ve(n),this.h()},l(o){e=Ce(o,"OPTION",{});var r=F(e);i=Re(r,n),r.forEach(v),this.h()},h(){e.__value=t[14],sa(e,e.__value)},m(o,r){Q(o,e,r),B(e,i)},p(o,r){r&4&&n!==(n=o[12].flowName+"")&&bt(i,n)},d(o){o&&v(e)}}}function il(t){let e,n;return e=new R0({props:{height:"24px"}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function ol(t){let e,n;return e=new X0({props:{height:"24px"}}),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function rl(t){let e,n;return e=new H0({props:{nodes:t[5],paths:t[2][t[0]].paths,selectedFlowIndex:t[0]}}),e.$on("pathSelected",t[8]),{c(){ne(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const r={};o&32&&(r.nodes=i[5]),o&5&&(r.paths=i[2][i[0]].paths),o&1&&(r.selectedFlowIndex=i[0]),e.$set(r)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function G0(t){let e,n,i,o,r,s,l,a,u,f,d,c,h,_,m,w=lt(t[2]),g=[];for(let C=0;C<w.length;C+=1)g[C]=nl(tl(t,w,C));let E=!t[4]&&il(),b=t[4]&&ol();l=new N0({props:{nodes:t[5],fileName:t[3]}});let S=t[2][t[0]]&&t[2][t[0]].paths&&rl(t);return d=new Z0({}),{c(){e=Se("div"),n=Se("select");for(let C=0;C<g.length;C+=1)g[C].c();i=pe(),o=Se("button"),E&&E.c(),r=pe(),b&&b.c(),s=pe(),ne(l.$$.fragment),a=pe(),S&&S.c(),u=pe(),f=Se("button"),ne(d.$$.fragment),this.h()},l(C){e=Ce(C,"DIV",{class:!0});var O=F(e);n=Ce(O,"SELECT",{class:!0});var P=F(n);for(let R=0;R<g.length;R+=1)g[R].l(P);P.forEach(v),i=ve(O),o=Ce(O,"BUTTON",{});var z=F(o);E&&E.l(z),r=ve(z),b&&b.l(z),z.forEach(v),s=ve(O),se(l.$$.fragment,O),a=ve(O),S&&S.l(O),u=ve(O),f=Ce(O,"BUTTON",{class:!0});var I=F(f);se(d.$$.fragment,I),I.forEach(v),O.forEach(v),this.h()},h(){y(n,"class","st-flow-chart-tool"),t[0]===void 0&&_l(()=>t[10].call(n)),y(f,"class",c=ei(t[1]?"":"passive")+" svelte-avg8s8"),y(e,"class","st-toolbox")},m(C,O){Q(C,e,O),B(e,n);for(let P=0;P<g.length;P+=1)g[P]&&g[P].m(n,null);No(n,t[0],!0),B(e,i),B(e,o),E&&E.m(o,null),B(o,r),b&&b.m(o,null),B(e,s),ie(l,e,null),B(e,a),S&&S.m(e,null),B(e,u),B(e,f),ie(d,f,null),h=!0,_||(m=[Oe(n,"change",function(){Fe(t[6])&&t[6].apply(this,arguments)}),Oe(n,"change",t[10]),Oe(o,"click",function(){Fe(t[7])&&t[7].apply(this,arguments)}),Oe(f,"click",t[9])],_=!0)},p(C,[O]){if(t=C,O&4){w=lt(t[2]);let z;for(z=0;z<w.length;z+=1){const I=tl(t,w,z);g[z]?g[z].p(I,O):(g[z]=nl(I),g[z].c(),g[z].m(n,null))}for(;z<g.length;z+=1)g[z].d(1);g.length=w.length}O&1&&No(n,t[0]),t[4]?E&&(Le(),X(E,1,1,()=>{E=null}),Te()):E?O&16&&H(E,1):(E=il(),E.c(),H(E,1),E.m(o,r)),t[4]?b?O&16&&H(b,1):(b=ol(),b.c(),H(b,1),b.m(o,null)):b&&(Le(),X(b,1,1,()=>{b=null}),Te());const P={};O&32&&(P.nodes=t[5]),O&8&&(P.fileName=t[3]),l.$set(P),t[2][t[0]]&&t[2][t[0]].paths?S?(S.p(t,O),O&5&&H(S,1)):(S=rl(t),S.c(),H(S,1),S.m(e,u)):S&&(Le(),X(S,1,1,()=>{S=null}),Te()),(!h||O&2&&c!==(c=ei(t[1]?"":"passive")+" svelte-avg8s8"))&&y(f,"class",c)},i(C){h||(H(E),H(b),H(l.$$.fragment,C),H(S),H(d.$$.fragment,C),h=!0)},o(C){X(E),X(b),X(l.$$.fragment,C),X(S),X(d.$$.fragment,C),h=!1},d(C){C&&v(e),wl(g,C),E&&E.d(),b&&b.d(),oe(l),S&&S.d(),oe(d),_=!1,st(m)}}}function U0(t,e,n){let{flowsData:i=[]}=e,{selectedFlowIndex:o}=e,{flowName:r=""}=e,{hideMsgDetail:s=!0}=e,{nodes:l=[]}=e,{handleFlowChange:a}=e,{hideStepMsgDetail:u}=e,{focusOn:f=!0}=e;const d=Gt();function c(m){d("pathSelected",m.detail)}function h(){n(1,f=!f)}function _(){o=aa(this),n(0,o)}return t.$$set=m=>{"flowsData"in m&&n(2,i=m.flowsData),"selectedFlowIndex"in m&&n(0,o=m.selectedFlowIndex),"flowName"in m&&n(3,r=m.flowName),"hideMsgDetail"in m&&n(4,s=m.hideMsgDetail),"nodes"in m&&n(5,l=m.nodes),"handleFlowChange"in m&&n(6,a=m.handleFlowChange),"hideStepMsgDetail"in m&&n(7,u=m.hideStepMsgDetail),"focusOn"in m&&n(1,f=m.focusOn)},[o,f,i,r,s,l,a,u,c,h,_]}class q0 extends fe{constructor(e){super(),ce(this,e,U0,G0,he,{flowsData:2,selectedFlowIndex:0,flowName:3,hideMsgDetail:4,nodes:5,handleFlowChange:6,hideStepMsgDetail:7,focusOn:1})}}function Q0(t,e,n){let i,{selection:o}=e,{nodes:r}=e,{focusOn:s=!0}=e;function l(a,u){if(a.length>0){const f=u.filter(d=>a.includes(d.id));i.fitView({nodes:f,maxZoom:1,duration:200})}}return t.$$set=a=>{"selection"in a&&n(0,o=a.selection),"nodes"in a&&n(1,r=a.nodes),"focusOn"in a&&n(2,s=a.focusOn)},t.$$.update=()=>{t.$$.dirty&7&&o&&o.nodeIds&&s&&l(o.nodeIds,r)},i=O0(),[o,r,s]}class j0 extends fe{constructor(e){super(),ce(this,e,Q0,null,he,{selection:0,nodes:1,focusOn:2})}}let cn={width:180,height:72};function J0(t){let e,n;return{c(){e=U("svg"),n=U("path"),this.h()},l(i){e=q(i,"svg",{fill:!0,width:!0,height:!0,viewBox:!0,xmlns:!0});var o=F(e);n=q(o,"path",{d:!0}),F(n).forEach(v),o.forEach(v),this.h()},h(){y(n,"d","M4.70710678,18 L6.85355339,20.1464466 C7.04881554,20.3417088 7.04881554,20.6582912 6.85355339,20.8535534 C6.65829124,21.0488155 6.34170876,21.0488155 6.14644661,20.8535534 L3.14644661,17.8535534 C2.95118446,17.6582912 2.95118446,17.3417088 3.14644661,17.1464466 L6.14644661,14.1464466 C6.34170876,13.9511845 6.65829124,13.9511845 6.85355339,14.1464466 C7.04881554,14.3417088 7.04881554,14.6582912 6.85355339,14.8535534 L4.70710678,17 L18.5,17 C19.3284271,17 20,16.3284271 20,15.5 L20,12.5 C20,12.2238576 20.2238576,12 20.5,12 C20.7761424,12 21,12.2238576 21,12.5 L21,15.5 C21,16.8807119 19.8807119,18 18.5,18 L4.70710678,18 Z M19.2928932,7 L17.1464466,4.85355339 C16.9511845,4.65829124 16.9511845,4.34170876 17.1464466,4.14644661 C17.3417088,3.95118446 17.6582912,3.95118446 17.8535534,4.14644661 L20.8535534,7.14644661 C21.0488155,7.34170876 21.0488155,7.65829124 20.8535534,7.85355339 L17.8535534,10.8535534 C17.6582912,11.0488155 17.3417088,11.0488155 17.1464466,10.8535534 C16.9511845,10.6582912 16.9511845,10.3417088 17.1464466,10.1464466 L19.2928932,8 L5.5,8 C4.67157288,8 4,8.67157288 4,9.5 L4,12.5 C4,12.7761424 3.77614237,13 3.5,13 C3.22385763,13 3,12.7761424 3,12.5 L3,9.5 C3,8.11928813 4.11928813,7 5.5,7 L19.2928932,7 Z"),y(e,"fill","#000000"),y(e,"width",t[0]),y(e,"height",t[1]),y(e,"viewBox","0 0 24 24"),y(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){Q(i,e,o),B(e,n)},p(i,[o]){o&1&&y(e,"width",i[0]),o&2&&y(e,"height",i[1])},i:be,o:be,d(i){i&&v(e)}}}function x0(t,e,n){let{width:i="25px"}=e,{height:o="25px"}=e;return t.$$set=r=>{"width"in r&&n(0,i=r.width),"height"in r&&n(1,o=r.height)},[i,o]}class $0 extends fe{constructor(e){super(),ce(this,e,x0,J0,he,{width:0,height:1})}}function em(t){let e,n,i,o;return{c(){e=U("svg"),n=U("circle"),i=U("polyline"),o=U("polyline"),this.h()},l(r){e=q(r,"svg",{version:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,viewBox:!0,"xml:space":!0});var s=F(e);n=q(s,"circle",{style:!0,cx:!0,cy:!0,r:!0}),F(n).forEach(v),i=q(s,"polyline",{style:!0,points:!0}),F(i).forEach(v),o=q(s,"polyline",{style:!0,points:!0}),F(o).forEach(v),s.forEach(v),this.h()},h(){le(n,"fill","#D75A4A"),y(n,"cx",t[0]),y(n,"cy",t[0]),y(n,"r",t[0]),le(i,"fill","none"),le(i,"stroke","#FFFFFF"),le(i,"stroke-width","2"),le(i,"stroke-linecap","round"),le(i,"stroke-miterlimit","10"),y(i,"points",`16,34 25,25 34,16 
	`),le(o,"fill","none"),le(o,"stroke","#FFFFFF"),le(o,"stroke-width","2"),le(o,"stroke-linecap","round"),le(o,"stroke-miterlimit","10"),y(o,"points",`16,16 25,25 34,34 
	`),y(e,"version","1.1"),y(e,"id","Capa_1"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),y(e,"viewBox","0 0 50 50"),y(e,"xml:space","preserve")},m(r,s){Q(r,e,s),B(e,n),B(e,i),B(e,o)},p(r,[s]){s&1&&y(n,"cx",r[0]),s&1&&y(n,"cy",r[0]),s&1&&y(n,"r",r[0])},i:be,o:be,d(r){r&&v(e)}}}function tm(t,e,n){let{size:i="25"}=e;return t.$$set=o=>{"size"in o&&n(0,i=o.size)},[i]}let nm=class extends fe{constructor(e){super(),ce(this,e,tm,em,he,{size:0})}};function im(t){let e,n;return{c(){e=U("svg"),n=U("path"),this.h()},l(i){e=q(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var o=F(e);n=q(o,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),F(n).forEach(v),o.forEach(v),this.h()},h(){y(n,"d","M21 9.00001L21 3.00001M21 3.00001H15M21 3.00001L12 12M10 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21H16.2C17.8802 21 18.7202 21 19.362 20.673C19.9265 20.3854 20.3854 19.9265 20.673 19.362C21 18.7202 21 17.8802 21 16.2V14"),y(n,"stroke","#000000"),y(n,"stroke-width","2"),y(n,"stroke-linecap","round"),y(n,"stroke-linejoin","round"),y(e,"width",t[0]),y(e,"height",t[1]),y(e,"viewBox","0 0 24 24"),y(e,"fill","none"),y(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){Q(i,e,o),B(e,n)},p(i,[o]){o&1&&y(e,"width",i[0]),o&2&&y(e,"height",i[1])},i:be,o:be,d(i){i&&v(e)}}}function om(t,e,n){let{width:i="25px"}=e,{height:o="25px"}=e;return t.$$set=r=>{"width"in r&&n(0,i=r.width),"height"in r&&n(1,o=r.height)},[i,o]}class rm extends fe{constructor(e){super(),ce(this,e,om,im,he,{width:0,height:1})}}function ll(t){let e,n,i;return n=new $0({}),{c(){e=Se("div"),ne(n.$$.fragment),this.h()},l(o){e=Ce(o,"DIV",{class:!0});var r=F(e);se(n.$$.fragment,r),r.forEach(v),this.h()},h(){y(e,"class","step-icon svelte-kj30v6")},m(o,r){Q(o,e,r),ie(n,e,null),i=!0},i(o){i||(H(n.$$.fragment,o),i=!0)},o(o){X(n.$$.fragment,o),i=!1},d(o){o&&v(e),oe(n)}}}function sl(t){let e,n,i;return n=new Is({}),{c(){e=Se("div"),ne(n.$$.fragment),this.h()},l(o){e=Ce(o,"DIV",{class:!0});var r=F(e);se(n.$$.fragment,r),r.forEach(v),this.h()},h(){y(e,"class","step-icon svelte-kj30v6")},m(o,r){Q(o,e,r),ie(n,e,null),i=!0},i(o){i||(H(n.$$.fragment,o),i=!0)},o(o){X(n.$$.fragment,o),i=!1},d(o){o&&v(e),oe(n)}}}function al(t){let e,n,i;return n=new nm({}),{c(){e=Se("div"),ne(n.$$.fragment),this.h()},l(o){e=Ce(o,"DIV",{class:!0});var r=F(e);se(n.$$.fragment,r),r.forEach(v),this.h()},h(){y(e,"class","step-icon svelte-kj30v6")},m(o,r){Q(o,e,r),ie(n,e,null),i=!0},i(o){i||(H(n.$$.fragment,o),i=!0)},o(o){X(n.$$.fragment,o),i=!1},d(o){o&&v(e),oe(n)}}}function ul(t){let e,n,i;return n=new rm({}),{c(){e=Se("div"),ne(n.$$.fragment),this.h()},l(o){e=Ce(o,"DIV",{class:!0});var r=F(e);se(n.$$.fragment,r),r.forEach(v),this.h()},h(){y(e,"class","step-icon svelte-kj30v6")},m(o,r){Q(o,e,r),ie(n,e,null),i=!0},i(o){i||(H(n.$$.fragment,o),i=!0)},o(o){X(n.$$.fragment,o),i=!1},d(o){o&&v(e),oe(n)}}}function fl(t){let e,n,i=t[0].collapsable?"-":"+",o;return{c(){e=Se("div"),n=Se("span"),o=Ve(i),this.h()},l(r){e=Ce(r,"DIV",{});var s=F(e);n=Ce(s,"SPAN",{class:!0});var l=F(n);o=Re(l,i),l.forEach(v),s.forEach(v),this.h()},h(){y(n,"class","expand svelte-kj30v6")},m(r,s){Q(r,e,s),B(e,n),B(n,o)},p(r,s){s&1&&i!==(i=r[0].collapsable?"-":"+")&&bt(o,i)},d(r){r&&v(e)}}}function lm(t){let e,n,i,o,r,s,l,a,u,f,d,c=(t[0].hideMsgDetail?t[0].msg:t[0].rawMsg)+"",h,_,m,w,g,E,b,S,C,O,P,z,I,R,N,A,W=t[0].type==="LOOP"&&ll(),k=(t[0].type==="IF"||t[0].type==="ELSE_IF")&&sl(),V=t[0].type==="ERR"&&al(),p=t[0].type==="FOLLOW"&&ul();l=new ft({props:{class:"hndl",id:"t",type:"target",position:ye.Top}}),m=new ft({props:{class:"hndl",id:"b",type:"source",position:ye.Bottom}}),g=new ft({props:{class:"hndl",id:"bt",type:"target",position:ye.Bottom}}),b=new ft({props:{class:"hndl",id:"l",type:"source",position:ye.Left}}),C=new ft({props:{class:"hndl",id:"lt",type:"target",position:ye.Left}}),P=new ft({props:{class:"hndl",id:"r",type:"source",position:ye.Right}}),I=new ft({props:{class:"hndl",id:"rt",type:"target",position:ye.Right}});let M=(t[0].type==="IF"||t[0].type==="ELSE_IF"||t[0].type==="LOOP")&&fl(t);return{c(){e=Se("div"),W&&W.c(),n=pe(),k&&k.c(),i=pe(),V&&V.c(),o=pe(),p&&p.c(),r=pe(),s=Se("div"),ne(l.$$.fragment),a=pe(),u=Se("div"),f=Se("div"),d=Se("p"),h=Ve(c),_=pe(),ne(m.$$.fragment),w=pe(),ne(g.$$.fragment),E=pe(),ne(b.$$.fragment),S=pe(),ne(C.$$.fragment),O=pe(),ne(P.$$.fragment),z=pe(),ne(I.$$.fragment),R=pe(),M&&M.c(),this.h()},l(L){e=Ce(L,"DIV",{style:!0});var T=F(e);W&&W.l(T),n=ve(T),k&&k.l(T),i=ve(T),V&&V.l(T),o=ve(T),p&&p.l(T),T.forEach(v),r=ve(L),s=Ce(L,"DIV",{class:!0});var Z=F(s);se(l.$$.fragment,Z),a=ve(Z),u=Ce(Z,"DIV",{class:!0,style:!0});var j=F(u);f=Ce(j,"DIV",{class:!0});var $=F(f);d=Ce($,"P",{});var ee=F(d);h=Re(ee,c),ee.forEach(v),$.forEach(v),j.forEach(v),_=ve(Z),se(m.$$.fragment,Z),w=ve(Z),se(g.$$.fragment,Z),E=ve(Z),se(b.$$.fragment,Z),S=ve(Z),se(C.$$.fragment,Z),O=ve(Z),se(P.$$.fragment,Z),z=ve(Z),se(I.$$.fragment,Z),R=ve(Z),M&&M.l(Z),Z.forEach(v),this.h()},h(){le(e,"position","absolute"),y(f,"class","msgWrapper svelte-kj30v6"),y(u,"class","step-container svelte-kj30v6"),le(u,"width",cn.width+"px"),le(u,"height",cn.height+"px"),y(s,"class",N=(t[0].highlight?"hovered":"")+" "+(t[0].isEnd?"endStep":"step")+" "+(t[0].type==="FOLLOW"?"clickable":"")+" svelte-kj30v6")},m(L,T){Q(L,e,T),W&&W.m(e,null),B(e,n),k&&k.m(e,null),B(e,i),V&&V.m(e,null),B(e,o),p&&p.m(e,null),Q(L,r,T),Q(L,s,T),ie(l,s,null),B(s,a),B(s,u),B(u,f),B(f,d),B(d,h),t[7](d),t[8](u),B(s,_),ie(m,s,null),B(s,w),ie(g,s,null),B(s,E),ie(b,s,null),B(s,S),ie(C,s,null),B(s,O),ie(P,s,null),B(s,z),ie(I,s,null),B(s,R),M&&M.m(s,null),A=!0},p(L,[T]){L[0].type==="LOOP"?W?T&1&&H(W,1):(W=ll(),W.c(),H(W,1),W.m(e,n)):W&&(Le(),X(W,1,1,()=>{W=null}),Te()),L[0].type==="IF"||L[0].type==="ELSE_IF"?k?T&1&&H(k,1):(k=sl(),k.c(),H(k,1),k.m(e,i)):k&&(Le(),X(k,1,1,()=>{k=null}),Te()),L[0].type==="ERR"?V?T&1&&H(V,1):(V=al(),V.c(),H(V,1),V.m(e,o)):V&&(Le(),X(V,1,1,()=>{V=null}),Te()),L[0].type==="FOLLOW"?p?T&1&&H(p,1):(p=ul(),p.c(),H(p,1),p.m(e,null)):p&&(Le(),X(p,1,1,()=>{p=null}),Te()),(!A||T&1)&&c!==(c=(L[0].hideMsgDetail?L[0].msg:L[0].rawMsg)+"")&&bt(h,c),L[0].type==="IF"||L[0].type==="ELSE_IF"||L[0].type==="LOOP"?M?M.p(L,T):(M=fl(L),M.c(),M.m(s,null)):M&&(M.d(1),M=null),(!A||T&1&&N!==(N=(L[0].highlight?"hovered":"")+" "+(L[0].isEnd?"endStep":"step")+" "+(L[0].type==="FOLLOW"?"clickable":"")+" svelte-kj30v6"))&&y(s,"class",N)},i(L){A||(H(W),H(k),H(V),H(p),H(l.$$.fragment,L),H(m.$$.fragment,L),H(g.$$.fragment,L),H(b.$$.fragment,L),H(C.$$.fragment,L),H(P.$$.fragment,L),H(I.$$.fragment,L),A=!0)},o(L){X(W),X(k),X(V),X(p),X(l.$$.fragment,L),X(m.$$.fragment,L),X(g.$$.fragment,L),X(b.$$.fragment,L),X(C.$$.fragment,L),X(P.$$.fragment,L),X(I.$$.fragment,L),A=!1},d(L){L&&(v(e),v(r),v(s)),W&&W.d(),k&&k.d(),V&&V.d(),p&&p.d(),oe(l),t[7](null),t[8](null),oe(m),oe(g),oe(b),oe(C),oe(P),oe(I),M&&M.d()}}}function sm(t){return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight}function am(t,e,n){const i={desire:15,min:10,max:80};function o(_,m){let w=i.min,g=i.max,E=w;for(;w<=g;)E=Math.floor((w+g)/2),_.style.fontSize=`${E}px`,sm(m)?g=--E:w=++E;_.style.fontSize=`${g}px`}let r,s;function l(){r&&s&&o(s,r)}On(()=>{l()}),ua(()=>{l()});let{data:a}=e,{position:u}=e,{id:f}=e,{hidden:d=!1}=e;function c(_){ht[_?"unshift":"push"](()=>{s=_,n(2,s)})}function h(_){ht[_?"unshift":"push"](()=>{r=_,n(1,r)})}return t.$$set=_=>{"data"in _&&n(0,a=_.data),"position"in _&&n(4,u=_.position),"id"in _&&n(5,f=_.id),"hidden"in _&&n(6,d=_.hidden)},[a,r,s,i,u,f,d,c,h]}class um extends fe{constructor(e){super(),ce(this,e,am,lm,he,{fontSize:3,data:0,position:4,id:5,hidden:6})}get fontSize(){return this.$$.ctx[3]}}function fm(t,e){return t.filter(n=>n.includes(String(e))).flat()}function cm(t,e){return t.filter(n=>n.includes(String(e))).flatMap(n=>{let i=n.indexOf(String(e));return i>0?n.slice(0,i):[]})}function dm(t,e){return t.filter(n=>n.includes(String(e))).flatMap(n=>{let i=n.indexOf(String(e));return i!==-1&&i<n.length-1?n.slice(i+1):[]})}function hm(t,e){let n=t.filter(o=>o.includes(String(e)));return n.length===0?[]:n.reduce((o,r)=>r.length>o.length?r:o)}function gm(t,e){let n=t.filter(o=>o.includes(String(e)));return n.length===0?[]:n.reduce((o,r)=>r.length<o.length?r:o)}function bn(t,e,n={},i=null){return i?t.forEach(o=>{i.has(o.id)&&(o.data={...o.data,...e,...n})}):t.forEach(o=>{o.data={...o.data,...e,...n}}),t}function mm(t,e,n={},i=[]){i.forEach(o=>{t[o].data={...t[o].data,...e,...n}})}const Ns="stroke-width: 2px; stroke: #cac2c2;",ym="stroke-width: 2px; stroke: #FF4000",_m="font-size: 10px; font-weight: inherit; color: inherit;",wm="font-size: 16px; font-weight: bold; color: #ff6347;",Ds={type:sn.ArrowClosed,width:20,height:20,color:"#cac2c2"},bm={type:sn.ArrowClosed,width:20,height:20,color:"#FF4000"},km={type:"smoothstep",markerEnd:Ds,style:Ns};class pm{constructor(e,n,i){this.nodes=e,this.edges=n,this.nodeState=i,this.selectedNodes=new Set,this.selectedEdges=new Set}update(e,n){this.nodes=e,this.edges=n}selectPath(e,n,i={}){this.selectNodes(e),n&&this.selectEdges(n,Zn)}selectNodes(e){bn(this.nodes,this.nodeState,{highlight:!0},e),this.selectedNodes=e}selectNodesByIndexes(e){mm(this.nodes,this.nodeState,{highlight:!0},e)}selectEdges(e){gn(this.edges,e,Zn),this.selectedEdges=e}unselectPath(){this.unselectNodes(),this.selectedEdges.size>0&&this.unselectEdges(Zn)}unselectNodes(){bn(this.nodes,this.nodeState,{highlight:!1},this.selectedNodes),this.selectedNodes.clear()}unselectAllNodes(){bn(this.nodes,this.nodeState,{highlight:!1}),this.selectedNodes.clear()}unselectEdges(){gn(this.edges,this.selectedEdges,Ui),this.selectedEdges.clear()}unselectAllEdges(){gn(this.edges,null,Ui),this.selectedEdges.clear()}toggleEdge(e){this.selectedEdges.has(e)?(this.selectedEdges.delete(e),gn(this.edges,new Set([e]),Ui)):(this.selectedEdges.add(e),gn(this.edges,new Set([e]),Zn))}}function gn(t,e,n){e?t.forEach(i=>{e.has(i.id)&&n(i)}):t.forEach(i=>{n(i)})}function Ui(t){t.style=Ns,t.markerEnd=Ds,t.labelStyle=_m}function Zn(t){t.style=ym,t.markerEnd=bm,t.labelStyle=wm}function vm(t,e,n,i){So(t,e,n.data.collapsable,Em(t,n),n,i),n.data={...n.data,collapsable:!n.data.collapsable}}function Em(t,e){const n=[],i=e.data.indent;for(let o=e.data.index+1;o<t.length;o++){const r=t[o];if(r.data.indent<=i)break;r.data.collapsable===!1&&(o=Sm(t,o)),n.push(r.id)}return n}function Sm(t,e){const n=t[e].data.indent;for(let i=e+1;i<t.length;i++){const o=t[i];if(n>=o.data.indent)return--i}}function So(t,e,n,i,o,r){for(let s=0;s<t.length;s++){const l=t[s];i.includes(l.id)&&(l.hidden=n)}n?Pm(t,e,o,r):Cm(t,e,o,r)}function Cm(t,e,n,i){e.forEach(o=>{(!t[i[o.target]].hidden&&!t[i[o.source]].hidden||o.source===n.id)&&(o.hidden=!1)})}function Pm(t,e,n,i){e.forEach(o=>{(t[i[o.target]].hidden||t[i[o.source]].hidden||o.source===n.id)&&(o.hidden=!0)})}function Mm(t,e,n,i){const o=[],r=n.data.indent;for(let s=n.data.index+1;s<t.length;s++){const l=t[s];if(l.data.indent<=r)break;(l.data.collapsable===!1||l.data.collapsable===!0)&&(l.data={...l.data,collapsable:!1}),o.push(l.id)}So(t,e,!0,o,n,i),n.data={...n.data,collapsable:!1}}function Om(t,e,n,i){const o=[],r=n.data.indent;for(let s=n.data.index+1;s<t.length;s++){const l=t[s];if(l.data.indent<=r)break;(l.data.collapsable===!1||l.data.collapsable===!0)&&(l.data={...l.data,collapsable:!0}),o.push(l.id)}So(t,e,!1,o,n,i),n.data={...n.data,collapsable:!0}}function zm(t){let e,n,i,o,r,s;return e=new r0({}),i=new _0({}),r=new M0({}),{c(){ne(e.$$.fragment),n=pe(),ne(i.$$.fragment),o=pe(),ne(r.$$.fragment)},l(l){se(e.$$.fragment,l),n=ve(l),se(i.$$.fragment,l),o=ve(l),se(r.$$.fragment,l)},m(l,a){ie(e,l,a),Q(l,n,a),ie(i,l,a),Q(l,o,a),ie(r,l,a),s=!0},i(l){s||(H(e.$$.fragment,l),H(i.$$.fragment,l),H(r.$$.fragment,l),s=!0)},o(l){X(e.$$.fragment,l),X(i.$$.fragment,l),X(r.$$.fragment,l),s=!1},d(l){l&&(v(n),v(o)),oe(e,l),oe(i,l),oe(r,l)}}}function Im(t){let e,n,i,o,r,s;e=new j0({props:{selection:t[3],nodes:t[0],focusOn:t[4]}});function l(f){t[20](f)}function a(f){t[21](f)}let u={nodeTypes:t[7],fitView:!0,defaultEdgeOptions:km,$$slots:{default:[zm]},$$scope:{ctx:t}};return t[5]!==void 0&&(u.nodes=t[5]),t[6]!==void 0&&(u.edges=t[6]),i=new N1({props:u}),ht.push(()=>wn(i,"nodes",l)),ht.push(()=>wn(i,"edges",a)),i.$on("nodemouseenter",t[8]),i.$on("nodemouseleave",t[9]),i.$on("nodeclick",t[13]),i.$on("edgeclick",t[10]),{c(){ne(e.$$.fragment),n=pe(),ne(i.$$.fragment)},l(f){se(e.$$.fragment,f),n=ve(f),se(i.$$.fragment,f)},m(f,d){ie(e,f,d),Q(f,n,d),ie(i,f,d),s=!0},p(f,d){const c={};d&8&&(c.selection=f[3]),d&1&&(c.nodes=f[0]),d&16&&(c.focusOn=f[4]),e.$set(c);const h={};d&16777216&&(h.$$scope={dirty:d,ctx:f}),!o&&d&32&&(o=!0,h.nodes=f[5],_n(()=>o=!1)),!r&&d&64&&(r=!0,h.edges=f[6],_n(()=>r=!1)),i.$set(h)},i(f){s||(H(e.$$.fragment,f),H(i.$$.fragment,f),s=!0)},o(f){X(e.$$.fragment,f),X(i.$$.fragment,f),s=!1},d(f){f&&v(n),oe(e,f),oe(i,f)}}}function Nm(t){let e,n,i,o,r;return n=new T1({props:{$$slots:{default:[Im]},$$scope:{ctx:t}}}),{c(){e=Se("div"),ne(n.$$.fragment),this.h()},l(s){e=Ce(s,"DIV",{style:!0,class:!0});var l=F(e);se(n.$$.fragment,l),l.forEach(v),this.h()},h(){y(e,"style",t[1]),y(e,"class",t[2])},m(s,l){Q(s,e,l),ie(n,e,null),i=!0,o||(r=[Oe(window,"keyup",t[12]),Oe(window,"keydown",t[11])],o=!0)},p(s,[l]){const a={};l&16777337&&(a.$$scope={dirty:l,ctx:s}),n.$set(a),(!i||l&2)&&y(e,"style",s[1]),(!i||l&4)&&y(e,"class",s[2])},i(s){i||(H(n.$$.fragment,s),i=!0)},o(s){X(n.$$.fragment,s),i=!1},d(s){s&&v(e),oe(n),o=!1,st(r)}}}function Dm(t,e,n){const i=Gt(),o={step:um};let{nodes:r=[]}=e,{edges:s=[]}=e,{nodeState:l={}}=e,{paths:a=[]}=e,{nodesIndex:u={}}=e,{style:f=""}=e,{clazz:d=""}=e,{selection:c=[]}=e,{focusOn:h=!0}=e,_=new pm(r,s,l),m=de(r),w=de(s),g=-1;function E(N){const A=N.detail.node;let W=null;if(g!==-1){switch(g){case"a":W=fm(a,A.data.index);break;case"q":W=dm(a,A.data.index);break;case"b":W=cm(a,A.data.index);break;case"l":W=hm(a,A.data.index);break;case"s":W=gm(a,A.data.index);break}_.unselectAllNodes(),_.selectNodesByIndexes(new Set(W)),m.set(r)}}function b(){g!==-1&&(_.unselectAllNodes(),m.set(r))}function S(N){_.toggleEdge(N.detail.edge.id),w.set(s)}function C(N){g=N.key}function O(N){g=-1}function P(N){const A=N.detail.node;A.data.type==="FOLLOW"?i("flowChange",{flowName:A.data.msg}):(A.data.type==="IF"||A.data.type==="ELSE_IF"||A.data.type==="LOOP")&&(g==="]"?Mm(r,s,A,u):g==="["?Om(r,s,A,u):vm(r,s,A,u),z(r,s))}function z(N,A){_.update(N,A),m.set(N),w.set(A)}yi(()=>{z([],[])});function I(N){m=N,n(5,m)}function R(N){w=N,n(6,w)}return t.$$set=N=>{"nodes"in N&&n(0,r=N.nodes),"edges"in N&&n(14,s=N.edges),"nodeState"in N&&n(15,l=N.nodeState),"paths"in N&&n(16,a=N.paths),"nodesIndex"in N&&n(17,u=N.nodesIndex),"style"in N&&n(1,f=N.style),"clazz"in N&&n(2,d=N.clazz),"selection"in N&&n(3,c=N.selection),"focusOn"in N&&n(4,h=N.focusOn)},t.$$.update=()=>{t.$$.dirty&32768&&n(19,_.nodeState=l,_),t.$$.dirty&524329&&(c&&c.nodeIds&&c.nodeIds.length>0?(_.unselectAllNodes(),_.selectNodes(new Set(c.nodeIds)),m.set(r)):c&&c.nodeIndexes&&c.nodeIndexes.length>0&&(_.unselectAllNodes(),_.selectNodesByIndexes(new Set(c.nodeIndexes)),m.set(r)))},[r,f,d,c,h,m,w,o,E,b,S,C,O,P,s,l,a,u,z,_,I,R]}class Lm extends fe{constructor(e){super(),ce(this,e,Dm,Nm,he,{nodes:0,edges:14,nodeState:15,paths:16,nodesIndex:17,style:1,clazz:2,selection:3,focusOn:4,updateStore:18})}get updateStore(){return this.$$.ctx[18]}}function Tm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const Am=["IF","ELSE_IF","ELSE","LOOP"],Hm=["GOTO","SKIP","STOP","END"];function Fm(t){return Am.includes(t.type)}function Vm(t){return Hm.includes(t.type)}function Ni(t,e,n,i){let o=-2;if(n!==void 0){const r=t[n],s=t[e].indent;for(let l=e+1;l<t.length;l++){const a=t[l].indent;if(a===s){o=l;break}else if(a<s){a>r.indent?o=l:o=n;break}}o===-2&&(o=n)}else{for(let r=e+1;r<t.length;r++)if(t[r].indent<=t[e].indent){o=r;break}o===-2&&(o=-1)}return o>-1&&t[o].type.startsWith("ELSE")&&(!i&&t[e].indent===t[o].indent&&(t[e].type==="IF"||t[e].type==="ELSE_IF")||(o=Ni(t,o,n,!0))),o}function Rm(t,e,n,i){const o=Ni(t,e,Co(i));n[e].push(o)}function Wm(t,e){const n=t[e].indent;for(let i=e-1;i>-1;i--)if(n===t[i].indent)return i;throw new Error("Unable to find last step of same indent level")}function Bm(t,e,n,i,o){if(t.type==="ELSE"){delete n[i];return}const r=t.indent;e[i+1]&&e[i+1].indent>r?n[i].push(i+1):n[i].push(void 0);let s=Ni(e,i,Co(o));s!==-1&&e[s].type==="ELSE"&&s++,n[i].push(s),t.type==="LOOP"&&o.push(i)}function Ls(t,e){if(e===0)throw new Error(`${t[e].type} can't be first step of the flow`)}function Xm(t,e,n,i,o){if(Ls(t,o),n[e.msg]===void 0)throw new Error(`GOTO is pointing to ${e.msg} that doesn't specified with any step`);jn(t,i,o,n[e.msg])}function Ym(t,e,n,i){Ls(t,e);const o=t[e];if(o.type==="SKIP"){if(i.length<1)throw new Error("SKIP must be inside LOOP");const r=i[i.length-1];jn(t,n,e,r)}else if(o.type==="STOP"){if(i.length<1)throw new Error("STOP must be inside LOOP");const r=Ni(t,Co(i));jn(t,n,e,r)}else o.type==="END"&&jn(t,n,e,-1)}function jn(t,e,n,i){for(let o=0;o<n;o++){let r=e[o];if(r!==void 0){const s=r.indexOf(n);s!==-1&&(t[o].type==="ELSE"&&(r=Wm(t,r)),r[s]=i)}}delete e[n]}function Km(t,e,n){const i=[];for(let o=0;o<t.length;o++){const r=t[o],s=r.indent;if(i.length>0)for(let l=i.length-1;l>-1;l--){const a=i[l];s<=t[a].indent&&i.pop()}r.type==="GOTO"?Xm(t,r,e,n,o):Fm(r)?Bm(r,t,n,o,i):Vm(r)?Ym(t,o,n,i):Rm(t,o,n,i)}}function Co(t){return t[t.length-1]}var Zm=Km;const cl=Zm,Gm=["IF","ELSE_IF","LOOP","ELSE"],Um=["GOTO","SKIP","STOP","END"],qm=["AND","THEN","BUT","FOLLOW","ERR"];class Qm{constructor(e){this.name=e,this.headers={},this.steps=[],this.links={},this.leveledSteps=[[]]}}function jm(t){const e=t.split(`
`),n=[];let i={},o=[],r=0,s=-1,l=null,a=!1;return e.forEach((u,f)=>{const d=u.trim();if(!d||d[0]==="#")return;if(d.startsWith("FLOW:")){l&&cl(l.steps,i,l.links),i={},o=[],r=0,s=-1,l=new Qm(d.substring(6)),n.push(l),a=!0;return}else if(a&&d.match(/^[a-z]{1,70}:/)){const[m,w]=u.split(":");l.headers[m.trim()]=w.trim();return}else a=!1;s++;const c=u.search(/\S/);let h;if(o[r]!==void 0?h=o[r]:(h=c,o[r]=c),h===c)l.leveledSteps[r].push(s);else if(h<c)o[++r]=c,l.leveledSteps[r]?l.leveledSteps[r].push(s):l.leveledSteps.push([s]);else{for(;r>-1&&o[r]!==c;r--);if(r===-1)throw new Error(`Indentation issue with line |${u}|`);l.leveledSteps[r].push(s)}let _=Jm(u.trim());_.indent=r,_.index&&(i[_.index]=s),l.steps.push(_),l.links[s]=[]}),cl(l.steps,i,l.links),n}function Jm(t){const e={msg:"",rawMsg:"",type:""};if(t[0]==="["){const i=t.indexOf("]");e.index=t.substring(1,i).trim(),t=t.substring(i+1).trimStart()}const n=t.indexOf(" ");if(n<1)dl(t)?e.type=t:e.msg=e.rawMsg=t;else{const i=t.substring(0,n),o=t.substring(n+1);dl(i)&&(e.type=i,t=o),e.rawMsg=t.replace(/\s+/g," "),e.msg=xm(t).replace(/\s+/g," ")}return e}function xm(t){let e=0,n="";for(let i=0;i<t.length;i++){const o=t[i];if(o==="(")e++;else if(o===")")e--;else{if(e>0)continue;n+=o}}return n.trim()}function dl(t){return Um.indexOf(t)!==-1||Gm.indexOf(t)!==-1||qm.indexOf(t)!==-1}var $m=jm;const e2=Tm($m),t2=cn.width,n2=cn.height,i2=cn.height*1.5,o2=cn.width*1.1,hl=t2+o2,gl=n2+i2;function r2(t,e,n){return{id:t+"",type:"step",data:e,position:n}}function l2(t,e,n,i="",o){let r=!1,s="",l="",a="";return so(i)&&n==0&&(s="r",l="lt"),t>e&&(s="l",r=!0),i==="IF"||i==="ELSE_IF"?n===0?a="True":n===1&&(a="False"):i==="LOOP"&&n===1&&(a="Exit"),{id:`${t}-${e}`,source:t+"",target:e+"",label:"",data:{},sourceHandle:s,targetHandle:l,animated:r,label:a}}function s2(t){const e=[];try{const n=e2(t);for(let i=0;i<n.length;i++){const o=n[i];if(o.steps.length>0){const r=a2(o);e.push(r)}}}catch(n){console.error(n)}return e}function a2(t){const e=[],n=[];let i;const o=[];let r=0,s=-1;const l={};for(;r<t.steps.length;r++){const a=t.steps[r];if(t.links[r]){s++;let u;if(!i)u={x:0,y:0};else{const d=t.steps[i.id];if(d.indent===a.indent)u={x:i.position.x,y:i.position.y+gl};else if(d.indent<a.indent)s--,u={x:i.position.x+hl,y:i.position.y};else{let c=d.indent-a.indent,h;for(;c-- >0;)h=o.pop();u={x:h.position.x,y:s*gl}}t.steps[r-1].type==="ELSE"&&(u={x:u.x-hl,y:u.y})}const f=r2(r,{msg:a.msg,rawMsg:a.rawMsg,type:a.type,indent:a.indent},u);so(a.type)&&(f.data.collapsable=!0),e.push(f),f.data.index=e.length-1,l[r]=e.length-1,i=f,so(a.type)&&o.push(f);for(let d=0;d<t.links[r].length;d++){const c=t.links[r][d];if(c===-1)f.data.isEnd=!0;else{if(!t.links[c])throw new Error(`Link for Step ${c} is not present`);const h=l2(r,c,d,a.type,t.steps[c].type);n.push(h)}}}}return e[0].data.isStart=!0,{flowName:t.name,nodes:e,edges:n,paths:u2(t.links,l),nodesIndex:l}}function u2(t,e){const n=[];function i(o,r,s){const l=e[o];if(r.push(String(l)),o===-1)n.push([...r.slice(0,-1)]);else for(const a of t[o]||[])s[a]===void 0&&(s[a]=0),(s[a]<2||a===-1)&&(s[a]++,i(a,r,{...s}),s[a]--);r.pop()}return i(0,[],{0:1}),n}const f2=["IF","ELSE_IF","LOOP"];function so(t){return f2.indexOf(t)!==-1}function c2(t){let e,n,i,o,r,s,l,a;function u(m){t[17](m)}function f(m){t[18](m)}function d(m){t[19](m)}let c={flowsData:t[1],flowName:t[8],nodes:t[4],handleFlowChange:t[11],hideStepMsgDetail:t[13]};t[3]!==void 0&&(c.selectedFlowIndex=t[3]),t[9].hideMsgDetail!==void 0&&(c.hideMsgDetail=t[9].hideMsgDetail),t[2]!==void 0&&(c.focusOn=t[2]),n=new q0({props:c}),ht.push(()=>wn(n,"selectedFlowIndex",u)),ht.push(()=>wn(n,"hideMsgDetail",f)),ht.push(()=>wn(n,"focusOn",d)),n.$on("pathSelected",t[14]);const h=[{nodes:t[4]},{edges:t[5]},{nodeState:t[9]},{paths:t[6]},{nodesIndex:t[7]},t[15],{selection:t[0]},{focusOn:t[2]}];let _={};for(let m=0;m<h.length;m+=1)_=Me(_,h[m]);return l=new Lm({props:_}),t[20](l),l.$on("flowChange",t[12]),{c(){e=Se("div"),ne(n.$$.fragment),s=pe(),ne(l.$$.fragment),this.h()},l(m){e=Ce(m,"DIV",{class:!0});var w=F(e);se(n.$$.fragment,w),s=ve(w),se(l.$$.fragment,w),w.forEach(v),this.h()},h(){y(e,"class","solothought_text2chart_flow")},m(m,w){Q(m,e,w),ie(n,e,null),B(e,s),ie(l,e,null),a=!0},p(m,[w]){const g={};w&2&&(g.flowsData=m[1]),w&256&&(g.flowName=m[8]),w&16&&(g.nodes=m[4]),!i&&w&8&&(i=!0,g.selectedFlowIndex=m[3],_n(()=>i=!1)),!o&&w&512&&(o=!0,g.hideMsgDetail=m[9].hideMsgDetail,_n(()=>o=!1)),!r&&w&4&&(r=!0,g.focusOn=m[2],_n(()=>r=!1)),n.$set(g);const E=w&33525?gt(h,[w&16&&{nodes:m[4]},w&32&&{edges:m[5]},w&512&&{nodeState:m[9]},w&64&&{paths:m[6]},w&128&&{nodesIndex:m[7]},w&32768&&Xt(m[15]),w&1&&{selection:m[0]},w&4&&{focusOn:m[2]}]):{};l.$set(E)},i(m){a||(H(n.$$.fragment,m),H(l.$$.fragment,m),a=!0)},o(m){X(n.$$.fragment,m),X(l.$$.fragment,m),a=!1},d(m){m&&v(e),oe(n),t[20](null),oe(l)}}}function d2(t,e,n){const i=["text","selection","focusOn","flowsData"];let o=Ae(e,i),{text:r=""}=e,{selection:s=[]}=e,{focusOn:l=!0}=e,{flowsData:a=[]}=e,u=0,f=[],d=[],c=[],h={},_="",m={hideMsgDetail:!1,standardShape:!1},w;function g(N){if(n(3,u=N),a[u]){const A=a[u];n(4,f=A.nodes),n(5,d=A.edges),n(6,c=A.paths),n(7,h=A.nodesIndex),n(8,_=A.flowName),bn(f,m),w&&typeof w.updateStore=="function"&&w.updateStore(f,d)}}function E(N){n(0,s=[]),g(parseInt(N.target.value))}function b(N){if(N.detail.flowName){const A=N.detail.flowName;a.forEach((W,k)=>{W.flowName===A&&(n(0,s=[]),g(k))})}}function S(){n(9,m.hideMsgDetail=!m.hideMsgDetail,m),bn(f,{hideMsgDetail:m.hideMsgDetail}),w.updateStore(f,d)}function C(N){console.log(N),N.detail.mode==="play"?O(N):n(0,s={flowIndex:N.detail.flowIndex,nodeIndexes:N.detail.nodeIndexes})}function O(N){const A=N.detail.flowIndex,W=N.detail.nodeIndexes;function k(V){if(V<W.length){const p=W[V];n(0,s={flowIndex:A,nodeIndexes:[p]}),setTimeout(()=>{k(V+1)},400)}else n(0,s={flowIndex:-1,nodeIndexes:[]})}k(0)}function P(N){u=N,n(3,u)}function z(N){t.$$.not_equal(m.hideMsgDetail,N)&&(m.hideMsgDetail=N,n(9,m))}function I(N){l=N,n(2,l)}function R(N){ht[N?"unshift":"push"](()=>{w=N,n(10,w)})}return t.$$set=N=>{e=Me(Me({},e),ot(N)),n(15,o=Ae(e,i)),"text"in N&&n(16,r=N.text),"selection"in N&&n(0,s=N.selection),"focusOn"in N&&n(2,l=N.focusOn),"flowsData"in N&&n(1,a=N.flowsData)},t.$$.update=()=>{t.$$.dirty&65544&&r.length>0&&(n(1,a=s2(r)),g(u)),t.$$.dirty&10&&a.length>0&&g(u),t.$$.dirty&9&&s&&s.nodeIds&&s.nodeIds.length&&s.flowIndex!==u&&g(s.flowIndex)},[s,a,l,u,f,d,c,h,_,m,w,E,b,S,C,o,r,P,z,I,R]}class _2 extends fe{constructor(e){super(),ce(this,e,d2,c2,he,{text:16,selection:0,focusOn:2,flowsData:1})}}export{_2 as F,lt as e};
