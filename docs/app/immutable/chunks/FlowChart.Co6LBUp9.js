import{r as mt,s as we,e as qe,h as Me,k as ze,l as q,d as P,v as _,T as he,i as G,Q as Oe,u as Ze,g as Ge,f as Je,U as Yn,q as J,j as ve,t as Pt,m as Ee,c as Mt,p as Kt,V as Ie,W as pe,X as nt,Y as Ue,b as Ve,Z as Q,w as ce,_ as te,y as Te,$ as ne,a0 as mn,x as fn,a1 as Fn,a2 as ai,A as Bt,a3 as ol,a4 as eo,B as Kn,a5 as Ce,o as x,n as Pe,a6 as ht,a7 as to,G as rl,a8 as Zs,a9 as Gs,aa as Js,a as Co,ab as Un,z as Qs,ac as Po,R as Mo,S as js,ad as xs,P as $s}from"./scheduler.DWOLFMnV.js";import{a as Y,t as R,S as ye,i as _e,b as oe,d as ae,m as re,e as le,g as We,c as Be,f as zo}from"./index.DeeQCrJW.js";import{w as ue,r as ot,d as xt}from"./index.9T-3Ep38.js";const ea=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function gt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ui(t,e){Y(t,1,1,()=>{e.delete(t.key)})}function fi(t,e,n,i,o,r,s,l,a,u,f,d){let c=t.length,h=r.length,y=c;const m={};for(;y--;)m[t[y].key]=y;const b=[],g=new Map,E=new Map,k=[];for(y=h;y--;){const D=d(o,r,y),I=n(D);let O=s.get(I);O?k.push(()=>O.p(D,e)):(O=u(I,D),O.c()),g.set(I,b[y]=O),I in m&&E.set(I,Math.abs(y-m[I]))}const p=new Set,z=new Set;function L(D){R(D,1),D.m(l,f),s.set(D.key,D),f=D.first,h--}for(;c&&h;){const D=b[h-1],I=t[c-1],O=D.key,V=I.key;D===I?(f=D.first,c--,h--):g.has(V)?!s.has(O)||p.has(O)?L(D):z.has(V)?c--:E.get(O)>E.get(V)?(z.add(O),L(D)):(p.add(V),c--):(a(I,s),c--)}for(;c--;){const D=t[c];g.has(D.key)||a(D,s)}for(;h;)L(b[h-1]);return mt(k),b}function at(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const s=t[r],l=e[r];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)o[a]||(n[a]=l[a],o[a]=1);t[r]=l}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function nn(t){return typeof t=="object"&&t!==null?t:{}}function De(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=De(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var ta={value:()=>{}};function ci(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Rn(n)}function Rn(t){this._=t}function na(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Rn.prototype=ci.prototype={constructor:Rn,on:function(t,e){var n=this._,i=na(t+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(t=i[r]).type)&&(o=ia(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<s;)if(o=(t=i[r]).type)n[o]=Oo(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Oo(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Rn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function ia(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Oo(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=ta,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Bi="http://www.w3.org/1999/xhtml";const To={svg:"http://www.w3.org/2000/svg",xhtml:Bi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function di(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),To.hasOwnProperty(e)?{space:To[e],local:t}:t}function oa(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Bi&&e.documentElement.namespaceURI===Bi?e.createElement(t):e.createElementNS(n,t)}}function ra(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ll(t){var e=di(t);return(e.local?ra:oa)(e)}function la(){}function no(t){return t==null?la:function(){return this.querySelector(t)}}function sa(t){typeof t!="function"&&(t=no(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=new Array(s),a,u,f=0;f<s;++f)(a=r[f])&&(u=t.call(a,a.__data__,f,r))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new tt(i,this._parents)}function aa(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ua(){return[]}function sl(t){return t==null?ua:function(){return this.querySelectorAll(t)}}function fa(t){return function(){return aa(t.apply(this,arguments))}}function ca(t){typeof t=="function"?t=fa(t):t=sl(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s=e[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),o.push(a));return new tt(i,o)}function al(t){return function(){return this.matches(t)}}function ul(t){return function(e){return e.matches(t)}}var da=Array.prototype.find;function ha(t){return function(){return da.call(this.children,t)}}function ga(){return this.firstElementChild}function ma(t){return this.select(t==null?ga:ha(typeof t=="function"?t:ul(t)))}var ya=Array.prototype.filter;function _a(){return Array.from(this.children)}function ba(t){return function(){return ya.call(this.children,t)}}function wa(t){return this.selectAll(t==null?_a:ba(typeof t=="function"?t:ul(t)))}function ka(t){typeof t!="function"&&(t=al(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new tt(i,this._parents)}function fl(t){return new Array(t.length)}function va(){return new tt(this._enter||this._groups.map(fl),this._parents)}function qn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}qn.prototype={constructor:qn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ea(t){return function(){return t}}function pa(t,e,n,i,o,r){for(var s=0,l,a=e.length,u=r.length;s<u;++s)(l=e[s])?(l.__data__=r[s],i[s]=l):n[s]=new qn(t,r[s]);for(;s<a;++s)(l=e[s])&&(o[s]=l)}function Sa(t,e,n,i,o,r,s){var l,a,u=new Map,f=e.length,d=r.length,c=new Array(f),h;for(l=0;l<f;++l)(a=e[l])&&(c[l]=h=s.call(a,a.__data__,l,e)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<d;++l)h=s.call(t,r[l],l,r)+"",(a=u.get(h))?(i[l]=a,a.__data__=r[l],u.delete(h)):n[l]=new qn(t,r[l]);for(l=0;l<f;++l)(a=e[l])&&u.get(c[l])===a&&(o[l]=a)}function Ca(t){return t.__data__}function Pa(t,e){if(!arguments.length)return Array.from(this,Ca);var n=e?Sa:pa,i=this._parents,o=this._groups;typeof t!="function"&&(t=Ea(t));for(var r=o.length,s=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var f=i[u],d=o[u],c=d.length,h=Ma(t.call(f,f&&f.__data__,u,i)),y=h.length,m=l[u]=new Array(y),b=s[u]=new Array(y),g=a[u]=new Array(c);n(f,d,m,b,g,h,e);for(var E=0,k=0,p,z;E<y;++E)if(p=m[E]){for(E>=k&&(k=E+1);!(z=b[k])&&++k<y;);p._next=z||null}}return s=new tt(s,i),s._enter=l,s._exit=a,s}function Ma(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function za(){return new tt(this._exit||this._groups.map(fl),this._parents)}function Oa(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Ta(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,s=Math.min(o,r),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=i[a],d=u.length,c=l[a]=new Array(d),h,y=0;y<d;++y)(h=u[y]||f[y])&&(c[y]=h);for(;a<o;++a)l[a]=n[a];return new tt(l,this._parents)}function Da(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function Na(t){t||(t=Ia);function e(d,c){return d&&c?t(d.__data__,c.__data__):!d-!c}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],l=s.length,a=o[r]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(e)}return new tt(o,this._parents).order()}function Ia(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Aa(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ha(){return Array.from(this)}function La(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function Ra(){let t=0;for(const e of this)++t;return t}function Va(){return!this.node()}function Wa(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,s=o.length,l;r<s;++r)(l=o[r])&&t.call(l,l.__data__,r,o);return this}function Ba(t){return function(){this.removeAttribute(t)}}function Xa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ya(t,e){return function(){this.setAttribute(t,e)}}function Fa(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ka(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ua(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function qa(t,e){var n=di(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Xa:Ba:typeof e=="function"?n.local?Ua:Ka:n.local?Fa:Ya)(n,e))}function cl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Za(t){return function(){this.style.removeProperty(t)}}function Ga(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ja(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Qa(t,e,n){return arguments.length>1?this.each((e==null?Za:typeof e=="function"?Ja:Ga)(t,e,n??"")):on(this.node(),t)}function on(t,e){return t.style.getPropertyValue(e)||cl(t).getComputedStyle(t,null).getPropertyValue(e)}function ja(t){return function(){delete this[t]}}function xa(t,e){return function(){this[t]=e}}function $a(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function eu(t,e){return arguments.length>1?this.each((e==null?ja:typeof e=="function"?$a:xa)(t,e)):this.node()[t]}function dl(t){return t.trim().split(/^|\s+/)}function io(t){return t.classList||new hl(t)}function hl(t){this._node=t,this._names=dl(t.getAttribute("class")||"")}hl.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function gl(t,e){for(var n=io(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function ml(t,e){for(var n=io(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function tu(t){return function(){gl(this,t)}}function nu(t){return function(){ml(this,t)}}function iu(t,e){return function(){(e.apply(this,arguments)?gl:ml)(this,t)}}function ou(t,e){var n=dl(t+"");if(arguments.length<2){for(var i=io(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?iu:e?tu:nu)(n,e))}function ru(){this.textContent=""}function lu(t){return function(){this.textContent=t}}function su(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function au(t){return arguments.length?this.each(t==null?ru:(typeof t=="function"?su:lu)(t)):this.node().textContent}function uu(){this.innerHTML=""}function fu(t){return function(){this.innerHTML=t}}function cu(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function du(t){return arguments.length?this.each(t==null?uu:(typeof t=="function"?cu:fu)(t)):this.node().innerHTML}function hu(){this.nextSibling&&this.parentNode.appendChild(this)}function gu(){return this.each(hu)}function mu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yu(){return this.each(mu)}function _u(t){var e=typeof t=="function"?t:ll(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function bu(){return null}function wu(t,e){var n=typeof t=="function"?t:ll(t),i=e==null?bu:typeof e=="function"?e:no(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function ku(){var t=this.parentNode;t&&t.removeChild(this)}function vu(){return this.each(ku)}function Eu(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pu(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Su(t){return this.select(t?pu:Eu)}function Cu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Pu(t){return function(e){t.call(this,e,this.__data__)}}function Mu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function zu(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function Ou(t,e,n){return function(){var i=this.__on,o,r=Pu(e);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Tu(t,e,n){var i=Mu(t+""),o,r=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<r;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=e?Ou:zu,o=0;o<r;++o)this.each(l(i[o],e,n));return this}function yl(t,e,n){var i=cl(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Du(t,e){return function(){return yl(this,t,e)}}function Nu(t,e){return function(){return yl(this,t,e.apply(this,arguments))}}function Iu(t,e){return this.each((typeof e=="function"?Nu:Du)(t,e))}function*Au(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var _l=[null];function tt(t,e){this._groups=t,this._parents=e}function En(){return new tt([[document.documentElement]],_l)}function Hu(){return this}tt.prototype=En.prototype={constructor:tt,select:sa,selectAll:ca,selectChild:ma,selectChildren:wa,filter:ka,data:Pa,enter:va,exit:za,join:Oa,merge:Ta,selection:Hu,order:Da,sort:Na,call:Aa,nodes:Ha,node:La,size:Ra,empty:Va,each:Wa,attr:qa,style:Qa,property:eu,classed:ou,text:au,html:du,raise:gu,lower:yu,append:_u,insert:wu,remove:vu,clone:Su,datum:Cu,on:Tu,dispatch:Iu,[Symbol.iterator]:Au};function it(t){return typeof t=="string"?new tt([[document.querySelector(t)]],[document.documentElement]):new tt([[t]],_l)}function Lu(t){let e;for(;e=t.sourceEvent;)t=e;return t}function rt(t,e){if(t=Lu(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Ru={passive:!1},yn={capture:!0,passive:!1};function Mi(t){t.stopImmediatePropagation()}function $t(t){t.preventDefault(),t.stopImmediatePropagation()}function bl(t){var e=t.document.documentElement,n=it(t).on("dragstart.drag",$t,yn);"onselectstart"in e?n.on("selectstart.drag",$t,yn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function wl(t,e){var n=t.document.documentElement,i=it(t).on("dragstart.drag",null);e&&(i.on("click.drag",$t,yn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const On=t=>()=>t;function Xi(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:r,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Xi.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Vu(t){return!t.ctrlKey&&!t.button}function Wu(){return this.parentNode}function Bu(t,e){return e??{x:t.x,y:t.y}}function Xu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Yu(){var t=Vu,e=Wu,n=Bu,i=Xu,o={},r=ci("start","drag","end"),s=0,l,a,u,f,d=0;function c(p){p.on("mousedown.drag",h).filter(i).on("touchstart.drag",b).on("touchmove.drag",g,Ru).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(p,z){if(!(f||!t.call(this,p,z))){var L=k(this,e.call(this,p,z),p,z,"mouse");L&&(it(p.view).on("mousemove.drag",y,yn).on("mouseup.drag",m,yn),bl(p.view),Mi(p),u=!1,l=p.clientX,a=p.clientY,L("start",p))}}function y(p){if($t(p),!u){var z=p.clientX-l,L=p.clientY-a;u=z*z+L*L>d}o.mouse("drag",p)}function m(p){it(p.view).on("mousemove.drag mouseup.drag",null),wl(p.view,u),$t(p),o.mouse("end",p)}function b(p,z){if(t.call(this,p,z)){var L=p.changedTouches,D=e.call(this,p,z),I=L.length,O,V;for(O=0;O<I;++O)(V=k(this,D,p,z,L[O].identifier,L[O]))&&(Mi(p),V("start",p,L[O]))}}function g(p){var z=p.changedTouches,L=z.length,D,I;for(D=0;D<L;++D)(I=o[z[D].identifier])&&($t(p),I("drag",p,z[D]))}function E(p){var z=p.changedTouches,L=z.length,D,I;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),D=0;D<L;++D)(I=o[z[D].identifier])&&(Mi(p),I("end",p,z[D]))}function k(p,z,L,D,I,O){var V=r.copy(),Z=rt(O||L,z),B,X,v;if((v=n.call(p,new Xi("beforestart",{sourceEvent:L,target:c,identifier:I,active:s,x:Z[0],y:Z[1],dx:0,dy:0,dispatch:V}),D))!=null)return B=v.x-Z[0]||0,X=v.y-Z[1]||0,function N(w,S,M){var T=Z,W;switch(w){case"start":o[I]=N,W=s++;break;case"end":delete o[I],--s;case"drag":Z=rt(M||S,z),W=s;break}V.call(w,p,new Xi(w,{sourceEvent:S,subject:v,target:c,identifier:I,active:W,x:Z[0]+B,y:Z[1]+X,dx:Z[0]-T[0],dy:Z[1]-T[1],dispatch:V}),D)}}return c.filter=function(p){return arguments.length?(t=typeof p=="function"?p:On(!!p),c):t},c.container=function(p){return arguments.length?(e=typeof p=="function"?p:On(p),c):e},c.subject=function(p){return arguments.length?(n=typeof p=="function"?p:On(p),c):n},c.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:On(!!p),c):i},c.on=function(){var p=r.on.apply(r,arguments);return p===r?c:p},c.clickDistance=function(p){return arguments.length?(d=(p=+p)*p,c):Math.sqrt(d)},c}function oo(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kl(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function pn(){}var _n=.7,Zn=1/_n,en="\\s*([+-]?\\d+)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fu=/^#([0-9a-f]{3,8})$/,Ku=new RegExp(`^rgb\\(${en},${en},${en}\\)$`),Uu=new RegExp(`^rgb\\(${ct},${ct},${ct}\\)$`),qu=new RegExp(`^rgba\\(${en},${en},${en},${bn}\\)$`),Zu=new RegExp(`^rgba\\(${ct},${ct},${ct},${bn}\\)$`),Gu=new RegExp(`^hsl\\(${bn},${ct},${ct}\\)$`),Ju=new RegExp(`^hsla\\(${bn},${ct},${ct},${bn}\\)$`),Do={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oo(pn,wn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:No,formatHex:No,formatHex8:Qu,formatHsl:ju,formatRgb:Io,toString:Io});function No(){return this.rgb().formatHex()}function Qu(){return this.rgb().formatHex8()}function ju(){return vl(this).formatHsl()}function Io(){return this.rgb().formatRgb()}function wn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Fu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ao(e):n===3?new xe(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Tn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Tn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ku.exec(t))?new xe(e[1],e[2],e[3],1):(e=Uu.exec(t))?new xe(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qu.exec(t))?Tn(e[1],e[2],e[3],e[4]):(e=Zu.exec(t))?Tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Gu.exec(t))?Ro(e[1],e[2]/100,e[3]/100,1):(e=Ju.exec(t))?Ro(e[1],e[2]/100,e[3]/100,e[4]):Do.hasOwnProperty(t)?Ao(Do[t]):t==="transparent"?new xe(NaN,NaN,NaN,0):null}function Ao(t){return new xe(t>>16&255,t>>8&255,t&255,1)}function Tn(t,e,n,i){return i<=0&&(t=e=n=NaN),new xe(t,e,n,i)}function xu(t){return t instanceof pn||(t=wn(t)),t?(t=t.rgb(),new xe(t.r,t.g,t.b,t.opacity)):new xe}function Yi(t,e,n,i){return arguments.length===1?xu(t):new xe(t,e,n,i??1)}function xe(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}oo(xe,Yi,kl(pn,{brighter(t){return t=t==null?Zn:Math.pow(Zn,t),new xe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_n:Math.pow(_n,t),new xe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xe(Wt(this.r),Wt(this.g),Wt(this.b),Gn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ho,formatHex:Ho,formatHex8:$u,formatRgb:Lo,toString:Lo}));function Ho(){return`#${Rt(this.r)}${Rt(this.g)}${Rt(this.b)}`}function $u(){return`#${Rt(this.r)}${Rt(this.g)}${Rt(this.b)}${Rt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lo(){const t=Gn(this.opacity);return`${t===1?"rgb(":"rgba("}${Wt(this.r)}, ${Wt(this.g)}, ${Wt(this.b)}${t===1?")":`, ${t})`}`}function Gn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Rt(t){return t=Wt(t),(t<16?"0":"")+t.toString(16)}function Ro(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new st(t,e,n,i)}function vl(t){if(t instanceof st)return new st(t.h,t.s,t.l,t.opacity);if(t instanceof pn||(t=wn(t)),!t)return new st;if(t instanceof st)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),s=NaN,l=r-o,a=(r+o)/2;return l?(e===r?s=(n-i)/l+(n<i)*6:n===r?s=(i-e)/l+2:s=(e-n)/l+4,l/=a<.5?r+o:2-r-o,s*=60):l=a>0&&a<1?0:s,new st(s,l,a,t.opacity)}function ef(t,e,n,i){return arguments.length===1?vl(t):new st(t,e,n,i??1)}function st(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}oo(st,ef,kl(pn,{brighter(t){return t=t==null?Zn:Math.pow(Zn,t),new st(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_n:Math.pow(_n,t),new st(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new xe(zi(t>=240?t-240:t+120,o,i),zi(t,o,i),zi(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new st(Vo(this.h),Dn(this.s),Dn(this.l),Gn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gn(this.opacity);return`${t===1?"hsl(":"hsla("}${Vo(this.h)}, ${Dn(this.s)*100}%, ${Dn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Vo(t){return t=(t||0)%360,t<0?t+360:t}function Dn(t){return Math.max(0,Math.min(1,t||0))}function zi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const El=t=>()=>t;function tf(t,e){return function(n){return t+n*e}}function nf(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function of(t){return(t=+t)==1?pl:function(e,n){return n-e?nf(e,n,t):El(isNaN(e)?n:e)}}function pl(t,e){var n=e-t;return n?tf(t,n):El(isNaN(t)?e:t)}const Wo=function t(e){var n=of(e);function i(o,r){var s=n((o=Yi(o)).r,(r=Yi(r)).r),l=n(o.g,r.g),a=n(o.b,r.b),u=pl(o.opacity,r.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function It(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Fi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oi=new RegExp(Fi.source,"g");function rf(t){return function(){return t}}function lf(t){return function(e){return t(e)+""}}function sf(t,e){var n=Fi.lastIndex=Oi.lastIndex=0,i,o,r,s=-1,l=[],a=[];for(t=t+"",e=e+"";(i=Fi.exec(t))&&(o=Oi.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:It(i,o)})),n=Oi.lastIndex;return n<e.length&&(r=e.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?a[0]?lf(a[0].x):rf(e):(e=a.length,function(u){for(var f=0,d;f<e;++f)l[(d=a[f]).i]=d.x(u);return l.join("")})}var Bo=180/Math.PI,Ki={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sl(t,e,n,i,o,r){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),t*i<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*Bo,skewX:Math.atan(a)*Bo,scaleX:s,scaleY:l}}var Nn;function af(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ki:Sl(e.a,e.b,e.c,e.d,e.e,e.f)}function uf(t){return t==null||(Nn||(Nn=document.createElementNS("http://www.w3.org/2000/svg","g")),Nn.setAttribute("transform",t),!(t=Nn.transform.baseVal.consolidate()))?Ki:(t=t.matrix,Sl(t.a,t.b,t.c,t.d,t.e,t.f))}function Cl(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,d,c,h,y){if(u!==d||f!==c){var m=h.push("translate(",null,e,null,n);y.push({i:m-4,x:It(u,d)},{i:m-2,x:It(f,c)})}else(d||c)&&h.push("translate("+d+e+c+n)}function s(u,f,d,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:d.push(o(d)+"rotate(",null,i)-2,x:It(u,f)})):f&&d.push(o(d)+"rotate("+f+i)}function l(u,f,d,c){u!==f?c.push({i:d.push(o(d)+"skewX(",null,i)-2,x:It(u,f)}):f&&d.push(o(d)+"skewX("+f+i)}function a(u,f,d,c,h,y){if(u!==d||f!==c){var m=h.push(o(h)+"scale(",null,",",null,")");y.push({i:m-4,x:It(u,d)},{i:m-2,x:It(f,c)})}else(d!==1||c!==1)&&h.push(o(h)+"scale("+d+","+c+")")}return function(u,f){var d=[],c=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,d,c),s(u.rotate,f.rotate,d,c),l(u.skewX,f.skewX,d,c),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,c),u=f=null,function(h){for(var y=-1,m=c.length,b;++y<m;)d[(b=c[y]).i]=b.x(h);return d.join("")}}}var ff=Cl(af,"px, ","px)","deg)"),cf=Cl(uf,", ",")",")"),df=1e-12;function Xo(t){return((t=Math.exp(t))+1/t)/2}function hf(t){return((t=Math.exp(t))-1/t)/2}function gf(t){return((t=Math.exp(2*t))-1)/(t+1)}const mf=function t(e,n,i){function o(r,s){var l=r[0],a=r[1],u=r[2],f=s[0],d=s[1],c=s[2],h=f-l,y=d-a,m=h*h+y*y,b,g;if(m<df)g=Math.log(c/u)/e,b=function(D){return[l+D*h,a+D*y,u*Math.exp(e*D*g)]};else{var E=Math.sqrt(m),k=(c*c-u*u+i*m)/(2*u*n*E),p=(c*c-u*u-i*m)/(2*c*n*E),z=Math.log(Math.sqrt(k*k+1)-k),L=Math.log(Math.sqrt(p*p+1)-p);g=(L-z)/e,b=function(D){var I=D*g,O=Xo(z),V=u/(n*E)*(O*gf(e*I+z)-hf(z));return[l+V*h,a+V*y,u*O/Xo(e*I+z)]}}return b.duration=g*1e3*e/Math.SQRT2,b}return o.rho=function(r){var s=Math.max(.001,+r),l=s*s,a=l*l;return t(s,l,a)},o}(Math.SQRT2,2,4);var rn=0,hn=0,cn=0,Pl=1e3,Jn,gn,Qn=0,Xt=0,hi=0,kn=typeof performance=="object"&&performance.now?performance:Date,Ml=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ro(){return Xt||(Ml(yf),Xt=kn.now()+hi)}function yf(){Xt=0}function jn(){this._call=this._time=this._next=null}jn.prototype=zl.prototype={constructor:jn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ro():+n)+(e==null?0:+e),!this._next&&gn!==this&&(gn?gn._next=this:Jn=this,gn=this),this._call=t,this._time=n,Ui()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ui())}};function zl(t,e,n){var i=new jn;return i.restart(t,e,n),i}function _f(){ro(),++rn;for(var t=Jn,e;t;)(e=Xt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--rn}function Yo(){Xt=(Qn=kn.now())+hi,rn=hn=0;try{_f()}finally{rn=0,wf(),Xt=0}}function bf(){var t=kn.now(),e=t-Qn;e>Pl&&(hi-=e,Qn=t)}function wf(){for(var t,e=Jn,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Jn=n);gn=t,Ui(i)}function Ui(t){if(!rn){hn&&(hn=clearTimeout(hn));var e=t-Xt;e>24?(t<1/0&&(hn=setTimeout(Yo,t-kn.now()-hi)),cn&&(cn=clearInterval(cn))):(cn||(Qn=kn.now(),cn=setInterval(bf,Pl)),rn=1,Ml(Yo))}}function Fo(t,e,n){var i=new jn;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var kf=ci("start","end","cancel","interrupt"),vf=[],Ol=0,Ko=1,qi=2,Vn=3,Uo=4,Zi=5,Wn=6;function gi(t,e,n,i,o,r){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Ef(t,n,{name:e,index:i,group:o,on:kf,tween:vf,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Ol})}function lo(t,e){var n=ut(t,e);if(n.state>Ol)throw new Error("too late; already scheduled");return n}function yt(t,e){var n=ut(t,e);if(n.state>Vn)throw new Error("too late; already running");return n}function ut(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ef(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=zl(r,0,n.time);function r(u){n.state=Ko,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,d,c,h;if(n.state!==Ko)return a();for(f in i)if(h=i[f],h.name===n.name){if(h.state===Vn)return Fo(s);h.state===Uo?(h.state=Wn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=Wn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(Fo(function(){n.state===Vn&&(n.state=Uo,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=qi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===qi){for(n.state=Vn,o=new Array(c=n.tween.length),f=0,d=-1;f<c;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Zi,1),d=-1,c=o.length;++d<c;)o[d].call(t,f);n.state===Zi&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Wn,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function Bn(t,e){var n=t.__transition,i,o,r=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){r=!1;continue}o=i.state>qi&&i.state<Zi,i.state=Wn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}r&&delete t.__transition}}function pf(t){return this.each(function(){Bn(this,t)})}function Sf(t,e){var n,i;return function(){var o=yt(this,t),r=o.tween;if(r!==n){i=n=r;for(var s=0,l=i.length;s<l;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Cf(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=yt(this,t),s=r.tween;if(s!==i){o=(i=s).slice();for(var l={name:e,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===e){o[a]=l;break}a===u&&o.push(l)}r.tween=o}}function Pf(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=ut(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((e==null?Sf:Cf)(n,t,e))}function so(t,e,n){var i=t._id;return t.each(function(){var o=yt(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return ut(o,i).value[e]}}function Tl(t,e){var n;return(typeof e=="number"?It:e instanceof wn?Wo:(n=wn(e))?(e=n,Wo):sf)(t,e)}function Mf(t){return function(){this.removeAttribute(t)}}function zf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Of(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function Tf(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function Df(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function Nf(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function If(t,e){var n=di(t),i=n==="transform"?cf:Tl;return this.attrTween(t,typeof e=="function"?(n.local?Nf:Df)(n,i,so(this,"attr."+t,e)):e==null?(n.local?zf:Mf)(n):(n.local?Tf:Of)(n,i,e))}function Af(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Hf(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Lf(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Hf(t,r)),n}return o._value=e,o}function Rf(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Af(t,r)),n}return o._value=e,o}function Vf(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=di(t);return this.tween(n,(i.local?Lf:Rf)(i,e))}function Wf(t,e){return function(){lo(this,t).delay=+e.apply(this,arguments)}}function Bf(t,e){return e=+e,function(){lo(this,t).delay=e}}function Xf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Wf:Bf)(e,t)):ut(this.node(),e).delay}function Yf(t,e){return function(){yt(this,t).duration=+e.apply(this,arguments)}}function Ff(t,e){return e=+e,function(){yt(this,t).duration=e}}function Kf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Yf:Ff)(e,t)):ut(this.node(),e).duration}function Uf(t,e){if(typeof e!="function")throw new Error;return function(){yt(this,t).ease=e}}function qf(t){var e=this._id;return arguments.length?this.each(Uf(e,t)):ut(this.node(),e).ease}function Zf(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;yt(this,t).ease=n}}function Gf(t){if(typeof t!="function")throw new Error;return this.each(Zf(this._id,t))}function Jf(t){typeof t!="function"&&(t=al(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new Ct(i,this._parents,this._name,this._id)}function Qf(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),l=0;l<r;++l)for(var a=e[l],u=n[l],f=a.length,d=s[l]=new Array(f),c,h=0;h<f;++h)(c=a[h]||u[h])&&(d[h]=c);for(;l<i;++l)s[l]=e[l];return new Ct(s,this._parents,this._name,this._id)}function jf(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function xf(t,e,n){var i,o,r=jf(e)?lo:yt;return function(){var s=r(this,t),l=s.on;l!==i&&(o=(i=l).copy()).on(e,n),s.on=o}}function $f(t,e){var n=this._id;return arguments.length<2?ut(this.node(),n).on.on(t):this.each(xf(n,t,e))}function ec(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function tc(){return this.on("end.remove",ec(this._id))}function nc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=no(t));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var l=i[s],a=l.length,u=r[s]=new Array(a),f,d,c=0;c<a;++c)(f=l[c])&&(d=t.call(f,f.__data__,c,l))&&("__data__"in f&&(d.__data__=f.__data__),u[c]=d,gi(u[c],e,n,c,u,ut(f,n)));return new Ct(r,this._parents,e,n)}function ic(t){var e=this._name,n=this._id;typeof t!="function"&&(t=sl(t));for(var i=this._groups,o=i.length,r=[],s=[],l=0;l<o;++l)for(var a=i[l],u=a.length,f,d=0;d<u;++d)if(f=a[d]){for(var c=t.call(f,f.__data__,d,a),h,y=ut(f,n),m=0,b=c.length;m<b;++m)(h=c[m])&&gi(h,e,n,m,c,y);r.push(c),s.push(f)}return new Ct(r,s,e,n)}var oc=En.prototype.constructor;function rc(){return new oc(this._groups,this._parents)}function lc(t,e){var n,i,o;return function(){var r=on(this,t),s=(this.style.removeProperty(t),on(this,t));return r===s?null:r===n&&s===i?o:o=e(n=r,i=s)}}function Dl(t){return function(){this.style.removeProperty(t)}}function sc(t,e,n){var i,o=n+"",r;return function(){var s=on(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}function ac(t,e,n){var i,o,r;return function(){var s=on(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),on(this,t))),s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l))}}function uc(t,e){var n,i,o,r="style."+e,s="end."+r,l;return function(){var a=yt(this,t),u=a.on,f=a.value[r]==null?l||(l=Dl(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(s,o=f),a.on=i}}function fc(t,e,n){var i=(t+="")=="transform"?ff:Tl;return e==null?this.styleTween(t,lc(t,i)).on("end.style."+t,Dl(t)):typeof e=="function"?this.styleTween(t,ac(t,i,so(this,"style."+t,e))).each(uc(this._id,t)):this.styleTween(t,sc(t,i,e),n).on("end.style."+t,null)}function cc(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function dc(t,e,n){var i,o;function r(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&cc(t,s,n)),i}return r._value=e,r}function hc(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,dc(t,e,n??""))}function gc(t){return function(){this.textContent=t}}function mc(t){return function(){var e=t(this);this.textContent=e??""}}function yc(t){return this.tween("text",typeof t=="function"?mc(so(this,"text",t)):gc(t==null?"":t+""))}function _c(t){return function(e){this.textContent=t.call(this,e)}}function bc(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&_c(o)),e}return i._value=t,i}function wc(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,bc(t))}function kc(){for(var t=this._name,e=this._id,n=Nl(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=ut(a,e);gi(a,t,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ct(i,this._parents,t,n)}function vc(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var l={value:s},a={value:function(){--o===0&&r()}};n.each(function(){var u=yt(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),u.on=e}),o===0&&r()})}var Ec=0;function Ct(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Nl(){return++Ec}var vt=En.prototype;Ct.prototype={constructor:Ct,select:nc,selectAll:ic,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:Jf,merge:Qf,selection:rc,transition:kc,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:$f,attr:If,attrTween:Vf,style:fc,styleTween:hc,text:yc,textTween:wc,remove:tc,tween:Pf,delay:Xf,duration:Kf,ease:qf,easeVarying:Gf,end:vc,[Symbol.iterator]:vt[Symbol.iterator]};function pc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Sc={time:null,delay:0,duration:250,ease:pc};function Cc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Pc(t){var e,n;t instanceof Ct?(e=t._id,t=t._name):(e=Nl(),(n=Sc).time=ro(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&gi(a,t,e,u,s,n||Cc(a,e));return new Ct(i,this._parents,t,e)}En.prototype.interrupt=pf;En.prototype.transition=Pc;const In=t=>()=>t;function Mc(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Et(t,e,n){this.k=t,this.x=e,this.y=n}Et.prototype={constructor:Et,scale:function(t){return t===1?this:new Et(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Et(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var mi=new Et(1,0,0);Il.prototype=Et.prototype;function Il(t){for(;!t.__zoom;)if(!(t=t.parentNode))return mi;return t.__zoom}function Ti(t){t.stopImmediatePropagation()}function dn(t){t.preventDefault(),t.stopImmediatePropagation()}function zc(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Oc(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function qo(){return this.__zoom||mi}function Tc(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Dc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nc(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function Al(){var t=zc,e=Oc,n=Nc,i=Tc,o=Dc,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=mf,u=ci("start","zoom","end"),f,d,c,h=500,y=150,m=0,b=10;function g(v){v.property("__zoom",qo).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",V).filter(o).on("touchstart.zoom",Z).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(v,N,w,S){var M=v.selection?v.selection():v;M.property("__zoom",qo),v!==M?z(v,N,w,S):M.interrupt().each(function(){L(this,arguments).event(S).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},g.scaleBy=function(v,N,w,S){g.scaleTo(v,function(){var M=this.__zoom.k,T=typeof N=="function"?N.apply(this,arguments):N;return M*T},w,S)},g.scaleTo=function(v,N,w,S){g.transform(v,function(){var M=e.apply(this,arguments),T=this.__zoom,W=w==null?p(M):typeof w=="function"?w.apply(this,arguments):w,K=T.invert(W),j=typeof N=="function"?N.apply(this,arguments):N;return n(k(E(T,j),W,K),M,s)},w,S)},g.translateBy=function(v,N,w,S){g.transform(v,function(){return n(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof w=="function"?w.apply(this,arguments):w),e.apply(this,arguments),s)},null,S)},g.translateTo=function(v,N,w,S,M){g.transform(v,function(){var T=e.apply(this,arguments),W=this.__zoom,K=S==null?p(T):typeof S=="function"?S.apply(this,arguments):S;return n(mi.translate(K[0],K[1]).scale(W.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof w=="function"?-w.apply(this,arguments):-w),T,s)},S,M)};function E(v,N){return N=Math.max(r[0],Math.min(r[1],N)),N===v.k?v:new Et(N,v.x,v.y)}function k(v,N,w){var S=N[0]-w[0]*v.k,M=N[1]-w[1]*v.k;return S===v.x&&M===v.y?v:new Et(v.k,S,M)}function p(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function z(v,N,w,S){v.on("start.zoom",function(){L(this,arguments).event(S).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(S).end()}).tween("zoom",function(){var M=this,T=arguments,W=L(M,T).event(S),K=e.apply(M,T),j=w==null?p(K):typeof w=="function"?w.apply(M,T):w,se=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),H=M.__zoom,$=typeof N=="function"?N.apply(M,T):N,fe=a(H.invert(j).concat(se/H.k),$.invert(j).concat(se/$.k));return function(A){if(A===1)A=$;else{var ge=fe(A),me=se/ge[2];A=new Et(me,j[0]-ge[0]*me,j[1]-ge[1]*me)}W.zoom(null,A)}})}function L(v,N,w){return!w&&v.__zooming||new D(v,N)}function D(v,N){this.that=v,this.args=N,this.active=0,this.sourceEvent=null,this.extent=e.apply(v,N),this.taps=0}D.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,N){return this.mouse&&v!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var N=it(this.that).datum();u.call(v,this.that,new Mc(v,{sourceEvent:this.sourceEvent,target:g,type:v,transform:this.that.__zoom,dispatch:u}),N)}};function I(v,...N){if(!t.apply(this,arguments))return;var w=L(this,N).event(v),S=this.__zoom,M=Math.max(r[0],Math.min(r[1],S.k*Math.pow(2,i.apply(this,arguments)))),T=rt(v);if(w.wheel)(w.mouse[0][0]!==T[0]||w.mouse[0][1]!==T[1])&&(w.mouse[1]=S.invert(w.mouse[0]=T)),clearTimeout(w.wheel);else{if(S.k===M)return;w.mouse=[T,S.invert(T)],Bn(this),w.start()}dn(v),w.wheel=setTimeout(W,y),w.zoom("mouse",n(k(E(S,M),w.mouse[0],w.mouse[1]),w.extent,s));function W(){w.wheel=null,w.end()}}function O(v,...N){if(c||!t.apply(this,arguments))return;var w=v.currentTarget,S=L(this,N,!0).event(v),M=it(v.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",se,!0),T=rt(v,w),W=v.clientX,K=v.clientY;bl(v.view),Ti(v),S.mouse=[T,this.__zoom.invert(T)],Bn(this),S.start();function j(H){if(dn(H),!S.moved){var $=H.clientX-W,fe=H.clientY-K;S.moved=$*$+fe*fe>m}S.event(H).zoom("mouse",n(k(S.that.__zoom,S.mouse[0]=rt(H,w),S.mouse[1]),S.extent,s))}function se(H){M.on("mousemove.zoom mouseup.zoom",null),wl(H.view,S.moved),dn(H),S.event(H).end()}}function V(v,...N){if(t.apply(this,arguments)){var w=this.__zoom,S=rt(v.changedTouches?v.changedTouches[0]:v,this),M=w.invert(S),T=w.k*(v.shiftKey?.5:2),W=n(k(E(w,T),S,M),e.apply(this,N),s);dn(v),l>0?it(this).transition().duration(l).call(z,W,S,v):it(this).call(g.transform,W,S,v)}}function Z(v,...N){if(t.apply(this,arguments)){var w=v.touches,S=w.length,M=L(this,N,v.changedTouches.length===S).event(v),T,W,K,j;for(Ti(v),W=0;W<S;++W)K=w[W],j=rt(K,this),j=[j,this.__zoom.invert(j),K.identifier],M.touch0?!M.touch1&&M.touch0[2]!==j[2]&&(M.touch1=j,M.taps=0):(M.touch0=j,T=!0,M.taps=1+!!f);f&&(f=clearTimeout(f)),T&&(M.taps<2&&(d=j[0],f=setTimeout(function(){f=null},h)),Bn(this),M.start())}}function B(v,...N){if(this.__zooming){var w=L(this,N).event(v),S=v.changedTouches,M=S.length,T,W,K,j;for(dn(v),T=0;T<M;++T)W=S[T],K=rt(W,this),w.touch0&&w.touch0[2]===W.identifier?w.touch0[0]=K:w.touch1&&w.touch1[2]===W.identifier&&(w.touch1[0]=K);if(W=w.that.__zoom,w.touch1){var se=w.touch0[0],H=w.touch0[1],$=w.touch1[0],fe=w.touch1[1],A=(A=$[0]-se[0])*A+(A=$[1]-se[1])*A,ge=(ge=fe[0]-H[0])*ge+(ge=fe[1]-H[1])*ge;W=E(W,Math.sqrt(A/ge)),K=[(se[0]+$[0])/2,(se[1]+$[1])/2],j=[(H[0]+fe[0])/2,(H[1]+fe[1])/2]}else if(w.touch0)K=w.touch0[0],j=w.touch0[1];else return;w.zoom("touch",n(k(W,K,j),w.extent,s))}}function X(v,...N){if(this.__zooming){var w=L(this,N).event(v),S=v.changedTouches,M=S.length,T,W;for(Ti(v),c&&clearTimeout(c),c=setTimeout(function(){c=null},h),T=0;T<M;++T)W=S[T],w.touch0&&w.touch0[2]===W.identifier?delete w.touch0:w.touch1&&w.touch1[2]===W.identifier&&delete w.touch1;if(w.touch1&&!w.touch0&&(w.touch0=w.touch1,delete w.touch1),w.touch0)w.touch0[1]=this.__zoom.invert(w.touch0[0]);else if(w.end(),w.taps===2&&(W=rt(W,this),Math.hypot(d[0]-W[0],d[1]-W[1])<b)){var K=it(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return g.wheelDelta=function(v){return arguments.length?(i=typeof v=="function"?v:In(+v),g):i},g.filter=function(v){return arguments.length?(t=typeof v=="function"?v:In(!!v),g):t},g.touchable=function(v){return arguments.length?(o=typeof v=="function"?v:In(!!v),g):o},g.extent=function(v){return arguments.length?(e=typeof v=="function"?v:In([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),g):e},g.scaleExtent=function(v){return arguments.length?(r[0]=+v[0],r[1]=+v[1],g):[r[0],r[1]]},g.translateExtent=function(v){return arguments.length?(s[0][0]=+v[0][0],s[1][0]=+v[1][0],s[0][1]=+v[0][1],s[1][1]=+v[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(v){return arguments.length?(n=v,g):n},g.duration=function(v){return arguments.length?(l=+v,g):l},g.interpolate=function(v){return arguments.length?(a=v,g):a},g.on=function(){var v=u.on.apply(u,arguments);return v===u?g:v},g.clickDistance=function(v){return arguments.length?(m=(v=+v)*v,g):Math.sqrt(m)},g.tapDistance=function(v){return arguments.length?(b=+v,g):b},g}const Sn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`},xn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Yt;(function(t){t.Strict="strict",t.Loose="loose"})(Yt||(Yt={}));var dt;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(dt||(dt={}));var $n;(function(t){t.Partial="partial",t.Full="full"})($n||($n={}));const Gi={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var tn;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(tn||(tn={}));var ln;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(ln||(ln={}));var de;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(de||(de={}));const Zo={[de.Left]:de.Right,[de.Right]:de.Left,[de.Top]:de.Bottom,[de.Bottom]:de.Top};function Ic(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function Go(t,e,n){if(!n)return;const i=[];t.forEach((o,r)=>{e!=null&&e.has(r)||i.push(o)}),i.length&&n(i)}function Jo(t){return t===null?null:t?"valid":"invalid"}const Ac=t=>"id"in t&&"source"in t&&"target"in t,ao=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Cn=(t,e=[0,0])=>{const{width:n,height:i}=Ht(t),o=t.origin??e,r=n*o[0],s=i*o[1];return{x:t.position.x-r,y:t.position.y-s}},Hc=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,o)=>{const r=typeof o=="string";let s=!e.nodeLookup&&!r?o:void 0;e.nodeLookup&&(s=r?e.nodeLookup.get(o):ao(o)?o:e.nodeLookup.get(o.id));const l=s?ei(s,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return yi(i,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return _i(n)},Pn=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=ei(i);n=yi(n,o)}}),_i(n)},Hl=(t,e,[n,i,o]=[0,0,1],r=!1,s=!1)=>{const l={...wi(e,[n,i,o]),width:e.width/o,height:e.height/o},a=[];for(const u of t.values()){const{measured:f,selectable:d=!0,hidden:c=!1}=u;if(s&&!d||c)continue;const h=f.width??u.width??u.initialWidth??null,y=f.height??u.height??u.initialHeight??null,m=uo(l,bi(u)),b=(h??0)*(y??0),g=r&&m>0;(!u.internals.handleBounds||g||m>=b||u.dragging)&&a.push(u)}return a},Ji=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function Qo(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function jo({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:r},s){if(t.size===0)return Promise.resolve(!1);const l=Pn(t),a=co(l,e,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??r,(s==null?void 0:s.padding)??.1);return await i.setViewport(a,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function Lc({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:r}){const s=n.get(t),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??i;let d=o;if(s.extent==="parent"&&!s.expandParent)if(!l)r==null||r("005",Sn.error005());else{const h=l.measured.width,y=l.measured.height;h&&y&&(d=[[a,u],[a+h,u+y]])}else l&&an(s.extent)&&(d=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const c=an(d)?Ft(e,d,s.measured):e;return{position:{x:c.x-a+s.measured.width*f[0],y:c.y-u+s.measured.height*f[1]},positionAbsolute:c}}async function Rc({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const r=new Set(t.map(c=>c.id)),s=[];for(const c of n){if(c.deletable===!1)continue;const h=r.has(c.id),y=!h&&c.parentId&&s.find(m=>m.id===c.parentId);(h||y)&&s.push(c)}const l=new Set(e.map(c=>c.id)),a=i.filter(c=>c.deletable!==!1),f=Ji(s,a);for(const c of a)l.has(c.id)&&!f.find(y=>y.id===c.id)&&f.push(c);if(!o)return{edges:f,nodes:s};const d=await o({nodes:s,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:s}:{edges:[],nodes:[]}:d}const sn=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Ft=(t={x:0,y:0},e,n)=>({x:sn(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:sn(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function Ll(t,e,n){const{width:i,height:o}=Ht(n),{x:r,y:s}=n.internals.positionAbsolute;return Ft(t,[[r,s],[r+i,s+o]],e)}const xo=(t,e,n)=>t<e?sn(Math.abs(t-e),1,e)/e:t>n?-sn(Math.abs(t-n),1,e)/e:0,Rl=(t,e,n=15,i=40)=>{const o=xo(t.x,i,e.width-i)*n,r=xo(t.y,i,e.height-i)*n;return[o,r]},yi=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Qi=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),_i=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),bi=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=ao(t)?t.internals.positionAbsolute:Cn(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0}},ei=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=ao(t)?t.internals.positionAbsolute:Cn(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0)}},Vl=(t,e)=>_i(yi(Qi(t),Qi(e))),uo=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},Vt=t=>!isNaN(t)&&isFinite(t),Vc=(t,e)=>{},fo=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),wi=({x:t,y:e},[n,i,o],r=!1,s=[1,1])=>{const l={x:(t-n)/o,y:(e-i)/o};return r?fo(l,s):l},Wc=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),co=(t,e,n,i,o,r)=>{const s=e/(t.width*(1+r)),l=n/(t.height*(1+r)),a=Math.min(s,l),u=sn(a,i,o),f=t.x+t.width/2,d=t.y+t.height/2,c=e/2-f*u,h=n/2-d*u;return{x:c,y:h,zoom:u}},ti=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function an(t){return t!==void 0&&t!=="parent"}function Ht(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function ni(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function Di(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:r}=pt(t),s=wi({x:o,y:r},i),{x:l,y:a}=n?fo(s,e):s;return{xSnapped:l,ySnapped:a,...s}}const ho=t=>({width:t.offsetWidth,height:t.offsetHeight}),Bc=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Xc=["INPUT","SELECT","TEXTAREA"];function Yc(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return Xc.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const Wl=t=>"clientX"in t,pt=(t,e)=>{var r,s;const n=Wl(t),i=n?t.clientX:(r=t.touches)==null?void 0:r[0].clientX,o=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},$o=(t,e,n,i,o)=>{const r=e.querySelectorAll(`.${t}`);return!r||!r.length?null:Array.from(r).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...ho(s)}})};function Fc({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:l}){const a=t*.125+o*.375+s*.375+n*.125,u=e*.125+r*.375+l*.375+i*.125,f=Math.abs(a-t),d=Math.abs(u-e);return[a,u,f,d]}function An(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function er({pos:t,x1:e,y1:n,x2:i,y2:o,c:r}){switch(t){case de.Left:return[e-An(e-i,r),n];case de.Right:return[e+An(i-e,r),n];case de.Top:return[e,n-An(n-o,r)];case de.Bottom:return[e,n+An(o-n,r)]}}function Bl({sourceX:t,sourceY:e,sourcePosition:n=de.Bottom,targetX:i,targetY:o,targetPosition:r=de.Top,curvature:s=.25}){const[l,a]=er({pos:n,x1:t,y1:e,x2:i,y2:o,c:s}),[u,f]=er({pos:r,x1:i,y1:o,x2:t,y2:e,c:s}),[d,c,h,y]=Fc({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${t},${e} C${l},${a} ${u},${f} ${i},${o}`,d,c,h,y]}function Xl({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,r=n<t?n+o:n-o,s=Math.abs(i-e)/2,l=i<e?i+s:i-s;return[r,l,o,s]}function Kc({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const r=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(r?s:0)}function Uc({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const r=yi(ei(t),ei(e));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return uo(s,_i(r))>0}const qc=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,Zc=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Gc=(t,e)=>{if(!t.source||!t.target)return e;let n;return Ac(t)?n={...t}:n={...t,id:qc(t)},Zc(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function Yl({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,r,s,l]=Xl({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,r,s,l]}const tr={[de.Left]:{x:-1,y:0},[de.Right]:{x:1,y:0},[de.Top]:{x:0,y:-1},[de.Bottom]:{x:0,y:1}},Jc=({source:t,sourcePosition:e=de.Bottom,target:n})=>e===de.Left||e===de.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},nr=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Qc({source:t,sourcePosition:e=de.Bottom,target:n,targetPosition:i=de.Top,center:o,offset:r}){const s=tr[e],l=tr[i],a={x:t.x+s.x*r,y:t.y+s.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},f=Jc({source:a,sourcePosition:e,target:u}),d=f.x!==0?"x":"y",c=f[d];let h=[],y,m;const b={x:0,y:0},g={x:0,y:0},[E,k,p,z]=Xl({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){y=o.x??E,m=o.y??k;const D=[{x:y,y:a.y},{x:y,y:u.y}],I=[{x:a.x,y:m},{x:u.x,y:m}];s[d]===c?h=d==="x"?D:I:h=d==="x"?I:D}else{const D=[{x:a.x,y:u.y}],I=[{x:u.x,y:a.y}];if(d==="x"?h=s.x===c?I:D:h=s.y===c?D:I,e===i){const X=Math.abs(t[d]-n[d]);if(X<=r){const v=Math.min(r-1,r-X);s[d]===c?b[d]=(a[d]>t[d]?-1:1)*v:g[d]=(u[d]>n[d]?-1:1)*v}}if(e!==i){const X=d==="x"?"y":"x",v=s[d]===l[X],N=a[X]>u[X],w=a[X]<u[X];(s[d]===1&&(!v&&N||v&&w)||s[d]!==1&&(!v&&w||v&&N))&&(h=d==="x"?D:I)}const O={x:a.x+b.x,y:a.y+b.y},V={x:u.x+g.x,y:u.y+g.y},Z=Math.max(Math.abs(O.x-h[0].x),Math.abs(V.x-h[0].x)),B=Math.max(Math.abs(O.y-h[0].y),Math.abs(V.y-h[0].y));Z>=B?(y=(O.x+V.x)/2,m=h[0].y):(y=h[0].x,m=(O.y+V.y)/2)}return[[t,{x:a.x+b.x,y:a.y+b.y},...h,{x:u.x+g.x,y:u.y+g.y},n],y,m,p,z]}function jc(t,e,n,i){const o=Math.min(nr(t,e)/2,nr(e,n)/2,i),{x:r,y:s}=e;if(t.x===r&&r===n.x||t.y===s&&s===n.y)return`L${r} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${r+o*u},${s}Q ${r},${s} ${r},${s+o*f}`}const l=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${r},${s+o*a}Q ${r},${s} ${r+o*l},${s}`}function ii({sourceX:t,sourceY:e,sourcePosition:n=de.Bottom,targetX:i,targetY:o,targetPosition:r=de.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[f,d,c,h,y]=Qc({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:l,y:a},offset:u});return[f.reduce((b,g,E)=>{let k="";return E>0&&E<f.length-1?k=jc(f[E-1],g,f[E+1],s):k=`${E===0?"M":"L"}${g.x} ${g.y}`,b+=k,b},""),d,c,h,y]}function ir(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function xc(t){var d;const{sourceNode:e,targetNode:n}=t;if(!ir(e)||!ir(n))return null;const i=e.internals.handleBounds||or(e.handles),o=n.internals.handleBounds||or(n.handles),r=rr((i==null?void 0:i.source)??[],t.sourceHandle),s=rr(t.connectionMode===Yt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!r||!s)return(d=t.onError)==null||d.call(t,"008",Sn.error008(r?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=(r==null?void 0:r.position)||de.Bottom,a=(s==null?void 0:s.position)||de.Top,u=vn(e,r,l),f=vn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function or(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function vn(t,e,n=de.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,r=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:l}=e??Ht(t);if(i)return{x:o+s/2,y:r+l/2};switch((e==null?void 0:e.position)??n){case de.Top:return{x:o+s/2,y:r};case de.Right:return{x:o+s,y:r+l/2};case de.Bottom:return{x:o+s/2,y:r+l};case de.Left:return{x:o,y:r+l/2}}}function rr(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function ji(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function $c(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const r=new Set;return t.reduce((s,l)=>([l.markerStart||i,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=ji(a,e);r.has(u)||(s.push({id:u,color:a.color||n,...a}),r.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const go={nodeOrigin:[0,0],nodeExtent:xn,elevateNodesOnSelect:!0,defaults:{}},ed={...go,checkEquality:!0};function mo(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function td(t,e,n){const i=mo(go,n);for(const o of t.values())if(o.parentId)yo(o,t,e,i);else{const r=Cn(o,i.nodeOrigin),s=an(o.extent)?o.extent:i.nodeExtent,l=Ft(r,s,Ht(o));o.internals.positionAbsolute=l}}function Fl(t,e,n,i){var l,a;const o=mo(ed,i),r=new Map(e),s=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const u of t){let f=r.get(u.id);if(o.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{const d=Cn(u,o.nodeOrigin),c=an(u.extent)?u.extent:o.nodeExtent,h=Ft(d,c,Ht(u));f={...o.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(a=u.measured)==null?void 0:a.height},internals:{positionAbsolute:h,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:Kl(u,s),userNode:u}},e.set(u.id,f)}u.parentId&&yo(f,e,n,i)}}function nd(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function yo(t,e,n,i){const{elevateNodesOnSelect:o,nodeOrigin:r,nodeExtent:s}=mo(go,i),l=t.parentId,a=e.get(l);if(!a){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}nd(t,n);const u=o?1e3:0,{x:f,y:d,z:c}=id(t,a,r,s,u),{positionAbsolute:h}=t.internals,y=f!==h.x||d!==h.y;(y||c!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:y?{x:f,y:d}:h,z:c})}function Kl(t,e){return(Vt(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function id(t,e,n,i,o){const{x:r,y:s}=e.internals.positionAbsolute,l=Ht(t),a=Cn(t,n),u=an(t.extent)?Ft(a,t.extent,l):a;let f=Ft({x:r+u.x,y:s+u.y},i,l);t.extent==="parent"&&(f=Ll(f,l,e));const d=Kl(t,o),c=e.internals.z??0;return{x:f.x,y:f.y,z:c>d?c:d}}function od(t,e,n,i=[0,0]){var s;const o=[],r=new Map;for(const l of t){const a=e.get(l.parentId);if(!a)continue;const u=((s=r.get(l.parentId))==null?void 0:s.expandedRect)??bi(a),f=Vl(u,l.rect);r.set(l.parentId,{expandedRect:f,parent:a})}return r.size>0&&r.forEach(({expandedRect:l,parent:a},u)=>{var k;const f=a.internals.positionAbsolute,d=Ht(a),c=a.origin??i,h=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,y=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,m=Math.max(d.width,Math.round(l.width)),b=Math.max(d.height,Math.round(l.height)),g=(m-d.width)*c[0],E=(b-d.height)*c[1];(h>0||y>0||g||E)&&(o.push({id:u,type:"position",position:{x:a.position.x-h+g,y:a.position.y-y+E}}),(k=n.get(u))==null||k.forEach(p=>{t.some(z=>z.id===p.id)||o.push({id:p.id,type:"position",position:{x:p.position.x+h,y:p.position.y+y}})})),(d.width<l.width||d.height<l.height||h||y)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:m+(h?c[0]*h-g:0),height:b+(y?c[1]*y-E:0)}})}),o}function rd(t,e,n,i,o,r){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const c of t.values()){const h=e.get(c.id);if(h)if(h.hidden)h.internals={...h.internals,handleBounds:void 0},l=!0;else{const y=ho(c.nodeElement),m=h.measured.width!==y.width||h.measured.height!==y.height;if(!!(y.width&&y.height&&(m||!h.internals.handleBounds||c.force))){const g=c.nodeElement.getBoundingClientRect(),E=an(h.extent)?h.extent:r;let{positionAbsolute:k}=h.internals;h.parentId&&h.extent==="parent"?k=Ll(k,y,e.get(h.parentId)):E&&(k=Ft(k,E,y)),h.measured=y,h.internals={...h.internals,positionAbsolute:k,handleBounds:{source:$o("source",c.nodeElement,g,f,h.id),target:$o("target",c.nodeElement,g,f,h.id)}},h.parentId&&yo(h,e,n,{nodeOrigin:o}),l=!0,m&&(a.push({id:h.id,type:"dimensions",dimensions:y}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:bi(h,o)}))}}}if(d.length>0){const c=od(d,e,n,o);a.push(...c)}return{changes:a,updatedInternals:l}}async function ld({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:r}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,r]],i),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Ul(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:r,sourceHandle:s=null,targetHandle:l=null}=i,a=`${o}-source-${s}`,u=`${r}-target-${l}`,f=t.get(a)||new Map,d=t.get(u)||new Map,c={edgeId:i.id,source:o,target:r,sourceHandle:s,targetHandle:l};e.set(i.id,i),t.set(a,f.set(`${r}-${l}`,c)),t.set(u,d.set(`${o}-${s}`,c))}}function ql(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:ql(n,e):!1}function lr(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function sd(t,e,n,i){const o=new Map;for(const[r,s]of t)if((s.selected||s.id===i)&&(!s.parentId||!ql(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const l=t.get(r);l&&o.set(r,{id:r,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function Ni({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var s,l,a;const o=[];for(const[u,f]of e){const d=(s=n.get(u))==null?void 0:s.internals.userNode;d&&o.push({...d,position:f.position,dragging:i})}if(!t)return[o[0],o];const r=(l=n.get(t))==null?void 0:l.internals.userNode;return[r?{...r,position:((a=e.get(t))==null?void 0:a.position)||r.position,dragging:i}:o[0],o]}function ad({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let r={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,d=!1,c=null,h=!1;function y({noDragClassName:b,handleSelector:g,domNode:E,isSelectable:k,nodeId:p,nodeClickDistance:z=0}){c=it(E);function L({x:V,y:Z},B){const{nodeLookup:X,nodeExtent:v,snapGrid:N,snapToGrid:w,nodeOrigin:S,onNodeDrag:M,onSelectionDrag:T,onError:W,updateNodePositions:K}=e();r={x:V,y:Z};let j=!1,se={x:0,y:0,x2:0,y2:0};if(l.size>1&&v){const H=Pn(l);se=Qi(H)}for(const[H,$]of l){if(!X.has(H))continue;let fe={x:V-$.distance.x,y:Z-$.distance.y};w&&(fe=fo(fe,N));let A=[[v[0][0],v[0][1]],[v[1][0],v[1][1]]];if(l.size>1&&v&&!$.extent){const{positionAbsolute:be}=$.internals,ke=be.x-se.x+v[0][0],Se=be.x+$.measured.width-se.x2+v[1][0],Ae=be.y-se.y+v[0][1],F=be.y+$.measured.height-se.y2+v[1][1];A=[[ke,Ae],[Se,F]]}const{position:ge,positionAbsolute:me}=Lc({nodeId:H,nextPosition:fe,nodeLookup:X,nodeExtent:A,nodeOrigin:S,onError:W});j=j||$.position.x!==ge.x||$.position.y!==ge.y,$.position=ge,$.internals.positionAbsolute=me}if(j&&(K(l,!0),B&&(i||M||!p&&T))){const[H,$]=Ni({nodeId:p,dragItems:l,nodeLookup:X});i==null||i(B,l,H,$),M==null||M(B,H,$),p||T==null||T(B,$)}}async function D(){if(!f)return;const{transform:V,panBy:Z,autoPanSpeed:B}=e(),[X,v]=Rl(u,f,B);(X!==0||v!==0)&&(r.x=(r.x??0)-X/V[2],r.y=(r.y??0)-v/V[2],await Z({x:X,y:v})&&L(r,null)),s=requestAnimationFrame(D)}function I(V){var j;const{nodeLookup:Z,multiSelectionActive:B,nodesDraggable:X,transform:v,snapGrid:N,snapToGrid:w,selectNodesOnDrag:S,onNodeDragStart:M,onSelectionDragStart:T,unselectNodesAndEdges:W}=e();d=!0,(!S||!k)&&!B&&p&&((j=Z.get(p))!=null&&j.selected||W()),k&&S&&p&&(t==null||t(p));const K=Di(V.sourceEvent,{transform:v,snapGrid:N,snapToGrid:w});if(r=K,l=sd(Z,X,K,p),l.size>0&&(n||M||!p&&T)){const[se,H]=Ni({nodeId:p,dragItems:l,nodeLookup:Z});n==null||n(V.sourceEvent,l,se,H),M==null||M(V.sourceEvent,se,H),p||T==null||T(V.sourceEvent,H)}}const O=Yu().clickDistance(z).on("start",V=>{const{domNode:Z,nodeDragThreshold:B,transform:X,snapGrid:v,snapToGrid:N}=e();h=!1,B===0&&I(V),r=Di(V.sourceEvent,{transform:X,snapGrid:v,snapToGrid:N}),f=(Z==null?void 0:Z.getBoundingClientRect())||null,u=pt(V.sourceEvent,f)}).on("drag",V=>{const{autoPanOnNodeDrag:Z,transform:B,snapGrid:X,snapToGrid:v,nodeDragThreshold:N,nodeLookup:w}=e(),S=Di(V.sourceEvent,{transform:B,snapGrid:X,snapToGrid:v});if((V.sourceEvent.type==="touchmove"&&V.sourceEvent.touches.length>1||p&&!w.has(p))&&(h=!0),!h){if(!a&&Z&&d&&(a=!0,D()),!d){const M=S.xSnapped-(r.x??0),T=S.ySnapped-(r.y??0);Math.sqrt(M*M+T*T)>N&&I(V)}(r.x!==S.xSnapped||r.y!==S.ySnapped)&&l&&d&&(u=pt(V.sourceEvent,f),L(S,V.sourceEvent))}}).on("end",V=>{if(!(!d||h)&&(a=!1,d=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:Z,updateNodePositions:B,onNodeDragStop:X,onSelectionDragStop:v}=e();if(B(l,!1),o||X||!p&&v){const[N,w]=Ni({nodeId:p,dragItems:l,nodeLookup:Z,dragging:!1});o==null||o(V.sourceEvent,l,N,w),X==null||X(V.sourceEvent,N,w),p||v==null||v(V.sourceEvent,w)}}}).filter(V=>{const Z=V.target;return!V.button&&(!b||!lr(Z,`.${b}`,E))&&(!g||lr(Z,g,E))});c.call(O)}function m(){c==null||c.on(".drag",null)}return{update:y,destroy:m}}function ud(t,e,n){const i=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const r of e.values())uo(o,bi(r))>0&&i.push(r);return i}const fd=250;function cd(t,e,n,i){var l,a;let o=[],r=1/0;const s=ud(t,n,e+fd);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const d of f){if(i.nodeId===d.nodeId&&i.type===d.type&&i.id===d.id)continue;const{x:c,y:h}=vn(u,d,d.position,!0),y=Math.sqrt(Math.pow(c-t.x,2)+Math.pow(h-t.y,2));y>e||(y<r?(o=[{...d,x:c,y:h}],r=y):y===r&&o.push({...d,x:c,y:h}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function Zl(t,e,n,i,o,r=!1){var u,f,d;const s=i.get(t);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],a=(n?l==null?void 0:l.find(c=>c.id===n):l==null?void 0:l[0])??null;return a&&r?{...a,...vn(s,a,a.position,!0)}:a}function Gl(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function dd(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const Jl=()=>!0;function hd(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:d,panBy:c,cancelConnection:h,onConnectStart:y,onConnect:m,onConnectEnd:b,isValidConnection:g=Jl,onReconnectEnd:E,updateConnection:k,getTransform:p,getFromHandle:z,autoPanSpeed:L}){const D=Bc(t.target);let I=0,O;const{x:V,y:Z}=pt(t),B=D==null?void 0:D.elementFromPoint(V,Z),X=Gl(r,B),v=l==null?void 0:l.getBoundingClientRect();if(!v||!X)return;const N=Zl(o,X,i,a,e);if(!N)return;let w=pt(t,v),S=!1,M=null,T=!1,W=null;function K(){if(!f||!v)return;const[me,be]=Rl(w,v,L);c({x:me,y:be}),I=requestAnimationFrame(K)}const j={...N,nodeId:o,type:X,position:N.position},se=a.get(o),$={inProgress:!0,isValid:null,from:vn(se,j,de.Left,!0),fromHandle:j,fromPosition:j.position,fromNode:se,to:w,toHandle:null,toPosition:Zo[j.position],toNode:null};k($);let fe=$;y==null||y(t,{nodeId:o,handleId:i,handleType:X});function A(me){if(!z()||!j){ge(me);return}const be=p();w=pt(me,v),O=cd(wi(w,be,!1,[1,1]),n,a,j),S||(K(),S=!0);const ke=Ql(me,{handle:O,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:D,lib:u,flowId:d,nodeLookup:a});W=ke.handleDomNode,M=ke.connection,T=dd(!!O,ke.isValid);const Se={...fe,isValid:T,to:O&&T?Wc({x:O.x,y:O.y},be):w,toHandle:ke.toHandle,toPosition:T&&ke.toHandle?ke.toHandle.position:Zo[j.position],toNode:ke.toHandle?a.get(ke.toHandle.nodeId):null};T&&O&&fe.toHandle&&Se.toHandle&&fe.toHandle.type===Se.toHandle.type&&fe.toHandle.nodeId===Se.toHandle.nodeId&&fe.toHandle.id===Se.toHandle.id&&fe.to.x===Se.to.x&&fe.to.y===Se.to.y||(k(Se),fe=Se)}function ge(me){(O||W)&&M&&T&&(m==null||m(M));const{inProgress:be,...ke}=fe,Se={...ke,toPosition:fe.toHandle?fe.toPosition:null};b==null||b(me,Se),r&&(E==null||E(me,Se)),h(),cancelAnimationFrame(I),S=!1,T=!1,M=null,W=null,D.removeEventListener("mousemove",A),D.removeEventListener("mouseup",ge),D.removeEventListener("touchmove",A),D.removeEventListener("touchend",ge)}D.addEventListener("mousemove",A),D.addEventListener("mouseup",ge),D.addEventListener("touchmove",A),D.addEventListener("touchend",ge)}function Ql(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:l,flowId:a,isValidConnection:u=Jl,nodeLookup:f}){const d=r==="target",c=e?s.querySelector(`.${l}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y}=pt(t),m=s.elementFromPoint(h,y),b=m!=null&&m.classList.contains(`${l}-flow__handle`)?m:c,g={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const E=Gl(void 0,b),k=b.getAttribute("data-nodeid"),p=b.getAttribute("data-handleid"),z=b.classList.contains("connectable"),L=b.classList.contains("connectableend");if(!k||!E)return g;const D={source:d?k:i,sourceHandle:d?p:o,target:d?i:k,targetHandle:d?o:p};g.connection=D;const O=z&&L&&(n===Yt.Strict?d&&E==="source"||!d&&E==="target":k!==i||p!==o);g.isValid=O&&u(D),g.toHandle=Zl(k,E,p,f,n,!1)}return g}const gd={onPointerDown:hd,isValid:Ql};function md({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=it(t);function r({translateExtent:l,width:a,height:u,zoomStep:f=10,pannable:d=!0,zoomable:c=!0,inversePan:h=!1}){const y=k=>{const p=n();if(k.sourceEvent.type!=="wheel"||!e)return;const z=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*f,L=p[2]*Math.pow(2,z);e.scaleTo(L)};let m=[0,0];const b=k=>{(k.sourceEvent.type==="mousedown"||k.sourceEvent.type==="touchstart")&&(m=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},g=k=>{const p=n();if(k.sourceEvent.type!=="mousemove"&&k.sourceEvent.type!=="touchmove"||!e)return;const z=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],L=[z[0]-m[0],z[1]-m[1]];m=z;const D=i()*Math.max(p[2],Math.log(p[2]))*(h?-1:1),I={x:p[0]-L[0]*D,y:p[1]-L[1]*D},O=[[0,0],[a,u]];e.setViewportConstrained({x:I.x,y:I.y,zoom:p[2]},O,l)},E=Al().on("start",b).on("zoom",d?g:null).on("zoom.wheel",c?y:null);o.call(E,{})}function s(){o.on("zoom",null)}return{update:r,destroy:s,pointer:rt}}const yd=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,ki=t=>({x:t.x,y:t.y,zoom:t.k}),Ii=({x:t,y:e,zoom:n})=>mi.translate(t,e).scale(n),jt=(t,e)=>t.target.closest(`.${e}`),jl=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Ai=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},xl=t=>{const e=t.ctrlKey&&ti()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function _d({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(jt(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&s){const b=rt(f),g=xl(f),E=d*Math.pow(2,g);i.scaleTo(n,E,b,f);return}const c=f.deltaMode===1?20:1;let h=o===dt.Vertical?0:f.deltaX*c,y=o===dt.Horizontal?0:f.deltaY*c;!ti()&&f.shiftKey&&o!==dt.Vertical&&(h=f.deltaY*c,y=0),i.translateBy(n,-(h/d)*r,-(y/d)*r,{internal:!0});const m=ki(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l==null||l(f,m)),t.isPanScrolling&&(a==null||a(f,m),t.panScrollTimeout=setTimeout(()=>{u==null||u(f,m),t.isPanScrolling=!1},150))}}function bd({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||jt(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function wd({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var r,s,l;if((r=i.sourceEvent)!=null&&r.internal)return;const o=ki(i.transform);t.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function kd({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var s,l;t.usedRightMouseButton=!!(n&&jl(e,t.mouseButton??0)),(s=r.sourceEvent)!=null&&s.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((l=r.sourceEvent)!=null&&l.internal)&&(o==null||o(r.sourceEvent,ki(r.transform)))}}function vd({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(t.isZoomingOrPanning=!1,r&&jl(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&r(s.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&yd(t.prevViewport,s.transform))){const a=ki(s.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function Ed({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u}){return f=>{var y;const d=t||e,c=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(jt(f,`${u}-flow__node`)||jt(f,`${u}-flow__edge`)))return!0;if(!i&&!d&&!o&&!r&&!n||s||jt(f,l)&&f.type==="wheel"||jt(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((y=f.touches)==null?void 0:y.length)>1)return f.preventDefault(),!1;if(!d&&!o&&!c&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function pd({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:r,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:a,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),c=Al().clickDistance(!Vt(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),h=it(t).call(c);k({x:r.x,y:r.y,zoom:sn(r.zoom,e,n)},[[0,0],[d.width,d.height]],o);const y=h.on("wheel.zoom"),m=h.on("dblclick.zoom");c.wheelDelta(xl);function b(B,X){return h?new Promise(v=>{c==null||c.transform(Ai(h,X==null?void 0:X.duration,()=>v(!0)),B)}):Promise.resolve(!1)}function g({noWheelClassName:B,noPanClassName:X,onPaneContextMenu:v,userSelectionActive:N,panOnScroll:w,panOnDrag:S,panOnScrollMode:M,panOnScrollSpeed:T,preventScrolling:W,zoomOnPinch:K,zoomOnScroll:j,zoomOnDoubleClick:se,zoomActivationKeyPressed:H,lib:$,onTransformChange:fe}){N&&!f.isZoomingOrPanning&&E();const ge=w&&!H&&!N?_d({zoomPanValues:f,noWheelClassName:B,d3Selection:h,d3Zoom:c,panOnScrollMode:M,panOnScrollSpeed:T,zoomOnPinch:K,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:a}):bd({noWheelClassName:B,preventScrolling:W,d3ZoomHandler:y});if(h.on("wheel.zoom",ge,{passive:!1}),!N){const be=wd({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:l});c.on("start",be);const ke=kd({zoomPanValues:f,panOnDrag:S,onPaneContextMenu:!!v,onPanZoom:s,onTransformChange:fe});c.on("zoom",ke);const Se=vd({zoomPanValues:f,panOnDrag:S,panOnScroll:w,onPaneContextMenu:v,onPanZoomEnd:a,onDraggingChange:u});c.on("end",Se)}const me=Ed({zoomActivationKeyPressed:H,panOnDrag:S,zoomOnScroll:j,panOnScroll:w,zoomOnDoubleClick:se,zoomOnPinch:K,userSelectionActive:N,noPanClassName:X,noWheelClassName:B,lib:$});c.filter(me),se?h.on("dblclick.zoom",m):h.on("dblclick.zoom",null)}function E(){c.on("zoom",null)}async function k(B,X,v){const N=Ii(B),w=c==null?void 0:c.constrain()(N,X,v);return w&&await b(w),new Promise(S=>S(w))}async function p(B,X){const v=Ii(B);return await b(v,X),new Promise(N=>N(v))}function z(B){if(h){const X=Ii(B),v=h.property("__zoom");(v.k!==B.zoom||v.x!==B.x||v.y!==B.y)&&(c==null||c.transform(h,X,null,{sync:!0}))}}function L(){const B=h?Il(h.node()):{x:0,y:0,k:1};return{x:B.x,y:B.y,zoom:B.k}}function D(B,X){return h?new Promise(v=>{c==null||c.scaleTo(Ai(h,X==null?void 0:X.duration,()=>v(!0)),B)}):Promise.resolve(!1)}function I(B,X){return h?new Promise(v=>{c==null||c.scaleBy(Ai(h,X==null?void 0:X.duration,()=>v(!0)),B)}):Promise.resolve(!1)}function O(B){c==null||c.scaleExtent(B)}function V(B){c==null||c.translateExtent(B)}function Z(B){const X=!Vt(B)||B<0?0:B;c==null||c.clickDistance(X)}return{update:g,destroy:E,setViewport:p,setViewportConstrained:k,getViewport:L,scaleTo:D,scaleBy:I,setScaleExtent:O,setTranslateExtent:V,syncViewport:z,setClickDistance:Z}}var sr;(function(t){t.Line="line",t.Handle="handle"})(sr||(sr={}));function Sd(t){let e,n,i,o,r,s;const l=t[45].default,a=qe(l,t,t[44],null);return{c(){e=Me("div"),a&&a.c(),this.h()},l(u){e=ze(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var f=q(e);a&&a.l(f),f.forEach(P),this.h()},h(){_(e,"data-handleid",t[6]),_(e,"data-nodeid",t[14]),_(e,"data-handlepos",t[2]),_(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[0]||null)+"-"+t[1]),_(e,"class",i=De(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),_(e,"style",t[3]),_(e,"role","button"),_(e,"tabindex","-1"),he(e,"valid",t[7]),he(e,"connectingto",t[5]),he(e,"connectingfrom",t[9]),he(e,"source",!t[11]),he(e,"target",t[11]),he(e,"connectablestart",t[12]),he(e,"connectableend",t[12]),he(e,"connectable",t[12]),he(e,"connectionindicator",t[12]&&(!t[10]||t[8]))},m(u,f){G(u,e,f),a&&a.m(e,null),o=!0,r||(s=[Oe(e,"mousedown",t[32]),Oe(e,"touchstart",t[32])],r=!0)},p(u,f){a&&a.p&&(!o||f[1]&8192)&&Ze(a,l,u,u[44],o?Je(l,u[44],f,null):Ge(u[44]),null),(!o||f[0]&64)&&_(e,"data-handleid",u[6]),(!o||f[0]&4)&&_(e,"data-handlepos",u[2]),(!o||f[0]&8195&&n!==(n=u[13]+"-"+u[14]+"-"+(u[0]||null)+"-"+u[1]))&&_(e,"data-id",n),(!o||f[0]&20&&i!==(i=De(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&_(e,"class",i),(!o||f[0]&8)&&_(e,"style",u[3]),(!o||f[0]&148)&&he(e,"valid",u[7]),(!o||f[0]&52)&&he(e,"connectingto",u[5]),(!o||f[0]&532)&&he(e,"connectingfrom",u[9]),(!o||f[0]&2068)&&he(e,"source",!u[11]),(!o||f[0]&2068)&&he(e,"target",u[11]),(!o||f[0]&4116)&&he(e,"connectablestart",u[12]),(!o||f[0]&4116)&&he(e,"connectableend",u[12]),(!o||f[0]&4116)&&he(e,"connectable",u[12]),(!o||f[0]&5396)&&he(e,"connectionindicator",u[12]&&(!u[10]||u[8]))},i(u){o||(R(a,u),o=!0)},o(u){Y(a,u),o=!1},d(u){u&&P(e),a&&a.d(u),r=!1,mt(s)}}}function Cd(t,e,n){let i,o,r,s,l,a,u,f,d,c,h,y,m,b,g,E,k,p,z,L,D,I,O,V,Z,{$$slots:B={},$$scope:X}=e,{id:v=void 0}=e,{type:N="source"}=e,{position:w=de.Top}=e,{style:S=void 0}=e,{isValidConnection:M=void 0}=e,{onconnect:T=void 0}=e,{ondisconnect:W=void 0}=e,{isConnectable:K=void 0}=e,{class:j=void 0}=e;const se=Yn("svelteflow__node_id"),H=Yn("svelteflow__node_connectable");J(t,H,ee=>n(43,Z=ee));const $=Re(),{connectionMode:fe,domNode:A,nodeLookup:ge,connectionRadius:me,viewport:be,isValidConnection:ke,lib:Se,addEdge:Ae,onedgecreate:F,panBy:He,cancelConnection:Ne,updateConnection:zt,autoPanOnConnect:_t,edges:bt,connectionLookup:Xe,onconnect:wt,onconnectstart:ie,onconnectend:Ot,flowId:Tt,connection:U}=$;J(t,fe,ee=>n(40,c=ee)),J(t,A,ee=>n(55,O=ee)),J(t,ge,ee=>n(54,I=ee)),J(t,me,ee=>n(56,V=ee)),J(t,be,ee=>n(46,m=ee)),J(t,ke,ee=>n(51,p=ee)),J(t,Se,ee=>n(53,D=ee)),J(t,F,ee=>n(50,k=ee)),J(t,_t,ee=>n(52,L=ee)),J(t,bt,ee=>n(42,y=ee)),J(t,Xe,ee=>n(41,h=ee)),J(t,wt,ee=>n(49,E=ee)),J(t,ie,ee=>n(48,g=ee)),J(t,Ot,ee=>n(47,b=ee)),J(t,Tt,ee=>n(13,z=ee)),J(t,U,ee=>n(39,d=ee));function Dt(ee){const kt=Wl(ee);(kt&&ee.button===0||!kt)&&gd.onPointerDown(ee,{handleId:r,nodeId:se,isTarget:i,connectionRadius:V,domNode:O,nodeLookup:I,connectionMode:c,lib:D,autoPanOnConnect:L,flowId:z,isValidConnection:M??p,updateConnection:zt,cancelConnection:Ne,panBy:He,onConnect:je=>{const Fe=k?k(je):je;Fe&&(Ae(Fe),E==null||E(je))},onConnectStart:(je,Fe)=>{g==null||g(je,{nodeId:Fe.nodeId,handleId:Fe.handleId,handleType:Fe.handleType})},onConnectEnd:(je,Fe)=>{b==null||b(je,Fe)},getTransform:()=>[m.x,m.y,m.zoom],getFromHandle:()=>d.fromHandle})}let Ye=null,Qe;return t.$$set=ee=>{"id"in ee&&n(0,v=ee.id),"type"in ee&&n(1,N=ee.type),"position"in ee&&n(2,w=ee.position),"style"in ee&&n(3,S=ee.style),"isValidConnection"in ee&&n(33,M=ee.isValidConnection),"onconnect"in ee&&n(34,T=ee.onconnect),"ondisconnect"in ee&&n(35,W=ee.ondisconnect),"isConnectable"in ee&&n(36,K=ee.isConnectable),"class"in ee&&n(4,j=ee.class),"$$scope"in ee&&n(44,X=ee.$$scope)},t.$$.update=()=>{var ee,kt,je,Fe,Ut,qt,Zt,Gt,Nt;if(t.$$.dirty[0]&2&&n(11,i=N==="target"),t.$$.dirty[1]&4128&&n(12,o=K!==void 0?K:Z),t.$$.dirty[0]&1&&n(6,r=v||null),t.$$.dirty[0]&3|t.$$.dirty[1]&3096&&(T||W)&&n(38,Qe=h.get(`${se}-${N}-${v||null}`)),t.$$.dirty[1]&216){if(Ye&&!Ic(Qe,Ye)){const Lt=Qe??new Map;Go(Ye,Lt,W),Go(Lt,Ye,T)}n(37,Ye=Qe??new Map)}t.$$.dirty[1]&256&&n(10,s=!!d.fromHandle),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(9,l=((ee=d.fromHandle)==null?void 0:ee.nodeId)===se&&((kt=d.fromHandle)==null?void 0:kt.type)===N&&((je=d.fromHandle)==null?void 0:je.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(5,a=((Fe=d.toHandle)==null?void 0:Fe.nodeId)===se&&((Ut=d.toHandle)==null?void 0:Ut.type)===N&&((qt=d.toHandle)==null?void 0:qt.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&768&&n(8,u=c===Yt.Strict?((Zt=d.fromHandle)==null?void 0:Zt.type)!==N:se!==((Gt=d.fromHandle)==null?void 0:Gt.nodeId)||r!==((Nt=d.fromHandle)==null?void 0:Nt.id)),t.$$.dirty[0]&32|t.$$.dirty[1]&256&&n(7,f=a&&d.isValid)},[v,N,w,S,j,a,r,f,u,l,s,i,o,z,se,H,fe,A,ge,me,be,ke,Se,F,_t,bt,Xe,wt,ie,Ot,Tt,U,Dt,M,T,W,K,Ye,Qe,d,c,h,y,Z,X,B]}class lt extends ye{constructor(e){super(),_e(this,e,Cd,Sd,we,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}function Pd(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,r,s,l;return e=new lt({props:{type:"target",position:t[1]??de.Top}}),s=new lt({props:{type:"source",position:t[2]??de.Bottom}}),{c(){oe(e.$$.fragment),n=ve(),o=Pt(i),r=ve(),oe(s.$$.fragment)},l(u){ae(e.$$.fragment,u),n=Ee(u),o=Mt(u,i),r=Ee(u),ae(s.$$.fragment,u)},m(u,f){re(e,u,f),G(u,n,f),G(u,o,f),G(u,r,f),re(s,u,f),l=!0},p(u,[f]){var h;const d={};f&2&&(d.position=u[1]??de.Top),e.$set(d),(!l||f&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&Kt(o,i);const c={};f&4&&(c.position=u[2]??de.Bottom),s.$set(c)},i(u){l||(R(e.$$.fragment,u),R(s.$$.fragment,u),l=!0)},o(u){Y(e.$$.fragment,u),Y(s.$$.fragment,u),l=!1},d(u){u&&(P(n),P(o),P(r)),le(e,u),le(s,u)}}}function Md(t,e,n){const i=["data","targetPosition","sourcePosition"];Ie(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e,{sourcePosition:s=void 0}=e;return t.$$set=l=>{e=pe(pe({},e),nt(l)),n(3,Ie(e,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,r=l.targetPosition),"sourcePosition"in l&&n(2,s=l.sourcePosition)},[o,r,s]}class $l extends ye{constructor(e){super(),_e(this,e,Md,Pd,we,{data:0,targetPosition:1,sourcePosition:2})}}function zd(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new lt({props:{type:"source",position:t[1]??de.Bottom}}),{c(){n=Pt(e),i=ve(),oe(o.$$.fragment)},l(l){n=Mt(l,e),i=Ee(l),ae(o.$$.fragment,l)},m(l,a){G(l,n,a),G(l,i,a),re(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&Kt(n,e);const u={};a&2&&(u.position=l[1]??de.Bottom),o.$set(u)},i(l){r||(R(o.$$.fragment,l),r=!0)},o(l){Y(o.$$.fragment,l),r=!1},d(l){l&&(P(n),P(i)),le(o,l)}}}function Od(t,e,n){const i=["data","sourcePosition"];Ie(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:r=void 0}=e;return t.$$set=s=>{e=pe(pe({},e),nt(s)),n(2,Ie(e,i)),"data"in s&&n(0,o=s.data),"sourcePosition"in s&&n(1,r=s.sourcePosition)},[o,r]}class Td extends ye{constructor(e){super(),_e(this,e,Od,zd,we,{data:0,sourcePosition:1})}}function Dd(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new lt({props:{type:"target",position:t[1]??de.Top}}),{c(){n=Pt(e),i=ve(),oe(o.$$.fragment)},l(l){n=Mt(l,e),i=Ee(l),ae(o.$$.fragment,l)},m(l,a){G(l,n,a),G(l,i,a),re(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&Kt(n,e);const u={};a&2&&(u.position=l[1]??de.Top),o.$set(u)},i(l){r||(R(o.$$.fragment,l),r=!0)},o(l){Y(o.$$.fragment,l),r=!1},d(l){l&&(P(n),P(i)),le(o,l)}}}function Nd(t,e,n){const i=["data","targetPosition"];Ie(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e;return t.$$set=s=>{e=pe(pe({},e),nt(s)),n(2,Ie(e,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,r=s.targetPosition)},[o,r]}class Id extends ye{constructor(e){super(),_e(this,e,Nd,Dd,we,{data:0,targetPosition:1})}}function Ad(t,e,n){const i=[];return Ie(e,i),t.$$set=o=>{e=pe(pe({},e),nt(o)),n(0,Ie(e,i))},[]}class Hd extends ye{constructor(e){super(),_e(this,e,Ad,null,we,{})}}function ar(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function Ld(t,{target:e,domNode:n}){return ar(t,n,e),{async update({target:i,domNode:o}){ar(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function Rd(t){let e,n,i,o,r;const s=t[3].default,l=qe(s,t,t[2],null);return{c(){e=Me("div"),l&&l.c()},l(a){e=ze(a,"DIV",{});var u=q(e);l&&l.l(u),u.forEach(P)},m(a,u){G(a,e,u),l&&l.m(e,null),i=!0,o||(r=Ue(n=Ld.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){l&&l.p&&(!i||u&4)&&Ze(l,s,a,a[2],i?Je(s,a[2],u,null):Ge(a[2]),null),n&&Ve(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(R(l,a),i=!0)},o(a){Y(l,a),i=!1},d(a){a&&P(e),l&&l.d(a),o=!1,r()}}}function Vd(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{domNode:s}=Re();return J(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Wd extends ye{constructor(e){super(),_e(this,e,Vd,Rd,we,{})}}function es(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:r,elementsSelectable:s}=Re();return l=>{const a=Q(t).get(l);if(!a){console.warn("012",Sn.error012(l));return}(a.selectable||Q(s)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&Q(i)&&r({nodes:[],edges:[a]}):o([l]))}}function Bd(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,r,s;const l=t[5].default,a=qe(l,t,t[7],null);return{c(){e=Me("div"),a&&a.c(),this.h()},l(u){e=ze(u,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var f=q(e);a&&a.l(f),f.forEach(P),this.h()},h(){_(e,"class","svelte-flow__edge-label"),_(e,"style",n="pointer-events: all;"+t[0]),_(e,"role","button"),_(e,"tabindex","-1"),ce(e,"transform",i)},m(u,f){G(u,e,f),a&&a.m(e,null),o=!0,r||(s=[Oe(e,"keyup",Yd),Oe(e,"click",t[6])],r=!0)},p(u,f){a&&a.p&&(!o||f&128)&&Ze(a,l,u,u[7],o?Je(l,u[7],f,null):Ge(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&_(e,"style",n);const d=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||d)&&ce(e,"transform",i)},i(u){o||(R(a,u),o=!0)},o(u){Y(a,u),o=!1},d(u){u&&P(e),a&&a.d(u),r=!1,mt(s)}}}function Xd(t){let e,n;return e=new Wd({props:{$$slots:{default:[Bd]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,[o]){const r={};o&135&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}const Yd=()=>{};function Fd(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:r=void 0}=e,{x:s=void 0}=e,{y:l=void 0}=e;const a=es(),u=Yn("svelteflow__edge_id"),f=()=>{u&&a(u)};return t.$$set=d=>{"style"in d&&n(0,r=d.style),"x"in d&&n(1,s=d.x),"y"in d&&n(2,l=d.y),"$$scope"in d&&n(7,o=d.$$scope)},[r,s,l,a,u,i,f,o]}class Kd extends ye{constructor(e){super(),_e(this,e,Fd,Xd,we,{style:0,x:1,y:2})}}function Ud(t){let e;return{c(){e=te("path"),this.h()},l(n){e=ne(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),q(e).forEach(P),this.h()},h(){_(e,"d",t[1]),_(e,"stroke-opacity",0),_(e,"stroke-width",t[10]),_(e,"fill","none"),_(e,"class","svelte-flow__edge-interaction")},m(n,i){G(n,e,i)},p(n,i){i&2&&_(e,"d",n[1])},d(n){n&&P(e)}}}function ur(t){let e,n;return e=new Kd({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[qd]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const r={};o&8&&(r.x=i[3]),o&16&&(r.y=i[4]),o&32&&(r.style=i[5]),o&4100&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function qd(t){let e;return{c(){e=Pt(t[2])},l(n){e=Mt(n,t[2])},m(n,i){G(n,e,i)},p(n,i){i&4&&Kt(e,n[2])},d(n){n&&P(e)}}}function Zd(t){let e,n,i,o,r,s,l=t[10]&&Ud(t),a=t[2]&&ur(t);return{c(){e=te("path"),i=ve(),l&&l.c(),o=ve(),a&&a.c(),r=Te(),this.h()},l(u){e=ne(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),q(e).forEach(P),i=Ee(u),l&&l.l(u),o=Ee(u),a&&a.l(u),r=Te(),this.h()},h(){_(e,"id",t[0]),_(e,"d",t[1]),_(e,"class",n=De(["svelte-flow__edge-path",t[9]])),_(e,"marker-start",t[6]),_(e,"marker-end",t[7]),_(e,"fill","none"),_(e,"style",t[8])},m(u,f){G(u,e,f),G(u,i,f),l&&l.m(u,f),G(u,o,f),a&&a.m(u,f),G(u,r,f),s=!0},p(u,[f]){(!s||f&1)&&_(e,"id",u[0]),(!s||f&2)&&_(e,"d",u[1]),(!s||f&512&&n!==(n=De(["svelte-flow__edge-path",u[9]])))&&_(e,"class",n),(!s||f&64)&&_(e,"marker-start",u[6]),(!s||f&128)&&_(e,"marker-end",u[7]),(!s||f&256)&&_(e,"style",u[8]),u[10]&&l.p(u,f),u[2]?a?(a.p(u,f),f&4&&R(a,1)):(a=ur(u),a.c(),R(a,1),a.m(r.parentNode,r)):a&&(We(),Y(a,1,1,()=>{a=null}),Be())},i(u){s||(R(a),s=!0)},o(u){Y(a),s=!1},d(u){u&&(P(e),P(i),P(o),P(r)),l&&l.d(u),a&&a.d(u)}}}function Gd(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:r=void 0}=e,{labelX:s=void 0}=e,{labelY:l=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:f=void 0}=e,{style:d=void 0}=e,{interactionWidth:c=20}=e,{class:h=void 0}=e,y=c===void 0?20:c;return t.$$set=m=>{"id"in m&&n(0,i=m.id),"path"in m&&n(1,o=m.path),"label"in m&&n(2,r=m.label),"labelX"in m&&n(3,s=m.labelX),"labelY"in m&&n(4,l=m.labelY),"labelStyle"in m&&n(5,a=m.labelStyle),"markerStart"in m&&n(6,u=m.markerStart),"markerEnd"in m&&n(7,f=m.markerEnd),"style"in m&&n(8,d=m.style),"interactionWidth"in m&&n(11,c=m.interactionWidth),"class"in m&&n(9,h=m.class)},[i,o,r,s,l,a,u,f,d,h,y,c]}class vi extends ye{constructor(e){super(),_e(this,e,Gd,Zd,we,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function Jd(t){let e,n;return e=new vi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function Qd(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ie(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:y}=e,{sourcePosition:m}=e,{targetX:b}=e,{targetY:g}=e,{targetPosition:E}=e;return t.$$set=k=>{e=pe(pe({},e),nt(k)),n(15,Ie(e,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,d=k.markerEnd),"interactionWidth"in k&&n(5,c=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,y=k.sourceY),"sourcePosition"in k&&n(11,m=k.sourcePosition),"targetX"in k&&n(12,b=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,E=k.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=Bl({sourceX:h,sourceY:y,targetX:b,targetY:g,sourcePosition:m,targetPosition:E}),i,(n(7,o),n(9,h),n(10,y),n(12,b),n(13,g),n(11,m),n(14,E)),(n(6,r),n(9,h),n(10,y),n(12,b),n(13,g),n(11,m),n(14,E)))},[l,a,u,f,d,c,r,o,i,h,y,m,b,g,E]}class ts extends ye{constructor(e){super(),_e(this,e,Qd,Jd,we,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function jd(t){let e,n;return e=new vi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function xd(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ie(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:y}=e,{sourcePosition:m}=e,{targetX:b}=e,{targetY:g}=e,{targetPosition:E}=e;return t.$$set=k=>{e=pe(pe({},e),nt(k)),n(15,Ie(e,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,d=k.markerEnd),"interactionWidth"in k&&n(5,c=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,y=k.sourceY),"sourcePosition"in k&&n(11,m=k.sourcePosition),"targetX"in k&&n(12,b=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,E=k.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=ii({sourceX:h,sourceY:y,targetX:b,targetY:g,sourcePosition:m,targetPosition:E}),i,(n(7,o),n(9,h),n(10,y),n(12,b),n(13,g),n(11,m),n(14,E)),(n(6,r),n(9,h),n(10,y),n(12,b),n(13,g),n(11,m),n(14,E)))},[l,a,u,f,d,c,r,o,i,h,y,m,b,g,E]}class $d extends ye{constructor(e){super(),_e(this,e,xd,jd,we,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function eh(t){let e,n;return e=new vi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function th(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];Ie(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:y}=e,{targetX:m}=e,{targetY:b}=e;return t.$$set=g=>{e=pe(pe({},e),nt(g)),n(13,Ie(e,s)),"label"in g&&n(0,l=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,d=g.markerEnd),"interactionWidth"in g&&n(5,c=g.interactionWidth),"sourceX"in g&&n(9,h=g.sourceX),"sourceY"in g&&n(10,y=g.sourceY),"targetX"in g&&n(11,m=g.targetX),"targetY"in g&&n(12,b=g.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,r]=Yl({sourceX:h,sourceY:y,targetX:m,targetY:b}),i,(n(7,o),n(9,h),n(10,y),n(11,m),n(12,b)),(n(6,r),n(9,h),n(10,y),n(11,m),n(12,b)))},[l,a,u,f,d,c,r,o,i,h,y,m,b]}class nh extends ye{constructor(e){super(),_e(this,e,th,eh,we,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function ih(t){let e,n;return e=new vi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function oh(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ie(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:y}=e,{sourcePosition:m}=e,{targetX:b}=e,{targetY:g}=e,{targetPosition:E}=e;return t.$$set=k=>{e=pe(pe({},e),nt(k)),n(15,Ie(e,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,d=k.markerEnd),"interactionWidth"in k&&n(5,c=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,y=k.sourceY),"sourcePosition"in k&&n(11,m=k.sourcePosition),"targetX"in k&&n(12,b=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,E=k.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=ii({sourceX:h,sourceY:y,targetX:b,targetY:g,sourcePosition:m,targetPosition:E,borderRadius:0}),i,(n(7,o),n(9,h),n(10,y),n(12,b),n(13,g),n(11,m),n(14,E)),(n(6,r),n(9,h),n(10,y),n(12,b),n(13,g),n(11,m),n(14,E)))},[l,a,u,f,d,c,r,o,i,h,y,m,b,g,E]}class rh extends ye{constructor(e){super(),_e(this,e,oh,ih,we,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function lh(t,e){const n=t.set,i=e.set,o=Q(t),r=Q(e);let l=o.length===0&&r.length>0?r:o;t.set(l);const a=u=>{const f=n(u);return l=f,i(l),f};t.set=e.set=a,t.update=e.update=u=>a(u(l))}function sh(t,e){const n=t.set,i=e.set;let o=Q(e);t.set(o);const r=s=>{n(s),i(s),o=s};t.set=e.set=r,t.update=e.update=s=>r(s(o))}const ah=(t,e,n)=>{if(!n)return;const i=Q(t),o=e.set,r=n.set;let s=n?Q(n):{x:0,y:0,zoom:1};e.set(s),e.set=l=>(o(l),r(l),s=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),r(l),s=l,l),e.update=l=>{e.set(l(s))},n.update=l=>{n.set(l(s))}},uh=(t,e,n,i=[0,0],o=xn)=>{const{subscribe:r,set:s,update:l}=ue([]);let a=t,u={},f=!0;const d=m=>(Fl(m,e,n,{elevateNodesOnSelect:f,nodeOrigin:i,nodeExtent:o,defaults:u,checkEquality:!1}),a=m,s(a),a),c=m=>d(m(a)),h=m=>{u=m},y=m=>{f=m.elevateNodesOnSelect??f};return d(a),{subscribe:r,set:d,update:c,setDefaultOptions:h,setOptions:y}},fh=(t,e,n,i)=>{const{subscribe:o,set:r,update:s}=ue([]);let l=t,a={};const u=c=>{const h=a?c.map(y=>({...a,...y})):c;Ul(e,n,h),l=h,r(l)},f=c=>u(c(l)),d=c=>{a=c};return u(l),{subscribe:o,set:u,update:f,setDefaultOptions:d}},ns={input:Td,output:Id,default:$l,group:Hd},is={straight:nh,smoothstep:$d,default:ts,step:rh},ch=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s})=>{const l=new Map,a=new Map,u=new Map,f=new Map,d=r??[0,0],c=s??xn;Fl(t,l,a,{nodeExtent:c,nodeOrigin:d,elevateNodesOnSelect:!1,checkEquality:!1}),Ul(u,f,e);let h={x:0,y:0,zoom:1};if(o&&n&&i){const y=Pn(l,{filter:m=>!!((m.width||m.initialWidth)&&(m.height||m.initialHeight))});h=co(y,n,i,.5,2,.1)}return{flowId:ue(null),nodes:uh(t,l,a,d,c),nodeLookup:ot(l),parentLookup:ot(a),edgeLookup:ot(f),visibleNodes:ot([]),edges:fh(e,u,f),visibleEdges:ot([]),connectionLookup:ot(u),height:ue(500),width:ue(500),minZoom:ue(.5),maxZoom:ue(2),nodeOrigin:ue(d),nodeDragThreshold:ue(1),nodeExtent:ue(c),translateExtent:ue(xn),autoPanOnNodeDrag:ue(!0),autoPanOnConnect:ue(!0),fitViewOnInit:ue(!1),fitViewOnInitDone:ue(!1),fitViewOptions:ue(void 0),panZoom:ue(null),snapGrid:ue(null),dragging:ue(!1),selectionRect:ue(null),selectionKeyPressed:ue(!1),multiselectionKeyPressed:ue(!1),deleteKeyPressed:ue(!1),panActivationKeyPressed:ue(!1),zoomActivationKeyPressed:ue(!1),selectionRectMode:ue(null),selectionMode:ue($n.Partial),nodeTypes:ue(ns),edgeTypes:ue(is),viewport:ue(h),connectionMode:ue(Yt.Strict),domNode:ue(null),connection:ot(Gi),connectionLineType:ue(tn.Bezier),connectionRadius:ue(20),isValidConnection:ue(()=>!0),nodesDraggable:ue(!0),nodesConnectable:ue(!0),elementsSelectable:ue(!0),selectNodesOnDrag:ue(!0),markers:ot([]),defaultMarkerColor:ue("#b1b1b7"),lib:ot("svelte"),onlyRenderVisibleElements:ue(!1),onerror:ue(Vc),ondelete:ue(void 0),onedgecreate:ue(void 0),onconnect:ue(void 0),onconnectstart:ue(void 0),onconnectend:ue(void 0),onbeforedelete:ue(void 0),nodesInitialized:ue(!1),edgesInitialized:ue(!1),viewportInitialized:ue(!1),initialized:ot(!1)}};function dh(t){const e=xt([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,r,s,l])=>o&&s&&l?n.filter(u=>{const f=i.get(u.source),d=i.get(u.target);return f&&d&&Uc({sourceNode:f,targetNode:d,width:s,height:l,transform:[r.x,r.y,r.zoom]})}):n);return xt([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,r])=>n.reduce((l,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return l;const d=xc({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:r});return d&&l.push({...a,zIndex:Kc({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...d}),l},[]))}function hh(t){return xt([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,r])=>{const s=[r.x,r.y,r.zoom];return n?Hl(e,{x:0,y:0,width:i,height:o},s,!0):Array.from(e.values())})}const Ei=Symbol();function os({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=ch({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});function a(w){l.nodeTypes.set({...ns,...w})}function u(w){l.edgeTypes.set({...is,...w})}function f(w){const S=Q(l.edges);l.edges.set(Gc(w,S))}const d=(w,S=!1)=>{var T;const M=Q(l.nodeLookup);for(const[W,K]of w){const j=(T=M.get(W))==null?void 0:T.internals.userNode;j&&(j.position=K.position,j.dragging=S)}l.nodes.update(W=>W)};function c(w){var K,j,se;const S=Q(l.nodeLookup),M=Q(l.parentLookup),{changes:T,updatedInternals:W}=rd(w,S,Q(l.parentLookup),Q(l.domNode),Q(l.nodeOrigin));if(W){if(td(S,M,{nodeOrigin:r,nodeExtent:s}),!Q(l.fitViewOnInitDone)&&Q(l.fitViewOnInit)){const H=Q(l.fitViewOptions),$=y({...H,nodes:H==null?void 0:H.nodes});l.fitViewOnInitDone.set($)}for(const H of T){const $=(K=S.get(H.id))==null?void 0:K.internals.userNode;if($)switch(H.type){case"dimensions":{const fe={...$.measured,...H.dimensions};H.setAttributes&&($.width=((j=H.dimensions)==null?void 0:j.width)??$.width,$.height=((se=H.dimensions)==null?void 0:se.height)??$.height),$.measured=fe;break}case"position":$.position=H.position??$.position;break}}l.nodes.update(H=>H),Q(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function h(w){const S=Q(l.panZoom),M=Q(l.domNode);if(!S||!M)return Promise.resolve(!1);const{width:T,height:W}=ho(M),K=Qo(Q(l.nodeLookup),w);return jo({nodes:K,width:T,height:W,minZoom:Q(l.minZoom),maxZoom:Q(l.maxZoom),panZoom:S},w)}function y(w){const S=Q(l.panZoom);if(!S)return!1;const M=Qo(Q(l.nodeLookup),w);return jo({nodes:M,width:Q(l.width),height:Q(l.height),minZoom:Q(l.minZoom),maxZoom:Q(l.maxZoom),panZoom:S},w),M.size>0}function m(w,S){const M=Q(l.panZoom);return M?M.scaleBy(w,S):Promise.resolve(!1)}function b(w){return m(1.2,w)}function g(w){return m(1/1.2,w)}function E(w){const S=Q(l.panZoom);S&&(S.setScaleExtent([w,Q(l.maxZoom)]),l.minZoom.set(w))}function k(w){const S=Q(l.panZoom);S&&(S.setScaleExtent([Q(l.minZoom),w]),l.maxZoom.set(w))}function p(w){const S=Q(l.panZoom);S&&(S.setTranslateExtent(w),l.translateExtent.set(w))}function z(w){let S=!1;return w.forEach(M=>{M.selected&&(M.selected=!1,S=!0)}),S}function L(w){var S;(S=Q(l.panZoom))==null||S.setClickDistance(w)}function D(w){z((w==null?void 0:w.nodes)||Q(l.nodes))&&l.nodes.set(Q(l.nodes)),z((w==null?void 0:w.edges)||Q(l.edges))&&l.edges.set(Q(l.edges))}l.deleteKeyPressed.subscribe(async w=>{var S;if(w){const M=Q(l.nodes),T=Q(l.edges),W=M.filter(H=>H.selected),K=T.filter(H=>H.selected),{nodes:j,edges:se}=await Rc({nodesToRemove:W,edgesToRemove:K,nodes:M,edges:T,onBeforeDelete:Q(l.onbeforedelete)});(j.length||se.length)&&(l.nodes.update(H=>H.filter($=>!j.some(fe=>fe.id===$.id))),l.edges.update(H=>H.filter($=>!se.some(fe=>fe.id===$.id))),(S=Q(l.ondelete))==null||S({nodes:j,edges:se}))}});function I(w){const S=Q(l.multiselectionKeyPressed);l.nodes.update(M=>M.map(T=>{const W=w.includes(T.id),K=S&&T.selected||W;return T.selected=K,T})),S||l.edges.update(M=>M.map(T=>(T.selected=!1,T)))}function O(w){const S=Q(l.multiselectionKeyPressed);l.edges.update(M=>M.map(T=>{const W=w.includes(T.id),K=S&&T.selected||W;return T.selected=K,T})),S||l.nodes.update(M=>M.map(T=>(T.selected=!1,T)))}function V(w){var M;const S=(M=Q(l.nodes))==null?void 0:M.find(T=>T.id===w);if(!S){console.warn("012",Sn.error012(w));return}l.selectionRect.set(null),l.selectionRectMode.set(null),S.selected?S.selected&&Q(l.multiselectionKeyPressed)&&D({nodes:[S],edges:[]}):I([w])}function Z(w){const S=Q(l.viewport);return ld({delta:w,panZoom:Q(l.panZoom),transform:[S.x,S.y,S.zoom],translateExtent:Q(l.translateExtent),width:Q(l.width),height:Q(l.height)})}const B=ue(Gi),X=w=>{B.set({...w})};function v(){B.set(Gi)}function N(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),D(),v()}return{...l,visibleEdges:dh(l),visibleNodes:hh(l),connection:xt([B,l.viewport],([w,S])=>w.inProgress?{...w,to:wi(w.to,[S.x,S.y,S.zoom])}:{...w}),markers:xt([l.edges,l.defaultMarkerColor,l.flowId],([w,S,M])=>$c(w,{defaultColor:S,id:M})),initialized:(()=>{let w=!1;const S=Q(l.nodes).length,M=Q(l.edges).length;return xt([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([T,W,K])=>w||(S===0?w=K:M===0?w=K&&T:w=K&&T&&W,w))})(),syncNodeStores:w=>lh(l.nodes,w),syncEdgeStores:w=>sh(l.edges,w),syncViewport:w=>ah(l.panZoom,l.viewport,w),setNodeTypes:a,setEdgeTypes:u,addEdge:f,updateNodePositions:d,updateNodeInternals:c,zoomIn:b,zoomOut:g,fitView:w=>h(w),setMinZoom:E,setMaxZoom:k,setTranslateExtent:p,setPaneClickDistance:L,unselectNodesAndEdges:D,addSelectedNodes:I,addSelectedEdges:O,handleNodeSelection:V,panBy:Z,updateConnection:X,cancelConnection:v,reset:N}}function Re(){const t=Yn(Ei);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function gh({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=os({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});return mn(Ei,{getStore:()=>l}),l}function mh(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:s,dragging:l,translateExtent:a,paneClickDistance:u}=e,f=pd({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:r,paneClickDistance:u,onDraggingChange:l.set}),d=f.getViewport();return s.set(d),n.set(f),f.update(e),{update(c){f.update(c)}}}function yh(t){let e,n,i,o,r;const s=t[35].default,l=qe(s,t,t[34],null);return{c(){e=Me("div"),l&&l.c(),this.h()},l(a){e=ze(a,"DIV",{class:!0});var u=q(e);l&&l.l(u),u.forEach(P),this.h()},h(){_(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){G(a,e,u),l&&l.m(e,null),i=!0,o||(r=Ue(n=mh.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||dt.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8],onTransformChange:t[29]})),o=!0)},p(a,u){l&&l.p&&(!i||u[1]&8)&&Ze(l,s,a,a[34],i?Je(s,a[34],u,null):Ge(a[34]),null),n&&Ve(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||dt.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8],onTransformChange:a[29]})},i(a){i||(R(l,a),i=!0)},o(a){Y(l,a),i=!1},d(a){a&&P(e),l&&l.d(a),o=!1,r()}}}function _h(t,e,n){let i,o,r,s,l,a,u,f,d,c,h,{$$slots:y={},$$scope:m}=e,{initialViewport:b=void 0}=e,{onMoveStart:g=void 0}=e,{onMove:E=void 0}=e,{onMoveEnd:k=void 0}=e,{panOnScrollMode:p}=e,{preventScrolling:z}=e,{zoomOnScroll:L}=e,{zoomOnDoubleClick:D}=e,{zoomOnPinch:I}=e,{panOnDrag:O}=e,{panOnScroll:V}=e,{paneClickDistance:Z}=e;const{viewport:B,panZoom:X,selectionRect:v,minZoom:N,maxZoom:w,dragging:S,translateExtent:M,lib:T,panActivationKeyPressed:W,zoomActivationKeyPressed:K,viewportInitialized:j}=Re();J(t,v,H=>n(15,d=H)),J(t,N,H=>n(12,a=H)),J(t,w,H=>n(13,u=H)),J(t,M,H=>n(16,c=H)),J(t,T,H=>n(17,h=H)),J(t,W,H=>n(33,l=H)),J(t,K,H=>n(14,f=H)),J(t,j,H=>n(36,s=H));const se=H=>B.set({x:H[0],y:H[1],zoom:H[2]});return fn(()=>{Fn(j,s=!0,s)}),t.$$set=H=>{"initialViewport"in H&&n(30,b=H.initialViewport),"onMoveStart"in H&&n(0,g=H.onMoveStart),"onMove"in H&&n(1,E=H.onMove),"onMoveEnd"in H&&n(2,k=H.onMoveEnd),"panOnScrollMode"in H&&n(3,p=H.panOnScrollMode),"preventScrolling"in H&&n(4,z=H.preventScrolling),"zoomOnScroll"in H&&n(5,L=H.zoomOnScroll),"zoomOnDoubleClick"in H&&n(6,D=H.zoomOnDoubleClick),"zoomOnPinch"in H&&n(7,I=H.zoomOnPinch),"panOnDrag"in H&&n(31,O=H.panOnDrag),"panOnScroll"in H&&n(32,V=H.panOnScroll),"paneClickDistance"in H&&n(8,Z=H.paneClickDistance),"$$scope"in H&&n(34,m=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&n(11,i=b||{x:0,y:0,zoom:1}),t.$$.dirty[1]&5&&n(10,o=l||O),t.$$.dirty[1]&6&&n(9,r=l||V)},[g,E,k,p,z,L,D,I,Z,r,o,i,a,u,f,d,c,h,B,X,v,N,w,S,M,T,W,K,j,se,b,O,V,l,m,y]}class bh extends ye{constructor(e){super(),_e(this,e,_h,yh,we,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}function wh(t){let e,n,i,o;const r=t[28].default,s=qe(r,t,t[27],null);return{c(){e=Me("div"),s&&s.c(),this.h()},l(l){e=ze(l,"DIV",{class:!0});var a=q(e);s&&s.l(a),a.forEach(P),this.h()},h(){_(e,"class","svelte-flow__pane svelte-1esy7hx"),he(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),he(e,"dragging",t[4]),he(e,"selection",t[1])},m(l,a){G(l,e,a),s&&s.m(e,null),t[29](e),n=!0,i||(o=[Oe(e,"click",function(){Ve(t[3]?void 0:Hn(t[15],t[2]))&&(t[3]?void 0:Hn(t[15],t[2])).apply(this,arguments)}),Oe(e,"pointerdown",function(){Ve(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),Oe(e,"pointermove",function(){Ve(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),Oe(e,"pointerup",function(){Ve(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),Oe(e,"contextmenu",function(){Ve(Hn(t[19],t[2]))&&Hn(t[19],t[2]).apply(this,arguments)})],i=!0)},p(l,a){t=l,s&&s.p&&(!n||a[0]&134217728)&&Ze(s,r,t,t[27],n?Je(r,t[27],a,null):Ge(t[27]),null),(!n||a[0]&1)&&he(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),(!n||a[0]&16)&&he(e,"dragging",t[4]),(!n||a[0]&2)&&he(e,"selection",t[1])},i(l){n||(R(s,l),n=!0)},o(l){Y(s,l),n=!1},d(l){l&&P(e),s&&s.d(l),t[29](null),i=!1,mt(o)}}}function Hn(t,e){return n=>{n.target===e&&(t==null||t(n))}}function fr(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function kh(t,e,n){let i,o,r,s,l,a,u,f,d,c,h,y,m,{$$slots:b={},$$scope:g}=e,{panOnDrag:E=void 0}=e,{selectionOnDrag:k=void 0}=e;const p=ai(),{nodes:z,nodeLookup:L,edges:D,viewport:I,dragging:O,elementsSelectable:V,selectionRect:Z,selectionRectMode:B,selectionKeyPressed:X,selectionMode:v,panActivationKeyPressed:N,unselectNodesAndEdges:w}=Re();J(t,L,A=>n(36,d=A)),J(t,D,A=>n(33,a=A)),J(t,I,A=>n(35,f=A)),J(t,O,A=>n(4,m=A)),J(t,V,A=>n(25,h=A)),J(t,Z,A=>n(24,c=A)),J(t,B,A=>n(23,l=A)),J(t,X,A=>n(22,s=A)),J(t,v,A=>n(34,u=A)),J(t,N,A=>n(26,y=A));let S,M=null,T=[],W=!1;function K(A){if(W){W=!1;return}p("paneclick",{event:A}),w(),B.set(null)}function j(A){var be,ke;if(M=S.getBoundingClientRect(),!V||!o||A.button!==0||A.target!==S||!M)return;(ke=(be=A.target)==null?void 0:be.setPointerCapture)==null||ke.call(be,A.pointerId);const{x:ge,y:me}=pt(A,M);w(),Z.set({width:0,height:0,startX:ge,startY:me,x:ge,y:me})}function se(A){if(!o||!M||!c)return;W=!0;const ge=pt(A,M),me=c.startX??0,be=c.startY??0,ke={...c,x:ge.x<me?ge.x:me,y:ge.y<be?ge.y:be,width:Math.abs(ge.x-me),height:Math.abs(ge.y-be)},Se=T.map(Ne=>Ne.id),Ae=Ji(T,a).map(Ne=>Ne.id);T=Hl(d,ke,[f.x,f.y,f.zoom],u===$n.Partial,!0);const F=Ji(T,a).map(Ne=>Ne.id),He=T.map(Ne=>Ne.id);(Se.length!==He.length||He.some(Ne=>!Se.includes(Ne)))&&z.update(Ne=>Ne.map(fr(He))),(Ae.length!==F.length||F.some(Ne=>!Ae.includes(Ne)))&&D.update(Ne=>Ne.map(fr(F))),B.set("user"),Z.set(ke)}function H(A){var ge,me;A.button===0&&((me=(ge=A.target)==null?void 0:ge.releasePointerCapture)==null||me.call(ge,A.pointerId),!o&&l==="user"&&A.target===S&&(K==null||K(A)),Z.set(null),T.length>0&&Fn(B,l="nodes",l),s&&(W=!1))}const $=A=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){A.preventDefault();return}p("panecontextmenu",{event:A})};function fe(A){Bt[A?"unshift":"push"](()=>{S=A,n(2,S)})}return t.$$set=A=>{"panOnDrag"in A&&n(0,E=A.panOnDrag),"selectionOnDrag"in A&&n(20,k=A.selectionOnDrag),"$$scope"in A&&n(27,g=A.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=y||E),t.$$.dirty[0]&24117248&&n(1,o=s||c||k&&i!==!0),t.$$.dirty[0]&41943042&&n(3,r=h&&(o||l==="user"))},[E,o,S,r,m,L,D,I,O,V,Z,B,X,v,N,K,j,se,H,$,k,i,s,l,c,h,y,g,b,fe]}class vh extends ye{constructor(e){super(),_e(this,e,kh,wh,we,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}function Eh(t){let e,n;const i=t[3].default,o=qe(i,t,t[2],null);return{c(){e=Me("div"),o&&o.c(),this.h()},l(r){e=ze(r,"DIV",{class:!0,style:!0});var s=q(e);o&&o.l(s),s.forEach(P),this.h()},h(){_(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),ce(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(r,s){G(r,e,s),o&&o.m(e,null),n=!0},p(r,[s]){o&&o.p&&(!n||s&4)&&Ze(o,i,r,r[2],n?Je(i,r[2],s,null):Ge(r[2]),null),(!n||s&1)&&ce(e,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(R(o,r),n=!0)},o(r){Y(o,r),n=!1},d(r){r&&P(e),o&&o.d(r)}}}function ph(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{viewport:s}=Re();return J(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Sh extends ye{constructor(e){super(),_e(this,e,ph,Eh,we,{})}}function rs(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s}=e,l=ad({onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s,getStoreItems:()=>{const u=Q(n.snapGrid),f=Q(n.viewport);return{nodes:Q(n.nodes),nodeLookup:Q(n.nodeLookup),edges:Q(n.edges),nodeExtent:Q(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:Q(n.nodeOrigin),multiSelectionActive:Q(n.multiselectionKeyPressed),domNode:Q(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:Q(n.autoPanOnNodeDrag),nodesDraggable:Q(n.nodesDraggable),selectNodesOnDrag:Q(n.selectNodesOnDrag),nodeDragThreshold:Q(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){l.destroy();return}l.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(t,e),{update(u){a(t,u)},destroy(){l.destroy()}}}function Ch({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:r}){if(o===void 0&&r===void 0){const s=t??n,l=e??i;return{width:s?`width:${s}px;`:"",height:l?`height:${l}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function cr(t){let e,n,i,o,r,s=`translate(${t[12]}px, ${t[13]}px)`,l,a,u;var f=t[27];function d(c,h){return{props:{data:c[2],id:c[1],selected:c[3],selectable:c[5],deletable:c[7],sourcePosition:c[14],targetPosition:c[15],zIndex:c[16],dragging:c[9],draggable:c[4],dragHandle:c[19],parentId:c[21],type:c[25],isConnectable:c[28],positionAbsoluteX:c[12],positionAbsoluteY:c[13],width:c[17],height:c[18]}}}return f&&(n=Kn(f,d(t))),{c(){e=Me("div"),n&&oe(n.$$.fragment),this.h()},l(c){e=ze(c,"DIV",{"data-id":!0,class:!0,style:!0});var h=q(e);n&&ae(n.$$.fragment,h),h.forEach(P),this.h()},h(){_(e,"data-id",t[1]),_(e,"class",i=De(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),_(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),he(e,"dragging",t[9]),he(e,"selected",t[3]),he(e,"draggable",t[4]),he(e,"connectable",t[6]),he(e,"selectable",t[5]),he(e,"nopan",t[4]),he(e,"parent",t[11]),ce(e,"z-index",t[16]),ce(e,"transform",s),ce(e,"visibility",t[20]?"visible":"hidden")},m(c,h){G(c,e,h),n&&re(n,e,null),t[50](e),l=!0,a||(u=[Ue(r=rs.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[31],onDrag:t[47],onDragStart:t[48],onDragStop:t[49],store:t[29]})),Oe(e,"click",t[34]),Oe(e,"mouseenter",t[51]),Oe(e,"mouseleave",t[52]),Oe(e,"mousemove",t[53]),Oe(e,"contextmenu",t[54])],a=!0)},p(c,h){if(h[0]&134217728&&f!==(f=c[27])){if(n){We();const m=n;Y(m.$$.fragment,1,0,()=>{le(m,1)}),Be()}f?(n=Kn(f,d(c)),oe(n.$$.fragment),R(n.$$.fragment,1),re(n,e,null)):n=null}else if(f){const m={};h[0]&4&&(m.data=c[2]),h[0]&2&&(m.id=c[1]),h[0]&8&&(m.selected=c[3]),h[0]&32&&(m.selectable=c[5]),h[0]&128&&(m.deletable=c[7]),h[0]&16384&&(m.sourcePosition=c[14]),h[0]&32768&&(m.targetPosition=c[15]),h[0]&65536&&(m.zIndex=c[16]),h[0]&512&&(m.dragging=c[9]),h[0]&16&&(m.draggable=c[4]),h[0]&524288&&(m.dragHandle=c[19]),h[0]&2097152&&(m.parentId=c[21]),h[0]&33554432&&(m.type=c[25]),h[0]&268435456&&(m.isConnectable=c[28]),h[0]&4096&&(m.positionAbsoluteX=c[12]),h[0]&8192&&(m.positionAbsoluteY=c[13]),h[0]&131072&&(m.width=c[17]),h[0]&262144&&(m.height=c[18]),n.$set(m)}(!l||h[0]&2)&&_(e,"data-id",c[1]),(!l||h[0]&41943040&&i!==(i=De(["svelte-flow__node",`svelte-flow__node-${c[25]}`,c[23]])))&&_(e,"class",i),(!l||h[0]&67109888&&o!==(o=(c[10]??"")+";"+c[26].width+c[26].height))&&_(e,"style",o),r&&Ve(r.update)&&h[0]&4718626&&r.update.call(null,{nodeId:c[1],isSelectable:c[5],disabled:!1,handleSelector:c[19],noDragClass:"nodrag",nodeClickDistance:c[22],onNodeMouseDown:c[31],onDrag:c[47],onDragStart:c[48],onDragStop:c[49],store:c[29]}),(!l||h[0]&41943552)&&he(e,"dragging",c[9]),(!l||h[0]&41943048)&&he(e,"selected",c[3]),(!l||h[0]&41943056)&&he(e,"draggable",c[4]),(!l||h[0]&41943104)&&he(e,"connectable",c[6]),(!l||h[0]&41943072)&&he(e,"selectable",c[5]),(!l||h[0]&41943056)&&he(e,"nopan",c[4]),(!l||h[0]&41945088)&&he(e,"parent",c[11]);const y=h[0]&67109888;(h[0]&67175424||y)&&ce(e,"z-index",c[16]),(h[0]&67122176&&s!==(s=`translate(${c[12]}px, ${c[13]}px)`)||y)&&ce(e,"transform",s),(h[0]&68158464||y)&&ce(e,"visibility",c[20]?"visible":"hidden")},i(c){l||(n&&R(n.$$.fragment,c),l=!0)},o(c){n&&Y(n.$$.fragment,c),l=!1},d(c){c&&P(e),n&&le(n),t[50](null),a=!1,mt(u)}}}function Ph(t){let e,n,i=!t[8]&&cr(t);return{c(){i&&i.c(),e=Te()},l(o){i&&i.l(o),e=Te()},m(o,r){i&&i.m(o,r),G(o,e,r),n=!0},p(o,r){o[8]?i&&(We(),Y(i,1,1,()=>{i=null}),Be()):i?(i.p(o,r),r[0]&256&&R(i,1)):(i=cr(o),i.c(),R(i,1),i.m(e.parentNode,e))},i(o){n||(R(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&P(e),i&&i.d(o)}}}function Mh(t,e,n){let i,o,r,s,l,a,{node:u}=e,{id:f}=e,{data:d={}}=e,{selected:c=!1}=e,{draggable:h=void 0}=e,{selectable:y=void 0}=e,{connectable:m=!0}=e,{deletable:b=!0}=e,{hidden:g=!1}=e,{dragging:E=!1}=e,{resizeObserver:k=null}=e,{style:p=void 0}=e,{type:z="default"}=e,{isParent:L=!1}=e,{positionX:D}=e,{positionY:I}=e,{sourcePosition:O=void 0}=e,{targetPosition:V=void 0}=e,{zIndex:Z}=e,{measuredWidth:B=void 0}=e,{measuredHeight:X=void 0}=e,{initialWidth:v=void 0}=e,{initialHeight:N=void 0}=e,{width:w=void 0}=e,{height:S=void 0}=e,{dragHandle:M=void 0}=e,{initialized:T=!1}=e,{parentId:W=void 0}=e,{nodeClickDistance:K=void 0}=e,{class:j=""}=e;const se=Re(),{nodeTypes:H,nodeDragThreshold:$,selectNodesOnDrag:fe,handleNodeSelection:A,updateNodeInternals:ge}=se;J(t,H,U=>n(46,l=U));let me,be=null;const ke=ai(),Se=ue(m);J(t,Se,U=>n(28,a=U));let Ae,F,He;mn("svelteflow__node_id",f),mn("svelteflow__node_connectable",Se),eo(()=>{be&&(k==null||k.unobserve(be))});function Ne(U){y&&(!Q(fe)||!h||Q($)>0)&&A(f),ke("nodeclick",{node:u.internals.userNode,event:U})}const zt=(U,Dt,Ye,Qe)=>{ke("nodedrag",{event:U,targetNode:Ye,nodes:Qe})},_t=(U,Dt,Ye,Qe)=>{ke("nodedragstart",{event:U,targetNode:Ye,nodes:Qe})},bt=(U,Dt,Ye,Qe)=>{ke("nodedragstop",{event:U,targetNode:Ye,nodes:Qe})};function Xe(U){Bt[U?"unshift":"push"](()=>{me=U,n(24,me)})}const wt=U=>ke("nodemouseenter",{node:u,event:U}),ie=U=>ke("nodemouseleave",{node:u,event:U}),Ot=U=>ke("nodemousemove",{node:u,event:U}),Tt=U=>ke("nodecontextmenu",{node:u,event:U});return t.$$set=U=>{"node"in U&&n(0,u=U.node),"id"in U&&n(1,f=U.id),"data"in U&&n(2,d=U.data),"selected"in U&&n(3,c=U.selected),"draggable"in U&&n(4,h=U.draggable),"selectable"in U&&n(5,y=U.selectable),"connectable"in U&&n(6,m=U.connectable),"deletable"in U&&n(7,b=U.deletable),"hidden"in U&&n(8,g=U.hidden),"dragging"in U&&n(9,E=U.dragging),"resizeObserver"in U&&n(35,k=U.resizeObserver),"style"in U&&n(10,p=U.style),"type"in U&&n(36,z=U.type),"isParent"in U&&n(11,L=U.isParent),"positionX"in U&&n(12,D=U.positionX),"positionY"in U&&n(13,I=U.positionY),"sourcePosition"in U&&n(14,O=U.sourcePosition),"targetPosition"in U&&n(15,V=U.targetPosition),"zIndex"in U&&n(16,Z=U.zIndex),"measuredWidth"in U&&n(37,B=U.measuredWidth),"measuredHeight"in U&&n(38,X=U.measuredHeight),"initialWidth"in U&&n(39,v=U.initialWidth),"initialHeight"in U&&n(40,N=U.initialHeight),"width"in U&&n(17,w=U.width),"height"in U&&n(18,S=U.height),"dragHandle"in U&&n(19,M=U.dragHandle),"initialized"in U&&n(20,T=U.initialized),"parentId"in U&&n(21,W=U.parentId),"nodeClickDistance"in U&&n(22,K=U.nodeClickDistance),"class"in U&&n(23,j=U.class)},t.$$.update=()=>{t.$$.dirty[1]&32&&n(25,i=z||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&32768&&n(45,o=!!l[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&32768&&n(27,r=l[i]||$l),t.$$.dirty[1]&16416&&(o||console.warn("003",Sn.error003(z))),t.$$.dirty[0]&393216|t.$$.dirty[1]&960&&n(26,s=Ch({width:w,height:S,initialWidth:v,initialHeight:N,measuredWidth:B,measuredHeight:X})),t.$$.dirty[0]&64&&Se.set(!!m),t.$$.dirty[0]&50380802|t.$$.dirty[1]&14336&&((Ae&&i!==Ae||F&&O!==F||He&&V!==He)&&requestAnimationFrame(()=>ge(new Map([[f,{id:f,nodeElement:me,force:!0}]]))),n(42,Ae=i),n(43,F=O),n(44,He=V)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&1040&&k&&(me!==be||!T)&&(be&&k.unobserve(be),me&&k.observe(me),n(41,be=me))},[u,f,d,c,h,y,m,b,g,E,p,L,D,I,O,V,Z,w,S,M,T,W,K,j,me,i,s,r,a,se,H,A,ke,Se,Ne,k,z,B,X,v,N,be,Ae,F,He,o,l,zt,_t,bt,Xe,wt,ie,Ot,Tt]}class zh extends ye{constructor(e){super(),_e(this,e,Mh,Ph,ol,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:35,style:10,type:36,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:37,measuredHeight:38,initialWidth:39,initialHeight:40,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const{Map:Oh}=ea;function dr(t,e,n){const i=t.slice();return i[21]=e[n],i}function hr(t,e){let n,i,o;return i=new zh({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:ni(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=Te(),oe(i.$$.fragment),this.h()},l(r){n=Te(),ae(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){G(r,n,s),re(i,r,s),o=!0},p(r,s){e=r;const l={};s&2&&(l.node=e[21]),s&2&&(l.id=e[21].id),s&2&&(l.data=e[21].data),s&2&&(l.selected=!!e[21].selected),s&2&&(l.hidden=!!e[21].hidden),s&6&&(l.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),s&10&&(l.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),s&18&&(l.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),s&2&&(l.deletable=e[21].deletable??!0),s&2&&(l.positionX=e[21].internals.positionAbsolute.x),s&2&&(l.positionY=e[21].internals.positionAbsolute.y),s&34&&(l.isParent=e[5].has(e[21].id)),s&2&&(l.style=e[21].style),s&2&&(l.class=e[21].class),s&2&&(l.type=e[21].type??"default"),s&2&&(l.sourcePosition=e[21].sourcePosition),s&2&&(l.targetPosition=e[21].targetPosition),s&2&&(l.dragging=e[21].dragging),s&2&&(l.zIndex=e[21].internals.z??0),s&2&&(l.dragHandle=e[21].dragHandle),s&2&&(l.initialized=ni(e[21])),s&2&&(l.width=e[21].width),s&2&&(l.height=e[21].height),s&2&&(l.initialWidth=e[21].initialWidth),s&2&&(l.initialHeight=e[21].initialHeight),s&2&&(l.measuredWidth=e[21].measured.width),s&2&&(l.measuredHeight=e[21].measured.height),s&2&&(l.parentId=e[21].parentId),s&1&&(l.nodeClickDistance=e[0]),i.$set(l)},i(r){o||(R(i.$$.fragment,r),o=!0)},o(r){Y(i.$$.fragment,r),o=!1},d(r){r&&P(n),le(i,r)}}}function Th(t){let e,n=[],i=new Oh,o,r=gt(t[1]);const s=l=>l[21].id;for(let l=0;l<r.length;l+=1){let a=dr(t,r,l),u=s(a);i.set(u,n[l]=hr(u,a))}return{c(){e=Me("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=ze(l,"DIV",{class:!0});var a=q(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(P),this.h()},h(){_(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,a){G(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&2111&&(r=gt(l[1]),We(),n=fi(n,a,s,1,l,r,i,e,ui,hr,null,dr),Be())},i(l){if(!o){for(let a=0;a<r.length;a+=1)R(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)Y(n[a]);o=!1},d(l){l&&P(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Dh(t,e,n){let i,o,r,s,l,{nodeClickDistance:a=0}=e;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:d,elementsSelectable:c,updateNodeInternals:h,parentLookup:y}=Re();J(t,u,I=>n(1,i=I)),J(t,f,I=>n(2,o=I)),J(t,d,I=>n(4,s=I)),J(t,c,I=>n(3,r=I)),J(t,y,I=>n(5,l=I));const m=typeof ResizeObserver>"u"?null:new ResizeObserver(I=>{const O=new Map;I.forEach(V=>{const Z=V.target.getAttribute("data-id");O.set(Z,{id:Z,nodeElement:V.target,force:!0})}),h(O)});eo(()=>{m==null||m.disconnect()});function b(I){Ce.call(this,t,I)}function g(I){Ce.call(this,t,I)}function E(I){Ce.call(this,t,I)}function k(I){Ce.call(this,t,I)}function p(I){Ce.call(this,t,I)}function z(I){Ce.call(this,t,I)}function L(I){Ce.call(this,t,I)}function D(I){Ce.call(this,t,I)}return t.$$set=I=>{"nodeClickDistance"in I&&n(0,a=I.nodeClickDistance)},[a,i,o,r,s,l,u,f,d,c,y,m,b,g,E,k,p,z,L,D]}class Nh extends ye{constructor(e){super(),_e(this,e,Dh,Th,we,{nodeClickDistance:0})}}function gr(t){let e,n,i,o,r,s,l,a;var u=t[27];function f(d,c){return{props:{id:d[0],source:d[1],target:d[2],sourceX:d[14],sourceY:d[15],targetX:d[16],targetY:d[17],sourcePosition:d[18],targetPosition:d[19],animated:d[6],selected:d[7],label:d[10],labelStyle:d[11],data:d[3],style:d[4],interactionWidth:d[21],selectable:d[24],deletable:d[8]??!0,type:d[23],sourceHandleId:d[12],targetHandleId:d[13],markerStart:d[26],markerEnd:d[25]}}}return u&&(i=Kn(u,f(t))),{c(){e=te("svg"),n=te("g"),i&&oe(i.$$.fragment),this.h()},l(d){e=ne(d,"svg",{});var c=q(e);n=ne(c,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var h=q(n);i&&ae(i.$$.fragment,h),h.forEach(P),c.forEach(P),this.h()},h(){_(n,"class",o=De(["svelte-flow__edge",t[22]])),_(n,"data-id",t[0]),_(n,"aria-label",r=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),_(n,"role","img"),he(n,"animated",t[6]),he(n,"selected",t[7]),he(n,"selectable",t[24]),ce(e,"z-index",t[5])},m(d,c){G(d,e,c),x(e,n),i&&re(i,n,null),s=!0,l||(a=[Oe(n,"click",t[32]),Oe(n,"contextmenu",t[41]),Oe(n,"mouseenter",t[42]),Oe(n,"mouseleave",t[43])],l=!0)},p(d,c){if(c[0]&134217728&&u!==(u=d[27])){if(i){We();const h=i;Y(h.$$.fragment,1,0,()=>{le(h,1)}),Be()}u?(i=Kn(u,f(d)),oe(i.$$.fragment),R(i.$$.fragment,1),re(i,n,null)):i=null}else if(u){const h={};c[0]&1&&(h.id=d[0]),c[0]&2&&(h.source=d[1]),c[0]&4&&(h.target=d[2]),c[0]&16384&&(h.sourceX=d[14]),c[0]&32768&&(h.sourceY=d[15]),c[0]&65536&&(h.targetX=d[16]),c[0]&131072&&(h.targetY=d[17]),c[0]&262144&&(h.sourcePosition=d[18]),c[0]&524288&&(h.targetPosition=d[19]),c[0]&64&&(h.animated=d[6]),c[0]&128&&(h.selected=d[7]),c[0]&1024&&(h.label=d[10]),c[0]&2048&&(h.labelStyle=d[11]),c[0]&8&&(h.data=d[3]),c[0]&16&&(h.style=d[4]),c[0]&2097152&&(h.interactionWidth=d[21]),c[0]&16777216&&(h.selectable=d[24]),c[0]&256&&(h.deletable=d[8]??!0),c[0]&8388608&&(h.type=d[23]),c[0]&4096&&(h.sourceHandleId=d[12]),c[0]&8192&&(h.targetHandleId=d[13]),c[0]&67108864&&(h.markerStart=d[26]),c[0]&33554432&&(h.markerEnd=d[25]),i.$set(h)}(!s||c[0]&4194304&&o!==(o=De(["svelte-flow__edge",d[22]])))&&_(n,"class",o),(!s||c[0]&1)&&_(n,"data-id",d[0]),(!s||c[0]&1048582&&r!==(r=d[20]===null?void 0:d[20]?d[20]:`Edge from ${d[1]} to ${d[2]}`))&&_(n,"aria-label",r),(!s||c[0]&4194368)&&he(n,"animated",d[6]),(!s||c[0]&4194432)&&he(n,"selected",d[7]),(!s||c[0]&20971520)&&he(n,"selectable",d[24]),c[0]&32&&ce(e,"z-index",d[5])},i(d){s||(i&&R(i.$$.fragment,d),s=!0)},o(d){i&&Y(i.$$.fragment,d),s=!1},d(d){d&&P(e),i&&le(i),l=!1,mt(a)}}}function Ih(t){let e,n,i=!t[9]&&gr(t);return{c(){i&&i.c(),e=Te()},l(o){i&&i.l(o),e=Te()},m(o,r){i&&i.m(o,r),G(o,e,r),n=!0},p(o,r){o[9]?i&&(We(),Y(i,1,1,()=>{i=null}),Be()):i?(i.p(o,r),r[0]&512&&R(i,1)):(i=gr(o),i.c(),R(i,1),i.m(e.parentNode,e))},i(o){n||(R(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&P(e),i&&i.d(o)}}}function Ah(t,e,n){let i,o,r,s,l,a,u,f,d,{id:c}=e,{type:h="default"}=e,{source:y=""}=e,{target:m=""}=e,{data:b={}}=e,{style:g=void 0}=e,{zIndex:E=void 0}=e,{animated:k=!1}=e,{selected:p=!1}=e,{selectable:z=void 0}=e,{deletable:L=void 0}=e,{hidden:D=!1}=e,{label:I=void 0}=e,{labelStyle:O=void 0}=e,{markerStart:V=void 0}=e,{markerEnd:Z=void 0}=e,{sourceHandle:B=void 0}=e,{targetHandle:X=void 0}=e,{sourceX:v}=e,{sourceY:N}=e,{targetX:w}=e,{targetY:S}=e,{sourcePosition:M}=e,{targetPosition:T}=e,{ariaLabel:W=void 0}=e,{interactionWidth:K=void 0}=e,{class:j=""}=e;mn("svelteflow__edge_id",c);const{edgeLookup:se,edgeTypes:H,flowId:$,elementsSelectable:fe}=Re();J(t,se,F=>n(44,a=F)),J(t,H,F=>n(40,d=F)),J(t,$,F=>n(39,f=F)),J(t,fe,F=>n(38,u=F));const A=ai(),ge=es();function me(F){const He=a.get(c);He&&(ge(c),A("edgeclick",{event:F,edge:He}))}function be(F,He){const Ne=a.get(c);Ne&&A(He,{event:F,edge:Ne})}const ke=F=>{be(F,"edgecontextmenu")},Se=F=>{be(F,"edgemouseenter")},Ae=F=>{be(F,"edgemouseleave")};return t.$$set=F=>{"id"in F&&n(0,c=F.id),"type"in F&&n(34,h=F.type),"source"in F&&n(1,y=F.source),"target"in F&&n(2,m=F.target),"data"in F&&n(3,b=F.data),"style"in F&&n(4,g=F.style),"zIndex"in F&&n(5,E=F.zIndex),"animated"in F&&n(6,k=F.animated),"selected"in F&&n(7,p=F.selected),"selectable"in F&&n(35,z=F.selectable),"deletable"in F&&n(8,L=F.deletable),"hidden"in F&&n(9,D=F.hidden),"label"in F&&n(10,I=F.label),"labelStyle"in F&&n(11,O=F.labelStyle),"markerStart"in F&&n(36,V=F.markerStart),"markerEnd"in F&&n(37,Z=F.markerEnd),"sourceHandle"in F&&n(12,B=F.sourceHandle),"targetHandle"in F&&n(13,X=F.targetHandle),"sourceX"in F&&n(14,v=F.sourceX),"sourceY"in F&&n(15,N=F.sourceY),"targetX"in F&&n(16,w=F.targetX),"targetY"in F&&n(17,S=F.targetY),"sourcePosition"in F&&n(18,M=F.sourcePosition),"targetPosition"in F&&n(19,T=F.targetPosition),"ariaLabel"in F&&n(20,W=F.ariaLabel),"interactionWidth"in F&&n(21,K=F.interactionWidth),"class"in F&&n(22,j=F.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=h||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=d[i]||ts),t.$$.dirty[1]&288&&n(26,r=V?`url('#${ji(V,f)}')`:void 0),t.$$.dirty[1]&320&&n(25,s=Z?`url('#${ji(Z,f)}')`:void 0),t.$$.dirty[1]&144&&n(24,l=z??u)},[c,y,m,b,g,E,k,p,L,D,I,O,B,X,v,N,w,S,M,T,W,K,j,i,l,s,r,o,se,H,$,fe,me,be,h,z,V,Z,u,f,d,ke,Se,Ae]}class Hh extends ye{constructor(e){super(),_e(this,e,Ah,Ih,ol,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function Lh(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return fn(()=>(i==null||i(),o)),t.$$set=r=>{"onMount"in r&&n(0,i=r.onMount),"onDestroy"in r&&n(1,o=r.onDestroy)},[i,o]}class Rh extends ye{constructor(e){super(),_e(this,e,Lh,null,we,{onMount:0,onDestroy:1})}}function mr(t,e,n){const i=t.slice();return i[2]=e[n],i}function yr(t,e){let n,i,o;const r=[e[2]];let s={};for(let l=0;l<r.length;l+=1)s=pe(s,r[l]);return i=new Uh({props:s}),{key:t,first:null,c(){n=Te(),oe(i.$$.fragment),this.h()},l(l){n=Te(),ae(i.$$.fragment,l),this.h()},h(){this.first=n},m(l,a){G(l,n,a),re(i,l,a),o=!0},p(l,a){e=l;const u=a&1?at(r,[nn(e[2])]):{};i.$set(u)},i(l){o||(R(i.$$.fragment,l),o=!0)},o(l){Y(i.$$.fragment,l),o=!1},d(l){l&&P(n),le(i,l)}}}function Vh(t){let e,n=[],i=new Map,o,r=gt(t[0]);const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let a=mr(t,r,l),u=s(a);i.set(u,n[l]=yr(u,a))}return{c(){e=te("defs");for(let l=0;l<n.length;l+=1)n[l].c()},l(l){e=ne(l,"defs",{});var a=q(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(P)},m(l,a){G(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&1&&(r=gt(l[0]),We(),n=fi(n,a,s,1,l,r,i,e,ui,yr,null,mr),Be())},i(l){if(!o){for(let a=0;a<r.length;a+=1)R(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)Y(n[a]);o=!1},d(l){l&&P(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Wh(t,e,n){let i;const{markers:o}=Re();return J(t,o,r=>n(0,i=r)),[i,o]}class Bh extends ye{constructor(e){super(),_e(this,e,Wh,Vh,we,{})}}function Xh(t){let e;return{c(){e=te("polyline"),this.h()},l(n){e=ne(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),q(e).forEach(P),this.h()},h(){_(e,"stroke",t[6]),_(e,"stroke-linecap","round"),_(e,"stroke-linejoin","round"),_(e,"stroke-width",t[7]),_(e,"fill",t[6]),_(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){G(n,e,i)},p(n,i){i&64&&_(e,"stroke",n[6]),i&128&&_(e,"stroke-width",n[7]),i&64&&_(e,"fill",n[6])},d(n){n&&P(e)}}}function Yh(t){let e;return{c(){e=te("polyline"),this.h()},l(n){e=ne(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),q(e).forEach(P),this.h()},h(){_(e,"stroke",t[6]),_(e,"stroke-linecap","round"),_(e,"stroke-linejoin","round"),_(e,"stroke-width",t[7]),_(e,"fill","none"),_(e,"points","-5,-4 0,0 -5,4")},m(n,i){G(n,e,i)},p(n,i){i&64&&_(e,"stroke",n[6]),i&128&&_(e,"stroke-width",n[7])},d(n){n&&P(e)}}}function Fh(t){let e,n,i;function o(l,a){if(l[1]===ln.Arrow)return Yh;if(l[1]===ln.ArrowClosed)return Xh}let r=o(t),s=r&&r(t);return{c(){e=te("marker"),s&&s.c(),this.h()},l(l){e=ne(l,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=q(e);s&&s.l(a),a.forEach(P),this.h()},h(){_(e,"class","svelte-flow__arrowhead"),_(e,"id",t[0]),_(e,"markerWidth",n=`${t[2]}`),_(e,"markerHeight",i=`${t[3]}`),_(e,"viewBox","-10 -10 20 20"),_(e,"markerUnits",t[4]),_(e,"orient",t[5]),_(e,"refX","0"),_(e,"refY","0")},m(l,a){G(l,e,a),s&&s.m(e,null)},p(l,[a]){r===(r=o(l))&&s?s.p(l,a):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(e,null))),a&1&&_(e,"id",l[0]),a&4&&n!==(n=`${l[2]}`)&&_(e,"markerWidth",n),a&8&&i!==(i=`${l[3]}`)&&_(e,"markerHeight",i),a&16&&_(e,"markerUnits",l[4]),a&32&&_(e,"orient",l[5])},i:Pe,o:Pe,d(l){l&&P(e),s&&s.d()}}}function Kh(t,e,n){let{id:i}=e,{type:o}=e,{width:r=12.5}=e,{height:s=12.5}=e,{markerUnits:l="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=d=>{"id"in d&&n(0,i=d.id),"type"in d&&n(1,o=d.type),"width"in d&&n(2,r=d.width),"height"in d&&n(3,s=d.height),"markerUnits"in d&&n(4,l=d.markerUnits),"orient"in d&&n(5,a=d.orient),"color"in d&&n(6,u=d.color),"strokeWidth"in d&&n(7,f=d.strokeWidth)},[i,o,r,s,l,a,u,f]}class Uh extends ye{constructor(e){super(),_e(this,e,Kh,Fh,we,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function _r(t,e,n){const i=t.slice();return i[14]=e[n],i}function br(t,e){let n,i,o;return i=new Hh({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=Te(),oe(i.$$.fragment),this.h()},l(r){n=Te(),ae(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){G(r,n,s),re(i,r,s),o=!0},p(r,s){e=r;const l={};s&1&&(l.id=e[14].id),s&1&&(l.source=e[14].source),s&1&&(l.target=e[14].target),s&1&&(l.data=e[14].data),s&1&&(l.style=e[14].style),s&1&&(l.animated=e[14].animated),s&1&&(l.selected=e[14].selected),s&3&&(l.selectable=e[14].selectable??e[1]),s&1&&(l.deletable=e[14].deletable),s&1&&(l.hidden=e[14].hidden),s&1&&(l.label=e[14].label),s&1&&(l.labelStyle=e[14].labelStyle),s&1&&(l.markerStart=e[14].markerStart),s&1&&(l.markerEnd=e[14].markerEnd),s&1&&(l.sourceHandle=e[14].sourceHandle),s&1&&(l.targetHandle=e[14].targetHandle),s&1&&(l.sourceX=e[14].sourceX),s&1&&(l.sourceY=e[14].sourceY),s&1&&(l.targetX=e[14].targetX),s&1&&(l.targetY=e[14].targetY),s&1&&(l.sourcePosition=e[14].sourcePosition),s&1&&(l.targetPosition=e[14].targetPosition),s&1&&(l.ariaLabel=e[14].ariaLabel),s&1&&(l.interactionWidth=e[14].interactionWidth),s&1&&(l.class=e[14].class),s&1&&(l.type=e[14].type||"default"),s&1&&(l.zIndex=e[14].zIndex),i.$set(l)},i(r){o||(R(i.$$.fragment,r),o=!0)},o(r){Y(i.$$.fragment,r),o=!1},d(r){r&&P(n),le(i,r)}}}function wr(t){let e,n;return e=new Rh({props:{onMount:t[11],onDestroy:t[12]}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.onMount=i[11]),o&4&&(r.onDestroy=i[12]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function qh(t){let e,n,i,o,r=[],s=new Map,l,a;i=new Bh({});let u=gt(t[0]);const f=c=>c[14].id;for(let c=0;c<u.length;c+=1){let h=_r(t,u,c),y=f(h);s.set(y,r[c]=br(y,h))}let d=t[0].length>0&&wr(t);return{c(){e=Me("div"),n=te("svg"),oe(i.$$.fragment),o=ve();for(let c=0;c<r.length;c+=1)r[c].c();l=ve(),d&&d.c(),this.h()},l(c){e=ze(c,"DIV",{class:!0});var h=q(e);n=ne(h,"svg",{class:!0});var y=q(n);ae(i.$$.fragment,y),y.forEach(P),o=Ee(h);for(let m=0;m<r.length;m+=1)r[m].l(h);l=Ee(h),d&&d.l(h),h.forEach(P),this.h()},h(){_(n,"class","svelte-flow__marker"),_(e,"class","svelte-flow__edges")},m(c,h){G(c,e,h),x(e,n),re(i,n,null),x(e,o);for(let y=0;y<r.length;y+=1)r[y]&&r[y].m(e,null);x(e,l),d&&d.m(e,null),a=!0},p(c,[h]){h&3&&(u=gt(c[0]),We(),r=fi(r,h,f,1,c,u,s,e,ui,br,l,_r),Be()),c[0].length>0?d?(d.p(c,h),h&1&&R(d,1)):(d=wr(c),d.c(),R(d,1),d.m(e,null)):d&&(We(),Y(d,1,1,()=>{d=null}),Be())},i(c){if(!a){R(i.$$.fragment,c);for(let h=0;h<u.length;h+=1)R(r[h]);R(d),a=!0}},o(c){Y(i.$$.fragment,c);for(let h=0;h<r.length;h+=1)Y(r[h]);Y(d),a=!1},d(c){c&&P(e),le(i);for(let h=0;h<r.length;h+=1)r[h].d();d&&d.d()}}}function Zh(t,e,n){let i,o,r,{defaultEdgeOptions:s}=e;const{visibleEdges:l,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=Re();J(t,l,g=>n(0,i=g)),J(t,a,g=>n(2,r=g)),J(t,f,g=>n(1,o=g)),fn(()=>{s&&u(s)});function d(g){Ce.call(this,t,g)}function c(g){Ce.call(this,t,g)}function h(g){Ce.call(this,t,g)}function y(g){Ce.call(this,t,g)}const m=()=>{Fn(a,r=!0,r)},b=()=>{Fn(a,r=!1,r)};return t.$$set=g=>{"defaultEdgeOptions"in g&&n(6,s=g.defaultEdgeOptions)},[i,o,r,l,a,f,s,d,c,h,y,m,b]}class Gh extends ye{constructor(e){super(),_e(this,e,Zh,qh,we,{defaultEdgeOptions:6})}}function kr(t){let e;return{c(){e=Me("div"),this.h()},l(n){e=ze(n,"DIV",{class:!0}),q(e).forEach(P),this.h()},h(){_(e,"class","svelte-flow__selection svelte-1iugwpu"),ce(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),ce(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),ce(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){G(n,e,i)},p(n,i){i&4&&ce(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&ce(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&ce(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&P(e)}}}function Jh(t){let e,n=t[4]&&kr(t);return{c(){n&&n.c(),e=Te()},l(i){n&&n.l(i),e=Te()},m(i,o){n&&n.m(i,o),G(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=kr(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Pe,o:Pe,d(i){i&&P(e),n&&n.d(i)}}}function Qh(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:r=0}=e,{height:s=0}=e,{isVisible:l=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,r=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,l=a.isVisible)},[i,o,r,s,l]}class ls extends ye{constructor(e){super(),_e(this,e,Qh,Jh,we,{x:0,y:1,width:2,height:3,isVisible:4})}}function jh(t){var i,o,r,s;let e,n;return e=new ls({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(r=t[0])==null?void 0:r.x,y:(s=t[0])==null?void 0:s.y}}),{c(){oe(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,a){re(e,l,a),n=!0},p(l,[a]){var f,d,c,h;const u={};a&3&&(u.isVisible=!!(l[0]&&l[1]==="user")),a&1&&(u.width=(f=l[0])==null?void 0:f.width),a&1&&(u.height=(d=l[0])==null?void 0:d.height),a&1&&(u.x=(c=l[0])==null?void 0:c.x),a&1&&(u.y=(h=l[0])==null?void 0:h.y),e.$set(u)},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){Y(e.$$.fragment,l),n=!1},d(l){le(e,l)}}}function xh(t,e,n){let i,o;const{selectionRect:r,selectionRectMode:s}=Re();return J(t,r,l=>n(0,i=l)),J(t,s,l=>n(1,o=l)),[i,o,r,s]}class $h extends ye{constructor(e){super(),_e(this,e,xh,jh,we,{})}}function vr(t){let e,n,i,o,r;return n=new ls({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=Me("div"),oe(n.$$.fragment),this.h()},l(s){e=ze(s,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var l=q(e);ae(n.$$.fragment,l),l.forEach(P),this.h()},h(){_(e,"class","selection-wrapper nopan svelte-5pxri"),ce(e,"width",t[1].width+"px"),ce(e,"height",t[1].height+"px"),ce(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),_(e,"role","button"),_(e,"tabindex","-1")},m(s,l){G(s,e,l),re(n,e,null),i=!0,o||(r=[Ue(rs.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),Oe(e,"contextmenu",t[7]),Oe(e,"click",t[8]),Oe(e,"keyup",tg)],o=!0)},p(s,l){(!i||l&2)&&ce(e,"width",s[1].width+"px"),(!i||l&2)&&ce(e,"height",s[1].height+"px"),(!i||l&2)&&ce(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(R(n.$$.fragment,s),i=!0)},o(s){Y(n.$$.fragment,s),i=!1},d(s){s&&P(e),le(n),o=!1,mt(r)}}}function eg(t){let e=t[0]==="nodes"&&t[1]&&Vt(t[1].x)&&Vt(t[1].y),n,i,o=e&&vr(t);return{c(){o&&o.c(),n=Te()},l(r){o&&o.l(r),n=Te()},m(r,s){o&&o.m(r,s),G(r,n,s),i=!0},p(r,[s]){s&3&&(e=r[0]==="nodes"&&r[1]&&Vt(r[1].x)&&Vt(r[1].y)),e?o?(o.p(r,s),s&3&&R(o,1)):(o=vr(r),o.c(),R(o,1),o.m(n.parentNode,n)):o&&(We(),Y(o,1,1,()=>{o=null}),Be())},i(r){i||(R(o),i=!0)},o(r){Y(o),i=!1},d(r){r&&P(n),o&&o.d(r)}}}const tg=()=>{};function ng(t,e,n){let i,o,r;const s=Re(),{selectionRectMode:l,nodes:a,nodeLookup:u}=s;J(t,l,g=>n(0,r=g)),J(t,a,g=>n(9,i=g)),J(t,u,g=>n(10,o=g));const f=ai();let d=null;function c(g){const E=i.filter(k=>k.selected);f("selectioncontextmenu",{nodes:E,event:g})}function h(g){const E=i.filter(k=>k.selected);f("selectionclick",{nodes:E,event:g})}const y=(g,E,k,p)=>{f("nodedrag",{event:g,targetNode:null,nodes:p})},m=(g,E,k,p)=>{f("nodedragstart",{event:g,targetNode:null,nodes:p})},b=(g,E,k,p)=>{f("nodedragstop",{event:g,targetNode:null,nodes:p})};return t.$$.update=()=>{t.$$.dirty&1537&&r==="nodes"&&n(1,d=Pn(o,{filter:g=>!!g.selected}))},[r,d,s,l,a,u,f,c,h,i,o,y,m,b]}class ig extends ye{constructor(e){super(),_e(this,e,ng,eg,we,{})}}function ft(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function r(s){const l=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of l){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:d,key:c,callback:h,preventDefault:y,enabled:m}=f;if(m){if(d.length&&!(Array.isArray(d)?d:[d]).map(E=>typeof E=="string"?[E]:E).some(E=>E.every(k=>a[k])))continue;if(s.key===c){y&&s.preventDefault();const b={node:t,trigger:f,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:b})),h==null||h(b)}}}}return n&&t.addEventListener(o,r),{update:s=>{const{enabled:l=!0,type:a="keydown"}=s;n&&(!l||o!==a)?t.removeEventListener(o,r):!n&&l&&t.addEventListener(a,r),n=l,o=a,i=s.trigger},destroy:()=>{t.removeEventListener(o,r)}}}function og(t){let e,n,i,o,r,s,l,a,u,f,d,c;return{c:Pe,l:Pe,m(h,y){d||(c=[Ue(e=ft.call(null,window,{trigger:Le(t[0],t[11]),type:"keydown"})),Ue(n=ft.call(null,window,{trigger:Le(t[0],t[12]),type:"keyup"})),Ue(i=ft.call(null,window,{trigger:Le(t[1],t[13]),type:"keydown"})),Ue(o=ft.call(null,window,{trigger:Le(t[1],t[14]),type:"keyup"})),Ue(r=ft.call(null,window,{trigger:Le(t[2],t[15]),type:"keydown"})),Ue(s=ft.call(null,window,{trigger:Le(t[2],t[16]),type:"keyup"})),Ue(l=ft.call(null,window,{trigger:Le(t[3],t[17]),type:"keydown"})),Ue(a=ft.call(null,window,{trigger:Le(t[3],t[18]),type:"keyup"})),Ue(u=ft.call(null,window,{trigger:Le(t[4],t[19]),type:"keydown"})),Ue(f=ft.call(null,window,{trigger:Le(t[4],t[20]),type:"keyup"})),Oe(window,"blur",t[10]),Oe(window,"contextmenu",t[10])],d=!0)},p(h,[y]){e&&Ve(e.update)&&y&1&&e.update.call(null,{trigger:Le(h[0],h[11]),type:"keydown"}),n&&Ve(n.update)&&y&1&&n.update.call(null,{trigger:Le(h[0],h[12]),type:"keyup"}),i&&Ve(i.update)&&y&2&&i.update.call(null,{trigger:Le(h[1],h[13]),type:"keydown"}),o&&Ve(o.update)&&y&2&&o.update.call(null,{trigger:Le(h[1],h[14]),type:"keyup"}),r&&Ve(r.update)&&y&4&&r.update.call(null,{trigger:Le(h[2],h[15]),type:"keydown"}),s&&Ve(s.update)&&y&4&&s.update.call(null,{trigger:Le(h[2],h[16]),type:"keyup"}),l&&Ve(l.update)&&y&8&&l.update.call(null,{trigger:Le(h[3],h[17]),type:"keydown"}),a&&Ve(a.update)&&y&8&&a.update.call(null,{trigger:Le(h[3],h[18]),type:"keyup"}),u&&Ve(u.update)&&y&16&&u.update.call(null,{trigger:Le(h[4],h[19]),type:"keydown"}),f&&Ve(f.update)&&y&16&&f.update.call(null,{trigger:Le(h[4],h[20]),type:"keyup"})},i:Pe,o:Pe,d(h){d=!1,mt(c)}}}function ss(t){return t!==null&&typeof t=="object"}function rg(t){return ss(t)?t.modifier||[]:[]}function lg(t){return t==null?"":ss(t)?t.key:t}function Le(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=lg(i);return{key:o,modifier:rg(i),enabled:o!==null,callback:e}})}function sg(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=ti()?"Meta":"Control"}=e,{deleteKey:r="Backspace"}=e,{panActivationKey:s=" "}=e,{zoomActivationKey:l=ti()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:d,zoomActivationKeyPressed:c,selectionRect:h}=Re();function y(){h.set(null),a.set(!1),u.set(!1),f.set(!1),d.set(!1),c.set(!1)}const m=()=>a.set(!0),b=()=>a.set(!1),g=()=>u.set(!0),E=()=>u.set(!1),k=O=>{!(O.originalEvent.ctrlKey||O.originalEvent.metaKey||O.originalEvent.shiftKey)&&!Yc(O.originalEvent)&&f.set(!0)},p=()=>f.set(!1),z=()=>d.set(!0),L=()=>d.set(!1),D=()=>c.set(!0),I=()=>c.set(!1);return t.$$set=O=>{"selectionKey"in O&&n(0,i=O.selectionKey),"multiSelectionKey"in O&&n(1,o=O.multiSelectionKey),"deleteKey"in O&&n(2,r=O.deleteKey),"panActivationKey"in O&&n(3,s=O.panActivationKey),"zoomActivationKey"in O&&n(4,l=O.zoomActivationKey)},[i,o,r,s,l,a,u,f,d,c,y,m,b,g,E,k,p,z,L,D,I]}class ag extends ye{constructor(e){super(),_e(this,e,sg,og,we,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const ug=t=>({}),Er=t=>({});function pr(t){let e,n,i,o;const r=t[13].connectionLine,s=qe(r,t,t[12],Er);let l=!t[2]&&Sr(t);return{c(){e=te("svg"),n=te("g"),s&&s.c(),l&&l.c(),this.h()},l(a){e=ne(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=q(e);n=ne(u,"g",{class:!0});var f=q(n);s&&s.l(f),l&&l.l(f),f.forEach(P),u.forEach(P),this.h()},h(){_(n,"class",i=De(["svelte-flow__connection",Jo(t[3].isValid)])),_(e,"width",t[5]),_(e,"height",t[6]),_(e,"class","svelte-flow__connectionline"),_(e,"style",t[0])},m(a,u){G(a,e,u),x(e,n),s&&s.m(n,null),l&&l.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&4096)&&Ze(s,r,a,a[12],o?Je(r,a[12],u,ug):Ge(a[12]),Er),a[2]?l&&(l.d(1),l=null):l?l.p(a,u):(l=Sr(a),l.c(),l.m(n,null)),(!o||u&8&&i!==(i=De(["svelte-flow__connection",Jo(a[3].isValid)])))&&_(n,"class",i),(!o||u&32)&&_(e,"width",a[5]),(!o||u&64)&&_(e,"height",a[6]),(!o||u&1)&&_(e,"style",a[0])},i(a){o||(R(s,a),o=!0)},o(a){Y(s,a),o=!1},d(a){a&&P(e),s&&s.d(a),l&&l.d()}}}function Sr(t){let e;return{c(){e=te("path"),this.h()},l(n){e=ne(n,"path",{d:!0,style:!0,fill:!0,class:!0}),q(e).forEach(P),this.h()},h(){_(e,"d",t[4]),_(e,"style",t[1]),_(e,"fill","none"),_(e,"class","svelte-flow__connection-path")},m(n,i){G(n,e,i)},p(n,i){i&16&&_(e,"d",n[4]),i&2&&_(e,"style",n[1])},d(n){n&&P(e)}}}function fg(t){let e,n,i=t[3].inProgress&&pr(t);return{c(){i&&i.c(),e=Te()},l(o){i&&i.l(o),e=Te()},m(o,r){i&&i.m(o,r),G(o,e,r),n=!0},p(o,[r]){o[3].inProgress?i?(i.p(o,r),r&8&&R(i,1)):(i=pr(o),i.c(),R(i,1),i.m(e.parentNode,e)):i&&(We(),Y(i,1,1,()=>{i=null}),Be())},i(o){n||(R(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&P(e),i&&i.d(o)}}}function cg(t,e,n){let i,o,r,s,{$$slots:l={},$$scope:a}=e,{containerStyle:u=""}=e,{style:f=""}=e,{isCustomComponent:d=!1}=e;const{width:c,height:h,connection:y,connectionLineType:m}=Re();J(t,c,g=>n(5,r=g)),J(t,h,g=>n(6,s=g)),J(t,y,g=>n(3,o=g)),J(t,m,g=>n(11,i=g));let b=null;return t.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,d=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!d){const{from:g,to:E,fromPosition:k,toPosition:p}=o,z={sourceX:g.x,sourceY:g.y,sourcePosition:k,targetX:E.x,targetY:E.y,targetPosition:p};switch(i){case tn.Bezier:n(4,[b]=Bl(z),b);break;case tn.Step:n(4,[b]=ii({...z,borderRadius:0}),b);break;case tn.SmoothStep:n(4,[b]=ii(z),b);break;default:n(4,[b]=Yl(z),b)}}},[u,f,d,o,b,r,s,c,h,y,m,i,a,l]}class dg extends ye{constructor(e){super(),_e(this,e,cg,fg,we,{containerStyle:0,style:1,isCustomComponent:2})}}function hg(t){let e,n,i;const o=t[8].default,r=qe(o,t,t[7],null);let s=[{class:n=De(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],l={};for(let a=0;a<s.length;a+=1)l=pe(l,s[a]);return{c(){e=Me("div"),r&&r.c(),this.h()},l(a){e=ze(a,"DIV",{class:!0,style:!0});var u=q(e);r&&r.l(u),u.forEach(P),this.h()},h(){ht(e,l),ce(e,"pointer-events",t[3]?"none":"")},m(a,u){G(a,e,u),r&&r.m(e,null),i=!0},p(a,[u]){r&&r.p&&(!i||u&128)&&Ze(r,o,a,a[7],i?Je(o,a[7],u,null):Ge(a[7]),null),ht(e,l=at(s,[(!i||u&6&&n!==(n=De(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),ce(e,"pointer-events",a[3]?"none":"")},i(a){i||(R(r,a),i=!0)},o(a){Y(r,a),i=!1},d(a){a&&P(e),r&&r.d(a)}}}function gg(t,e,n){let i;const o=["position","style","class"];let r=Ie(e,o),s,{$$slots:l={},$$scope:a}=e,{position:u="top-right"}=e,{style:f=void 0}=e,{class:d=void 0}=e;const{selectionRectMode:c}=Re();return J(t,c,h=>n(3,s=h)),t.$$set=h=>{e=pe(pe({},e),nt(h)),n(5,r=Ie(e,o)),"position"in h&&n(6,u=h.position),"style"in h&&n(0,f=h.style),"class"in h&&n(1,d=h.class),"$$scope"in h&&n(7,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,d,i,s,c,r,u,a,l]}class _o extends ye{constructor(e){super(),_e(this,e,gg,hg,we,{position:6,style:0,class:1})}}function Cr(t){let e,n;return e=new _o({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[mg]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function mg(t){let e,n="Svelte Flow";return{c(){e=Me("a"),e.textContent=n,this.h()},l(i){e=ze(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),to(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){_(e,"href","https://svelteflow.dev"),_(e,"target","_blank"),_(e,"rel","noopener noreferrer"),_(e,"aria-label","Svelte Flow attribution")},m(i,o){G(i,e,o)},p:Pe,d(i){i&&P(e)}}}function yg(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&Cr(t);return{c(){i&&i.c(),e=Te()},l(r){i&&i.l(r),e=Te()},m(r,s){i&&i.m(r,s),G(r,e,s),n=!0},p(r,[s]){var l;(l=r[0])!=null&&l.hideAttribution?i&&(We(),Y(i,1,1,()=>{i=null}),Be()):i?(i.p(r,s),s&1&&R(i,1)):(i=Cr(r),i.c(),R(i,1),i.m(e.parentNode,e))},i(r){n||(R(i),n=!0)},o(r){Y(i),n=!1},d(r){r&&P(e),i&&i.d(r)}}}function _g(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class bg extends ye{constructor(e){super(),_e(this,e,_g,yg,we,{proOptions:0,position:1})}}function Pr(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r,paneClickDistance:s}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),r!==void 0&&t.setTranslateExtent(r),s!==void 0&&t.setPaneClickDistance(s)}const wg=t=>Object.keys(t);function kg(t,e){wg(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function vg(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Eg(t="light"){return ot("light",n=>{if(t!=="system"){n(t);return}const i=vg(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const pg=t=>({}),Mr=t=>({slot:"connectionLine"});function Sg(t){let e;const n=t[75].connectionLine,i=qe(n,t,t[99],Mr);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[3]&64)&&Ze(i,n,o,o[99],e?Je(n,o[99],r,pg):Ge(o[99]),Mr)},i(o){e||(R(i,o),e=!0)},o(o){Y(i,o),e=!1},d(o){i&&i.d(o)}}}function Cg(t){let e,n,i,o,r,s,l,a,u,f,d,c;return e=new Gh({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[78]),e.$on("edgecontextmenu",t[79]),e.$on("edgemouseenter",t[80]),e.$on("edgemouseleave",t[81]),i=new dg({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[Sg]},$$scope:{ctx:t}}}),u=new Nh({props:{nodeClickDistance:t[23]}}),u.$on("nodeclick",t[82]),u.$on("nodemouseenter",t[83]),u.$on("nodemousemove",t[84]),u.$on("nodemouseleave",t[85]),u.$on("nodedragstart",t[86]),u.$on("nodedrag",t[87]),u.$on("nodedragstop",t[88]),u.$on("nodecontextmenu",t[89]),d=new ig({}),d.$on("selectionclick",t[90]),d.$on("selectioncontextmenu",t[91]),d.$on("nodedragstart",t[92]),d.$on("nodedrag",t[93]),d.$on("nodedragstop",t[94]),{c(){oe(e.$$.fragment),n=ve(),oe(i.$$.fragment),o=ve(),r=Me("div"),s=ve(),l=Me("div"),a=ve(),oe(u.$$.fragment),f=ve(),oe(d.$$.fragment),this.h()},l(h){ae(e.$$.fragment,h),n=Ee(h),ae(i.$$.fragment,h),o=Ee(h),r=ze(h,"DIV",{class:!0}),q(r).forEach(P),s=Ee(h),l=ze(h,"DIV",{class:!0}),q(l).forEach(P),a=Ee(h),ae(u.$$.fragment,h),f=Ee(h),ae(d.$$.fragment,h),this.h()},h(){_(r,"class","svelte-flow__edgelabel-renderer"),_(l,"class","svelte-flow__viewport-portal")},m(h,y){re(e,h,y),G(h,n,y),re(i,h,y),G(h,o,y),G(h,r,y),G(h,s,y),G(h,l,y),G(h,a,y),re(u,h,y),G(h,f,y),re(d,h,y),c=!0},p(h,y){const m={};y[0]&2097152&&(m.defaultEdgeOptions=h[21]),e.$set(m);const b={};y[0]&128&&(b.containerStyle=h[7]),y[0]&64&&(b.style=h[6]),y[1]&8&&(b.isCustomComponent=h[34].connectionLine),y[3]&64&&(b.$$scope={dirty:y,ctx:h}),i.$set(b);const g={};y[0]&8388608&&(g.nodeClickDistance=h[23]),u.$set(g)},i(h){c||(R(e.$$.fragment,h),R(i.$$.fragment,h),R(u.$$.fragment,h),R(d.$$.fragment,h),c=!0)},o(h){Y(e.$$.fragment,h),Y(i.$$.fragment,h),Y(u.$$.fragment,h),Y(d.$$.fragment,h),c=!1},d(h){h&&(P(n),P(o),P(r),P(s),P(l),P(a),P(f)),le(e,h),le(i,h),le(u,h),le(d,h)}}}function Pg(t){let e,n,i,o;return e=new Sh({props:{$$slots:{default:[Cg]},$$scope:{ctx:t}}}),i=new $h({}),{c(){oe(e.$$.fragment),n=ve(),oe(i.$$.fragment)},l(r){ae(e.$$.fragment,r),n=Ee(r),ae(i.$$.fragment,r)},m(r,s){re(e,r,s),G(r,n,s),re(i,r,s),o=!0},p(r,s){const l={};s[0]&10485952|s[1]&8|s[3]&64&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){o||(R(e.$$.fragment,r),R(i.$$.fragment,r),o=!0)},o(r){Y(e.$$.fragment,r),Y(i.$$.fragment,r),o=!1},d(r){r&&P(n),le(e,r),le(i,r)}}}function Mg(t){let e,n;return e=new vh({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[Pg]},$$scope:{ctx:t}}}),e.$on("paneclick",t[95]),e.$on("panecontextmenu",t[96]),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function zg(t){let e,n,i,o,r,s,l,a,u,f,d,c;n=new ag({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new bh({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?dt.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[Mg]},$$scope:{ctx:t}}}),s=new bg({props:{proOptions:t[20],position:t[19]}});const h=t[75].default,y=qe(h,t,t[99],null);let m=[{style:t[24]},{class:a=De(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],b={};for(let g=0;g<m.length;g+=1)b=pe(b,m[g]);return{c(){e=Me("div"),oe(n.$$.fragment),i=ve(),oe(o.$$.fragment),r=ve(),oe(s.$$.fragment),l=ve(),y&&y.c(),this.h()},l(g){e=ze(g,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var E=q(e);ae(n.$$.fragment,E),i=Ee(E),ae(o.$$.fragment,E),r=Ee(E),ae(s.$$.fragment,E),l=Ee(E),y&&y.l(E),E.forEach(P),this.h()},h(){ht(e,b),rl(()=>t[98].call(e)),he(e,"svelte-12wlba6",!0)},m(g,E){G(g,e,E),re(n,e,null),x(e,i),re(o,e,null),x(e,r),re(s,e,null),x(e,l),y&&y.m(e,null),t[97](e),u=Zs(e,t[98].bind(e)),f=!0,d||(c=[Oe(e,"dragover",t[76]),Oe(e,"drop",t[77])],d=!0)},p(g,E){const k={};E[0]&2&&(k.selectionKey=g[1]),E[0]&32&&(k.deleteKey=g[5]),E[0]&4&&(k.panActivationKey=g[2]),E[0]&8&&(k.multiSelectionKey=g[3]),E[0]&16&&(k.zoomActivationKey=g[4]),n.$set(k);const p={};E[0]&256&&(p.onMoveStart=g[8]),E[0]&512&&(p.onMove=g[9]),E[0]&1024&&(p.onMoveEnd=g[10]),E[0]&2048&&(p.panOnScrollMode=g[11]===void 0?dt.Free:g[11]),E[0]&4096&&(p.preventScrolling=g[12]===void 0?!0:g[12]),E[0]&8192&&(p.zoomOnScroll=g[13]===void 0?!0:g[13]),E[0]&16384&&(p.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),E[0]&32768&&(p.zoomOnPinch=g[15]===void 0?!0:g[15]),E[0]&65536&&(p.panOnScroll=g[16]===void 0?!1:g[16]),E[0]&131072&&(p.panOnDrag=g[17]===void 0?!0:g[17]),E[0]&4194304&&(p.paneClickDistance=g[22]===void 0?0:g[22]),E[0]&10879168|E[1]&8|E[3]&64&&(p.$$scope={dirty:E,ctx:g}),o.$set(p);const z={};E[0]&1048576&&(z.proOptions=g[20]),E[0]&524288&&(z.position=g[19]),s.$set(z),y&&y.p&&(!f||E[3]&64)&&Ze(y,h,g,g[99],f?Je(h,g[99],E,null):Ge(g[99]),null),ht(e,b=at(m,[(!f||E[0]&16777216)&&{style:g[24]},(!f||E[0]&1107296256&&a!==(a=De(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},E[1]&4&&g[33],{role:"application"}])),he(e,"svelte-12wlba6",!0)},i(g){f||(R(n.$$.fragment,g),R(o.$$.fragment,g),R(s.$$.fragment,g),R(y,g),f=!0)},o(g){Y(n.$$.fragment,g),Y(o.$$.fragment,g),Y(s.$$.fragment,g),Y(y,g),f=!1},d(g){g&&P(e),le(n),le(o),le(s),y&&y.d(g),t[97](null),u(),d=!1,mt(c)}}}function Og(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let r=Ie(e,o),s,l,a=Pe,u=()=>(a(),a=Co(I,C=>n(100,l=C)),I),f,d=Pe,c=()=>(d(),d=Co(i,C=>n(30,f=C)),i);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>d());let{$$slots:h={},$$scope:y}=e;const m=Gs(h);let{id:b="1"}=e,{nodes:g}=e,{edges:E}=e,{fitView:k=void 0}=e,{fitViewOptions:p=void 0}=e,{minZoom:z=void 0}=e,{maxZoom:L=void 0}=e,{initialViewport:D=void 0}=e,{viewport:I=void 0}=e;u();let{nodeTypes:O=void 0}=e,{edgeTypes:V=void 0}=e,{selectionKey:Z=void 0}=e,{selectionMode:B=void 0}=e,{panActivationKey:X=void 0}=e,{multiSelectionKey:v=void 0}=e,{zoomActivationKey:N=void 0}=e,{nodesDraggable:w=void 0}=e,{nodesConnectable:S=void 0}=e,{nodeDragThreshold:M=void 0}=e,{elementsSelectable:T=void 0}=e,{snapGrid:W=void 0}=e,{deleteKey:K=void 0}=e,{connectionRadius:j=void 0}=e,{connectionLineType:se=void 0}=e,{connectionMode:H=Yt.Strict}=e,{connectionLineStyle:$=""}=e,{connectionLineContainerStyle:fe=""}=e,{onMoveStart:A=void 0}=e,{onMove:ge=void 0}=e,{onMoveEnd:me=void 0}=e,{isValidConnection:be=void 0}=e,{translateExtent:ke=void 0}=e,{nodeExtent:Se=void 0}=e,{onlyRenderVisibleElements:Ae=void 0}=e,{panOnScrollMode:F=dt.Free}=e,{preventScrolling:He=!0}=e,{zoomOnScroll:Ne=!0}=e,{zoomOnDoubleClick:zt=!0}=e,{zoomOnPinch:_t=!0}=e,{panOnScroll:bt=!1}=e,{panOnDrag:Xe=!0}=e,{selectionOnDrag:wt=void 0}=e,{autoPanOnConnect:ie=!0}=e,{autoPanOnNodeDrag:Ot=!0}=e,{onerror:Tt=void 0}=e,{ondelete:U=void 0}=e,{onedgecreate:Dt=void 0}=e,{attributionPosition:Ye=void 0}=e,{proOptions:Qe=void 0}=e,{defaultEdgeOptions:ee=void 0}=e,{width:kt=void 0}=e,{height:je=void 0}=e,{colorMode:Fe="light"}=e,{onconnect:Ut=void 0}=e,{onconnectstart:qt=void 0}=e,{onconnectend:Zt=void 0}=e,{onbeforedelete:Gt=void 0}=e,{oninit:Nt=void 0}=e,{nodeOrigin:Lt=void 0}=e,{paneClickDistance:Mn=0}=e,{nodeClickDistance:vo=0}=e,{defaultMarkerColor:Ci="#b1b1b7"}=e,{style:Eo=void 0}=e,{class:po=void 0}=e,zn,Jt,Qt;const ps=l||D,Ke=Js(Ei)?Re():gh({nodes:Q(g),edges:Q(E),width:kt,height:je,fitView:k,nodeOrigin:Lt,nodeExtent:Se});fn(()=>(Ke.width.set(Jt),Ke.height.set(Qt),Ke.domNode.set(zn),Ke.syncNodeStores(g),Ke.syncEdgeStores(E),Ke.syncViewport(I),k!==void 0&&Ke.fitViewOnInit.set(k),p&&Ke.fitViewOptions.set(p),Pr(Ke,{nodeTypes:O,edgeTypes:V,minZoom:z,maxZoom:L,translateExtent:ke,paneClickDistance:Mn}),()=>{Ke.reset()}));const{initialized:So}=Ke;J(t,So,C=>n(74,s=C));let Pi=!1;function Ss(C){Ce.call(this,t,C)}function Cs(C){Ce.call(this,t,C)}function Ps(C){Ce.call(this,t,C)}function Ms(C){Ce.call(this,t,C)}function zs(C){Ce.call(this,t,C)}function Os(C){Ce.call(this,t,C)}function Ts(C){Ce.call(this,t,C)}function Ds(C){Ce.call(this,t,C)}function Ns(C){Ce.call(this,t,C)}function Is(C){Ce.call(this,t,C)}function As(C){Ce.call(this,t,C)}function Hs(C){Ce.call(this,t,C)}function Ls(C){Ce.call(this,t,C)}function Rs(C){Ce.call(this,t,C)}function Vs(C){Ce.call(this,t,C)}function Ws(C){Ce.call(this,t,C)}function Bs(C){Ce.call(this,t,C)}function Xs(C){Ce.call(this,t,C)}function Ys(C){Ce.call(this,t,C)}function Fs(C){Ce.call(this,t,C)}function Ks(C){Ce.call(this,t,C)}function Us(C){Bt[C?"unshift":"push"](()=>{zn=C,n(28,zn)})}function qs(){Jt=this.clientWidth,Qt=this.clientHeight,n(26,Jt),n(27,Qt)}return t.$$set=C=>{e=pe(pe({},e),nt(C)),n(33,r=Ie(e,o)),"id"in C&&n(35,b=C.id),"nodes"in C&&n(36,g=C.nodes),"edges"in C&&n(37,E=C.edges),"fitView"in C&&n(38,k=C.fitView),"fitViewOptions"in C&&n(39,p=C.fitViewOptions),"minZoom"in C&&n(40,z=C.minZoom),"maxZoom"in C&&n(41,L=C.maxZoom),"initialViewport"in C&&n(42,D=C.initialViewport),"viewport"in C&&u(n(0,I=C.viewport)),"nodeTypes"in C&&n(43,O=C.nodeTypes),"edgeTypes"in C&&n(44,V=C.edgeTypes),"selectionKey"in C&&n(1,Z=C.selectionKey),"selectionMode"in C&&n(45,B=C.selectionMode),"panActivationKey"in C&&n(2,X=C.panActivationKey),"multiSelectionKey"in C&&n(3,v=C.multiSelectionKey),"zoomActivationKey"in C&&n(4,N=C.zoomActivationKey),"nodesDraggable"in C&&n(46,w=C.nodesDraggable),"nodesConnectable"in C&&n(47,S=C.nodesConnectable),"nodeDragThreshold"in C&&n(48,M=C.nodeDragThreshold),"elementsSelectable"in C&&n(49,T=C.elementsSelectable),"snapGrid"in C&&n(50,W=C.snapGrid),"deleteKey"in C&&n(5,K=C.deleteKey),"connectionRadius"in C&&n(51,j=C.connectionRadius),"connectionLineType"in C&&n(52,se=C.connectionLineType),"connectionMode"in C&&n(53,H=C.connectionMode),"connectionLineStyle"in C&&n(6,$=C.connectionLineStyle),"connectionLineContainerStyle"in C&&n(7,fe=C.connectionLineContainerStyle),"onMoveStart"in C&&n(8,A=C.onMoveStart),"onMove"in C&&n(9,ge=C.onMove),"onMoveEnd"in C&&n(10,me=C.onMoveEnd),"isValidConnection"in C&&n(54,be=C.isValidConnection),"translateExtent"in C&&n(55,ke=C.translateExtent),"nodeExtent"in C&&n(56,Se=C.nodeExtent),"onlyRenderVisibleElements"in C&&n(57,Ae=C.onlyRenderVisibleElements),"panOnScrollMode"in C&&n(11,F=C.panOnScrollMode),"preventScrolling"in C&&n(12,He=C.preventScrolling),"zoomOnScroll"in C&&n(13,Ne=C.zoomOnScroll),"zoomOnDoubleClick"in C&&n(14,zt=C.zoomOnDoubleClick),"zoomOnPinch"in C&&n(15,_t=C.zoomOnPinch),"panOnScroll"in C&&n(16,bt=C.panOnScroll),"panOnDrag"in C&&n(17,Xe=C.panOnDrag),"selectionOnDrag"in C&&n(18,wt=C.selectionOnDrag),"autoPanOnConnect"in C&&n(58,ie=C.autoPanOnConnect),"autoPanOnNodeDrag"in C&&n(59,Ot=C.autoPanOnNodeDrag),"onerror"in C&&n(60,Tt=C.onerror),"ondelete"in C&&n(61,U=C.ondelete),"onedgecreate"in C&&n(62,Dt=C.onedgecreate),"attributionPosition"in C&&n(19,Ye=C.attributionPosition),"proOptions"in C&&n(20,Qe=C.proOptions),"defaultEdgeOptions"in C&&n(21,ee=C.defaultEdgeOptions),"width"in C&&n(63,kt=C.width),"height"in C&&n(64,je=C.height),"colorMode"in C&&n(65,Fe=C.colorMode),"onconnect"in C&&n(66,Ut=C.onconnect),"onconnectstart"in C&&n(67,qt=C.onconnectstart),"onconnectend"in C&&n(68,Zt=C.onconnectend),"onbeforedelete"in C&&n(69,Gt=C.onbeforedelete),"oninit"in C&&n(70,Nt=C.oninit),"nodeOrigin"in C&&n(71,Lt=C.nodeOrigin),"paneClickDistance"in C&&n(22,Mn=C.paneClickDistance),"nodeClickDistance"in C&&n(23,vo=C.nodeClickDistance),"defaultMarkerColor"in C&&n(72,Ci=C.defaultMarkerColor),"style"in C&&n(24,Eo=C.style),"class"in C&&n(25,po=C.class),"$$scope"in C&&n(99,y=C.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&Jt!==void 0&&Qt!==void 0&&(Ke.width.set(Jt),Ke.height.set(Qt)),t.$$.dirty[2]&6400&&!Pi&&s&&(Nt==null||Nt(),n(73,Pi=!0)),t.$$.dirty[1]&2097135632|t.$$.dirty[2]&1777&&kg(Ke,{flowId:b,connectionLineType:se,connectionRadius:j,selectionMode:B,snapGrid:W,defaultMarkerColor:Ci,nodesDraggable:w,nodesConnectable:S,elementsSelectable:T,onlyRenderVisibleElements:Ae,isValidConnection:be,autoPanOnConnect:ie,autoPanOnNodeDrag:Ot,onerror:Tt,ondelete:U,onedgecreate:Dt,connectionMode:H,nodeDragThreshold:M,onconnect:Ut,onconnectstart:qt,onconnectend:Zt,onbeforedelete:Gt,nodeOrigin:Lt}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&Pr(Ke,{nodeTypes:O,edgeTypes:V,minZoom:z,maxZoom:L,translateExtent:ke,paneClickDistance:Mn}),t.$$.dirty[2]&8&&c(n(29,i=Eg(Fe)))},[I,Z,X,v,N,K,$,fe,A,ge,me,F,He,Ne,zt,_t,bt,Xe,wt,Ye,Qe,ee,Mn,vo,Eo,po,Jt,Qt,zn,i,f,ps,So,r,m,b,g,E,k,p,z,L,D,O,V,B,w,S,M,T,W,j,se,H,be,ke,Se,Ae,ie,Ot,Tt,U,Dt,kt,je,Fe,Ut,qt,Zt,Gt,Nt,Lt,Ci,Pi,s,h,Ss,Cs,Ps,Ms,zs,Os,Ts,Ds,Ns,Is,As,Hs,Ls,Rs,Vs,Ws,Bs,Xs,Ys,Fs,Ks,Us,qs,y]}class Tg extends ye{constructor(e){super(),_e(this,e,Og,zg,we,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}function Dg(t){let e;const n=t[7].default,i=qe(n,t,t[6],null);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&64)&&Ze(i,n,o,o[6],e?Je(n,o[6],r,null):Ge(o[6]),null)},i(o){e||(R(i,o),e=!0)},o(o){Y(i,o),e=!1},d(o){i&&i.d(o)}}}function Ng(t,e,n){let{$$slots:i={},$$scope:o}=e,{initialNodes:r=void 0}=e,{initialEdges:s=void 0}=e,{initialWidth:l=void 0}=e,{initialHeight:a=void 0}=e,{fitView:u=void 0}=e,{nodeOrigin:f=void 0}=e;const d=os({nodes:r,edges:s,width:l,height:a,nodeOrigin:f,fitView:u});return mn(Ei,{getStore:()=>d}),eo(()=>{d.reset()}),t.$$set=c=>{"initialNodes"in c&&n(0,r=c.initialNodes),"initialEdges"in c&&n(1,s=c.initialEdges),"initialWidth"in c&&n(2,l=c.initialWidth),"initialHeight"in c&&n(3,a=c.initialHeight),"fitView"in c&&n(4,u=c.fitView),"nodeOrigin"in c&&n(5,f=c.nodeOrigin),"$$scope"in c&&n(6,o=c.$$scope)},[r,s,l,a,u,f,o,i]}class Ig extends ye{constructor(e){super(),_e(this,e,Ng,Dg,we,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4,nodeOrigin:5})}}const Ag=t=>({}),zr=t=>({class:"button-svg"});function Hg(t){let e,n,i,o,r;const s=t[8].default,l=qe(s,t,t[7],zr);let a=[{type:"button"},{class:n=De(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let f=0;f<a.length;f+=1)u=pe(u,a[f]);return{c(){e=Me("button"),l&&l.c(),this.h()},l(f){e=ze(f,"BUTTON",{type:!0,class:!0});var d=q(e);l&&l.l(d),d.forEach(P),this.h()},h(){ht(e,u),ce(e,"--xy-controls-button-background-color-props",t[1]),ce(e,"--xy-controls-button-background-color-hover-props",t[2]),ce(e,"--xy-controls-button-color-props",t[3]),ce(e,"--xy-controls-button-color-hover-props",t[4]),ce(e,"--xy-controls-button-border-color-props",t[5])},m(f,d){G(f,e,d),l&&l.m(e,null),e.autofocus&&e.focus(),i=!0,o||(r=Oe(e,"click",t[9]),o=!0)},p(f,[d]){l&&l.p&&(!i||d&128)&&Ze(l,s,f,f[7],i?Je(s,f[7],d,Ag):Ge(f[7]),zr),ht(e,u=at(a,[{type:"button"},(!i||d&1&&n!==(n=De(["svelte-flow__controls-button",f[0]])))&&{class:n},d&64&&f[6]])),ce(e,"--xy-controls-button-background-color-props",f[1]),ce(e,"--xy-controls-button-background-color-hover-props",f[2]),ce(e,"--xy-controls-button-color-props",f[3]),ce(e,"--xy-controls-button-color-hover-props",f[4]),ce(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(R(l,f),i=!0)},o(f){Y(l,f),i=!1},d(f){f&&P(e),l&&l.d(f),o=!1,r()}}}function Lg(t,e,n){const i=["class"];let o=Ie(e,i),{$$slots:r={},$$scope:s}=e,{class:l=void 0}=e,a,u,f,d,c;function h(y){Ce.call(this,t,y)}return t.$$set=y=>{e=pe(pe({},e),nt(y)),n(6,o=Ie(e,i)),"class"in y&&n(0,l=y.class),"$$scope"in y&&n(7,s=y.$$scope)},[l,a,u,f,d,c,o,s,r,h]}class oi extends ye{constructor(e){super(),_e(this,e,Lg,Hg,we,{class:0})}}function Rg(t){let e,n;return{c(){e=te("svg"),n=te("path"),this.h()},l(i){e=ne(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=ne(o,"path",{d:!0}),q(n).forEach(P),o.forEach(P),this.h()},h(){_(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 32 32")},m(i,o){G(i,e,o),x(e,n)},p:Pe,i:Pe,o:Pe,d(i){i&&P(e)}}}class Vg extends ye{constructor(e){super(),_e(this,e,null,Rg,we,{})}}function Wg(t){let e,n;return{c(){e=te("svg"),n=te("path"),this.h()},l(i){e=ne(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=ne(o,"path",{d:!0}),q(n).forEach(P),o.forEach(P),this.h()},h(){_(n,"d","M0 0h32v4.2H0z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 32 5")},m(i,o){G(i,e,o),x(e,n)},p:Pe,i:Pe,o:Pe,d(i){i&&P(e)}}}class Bg extends ye{constructor(e){super(),_e(this,e,null,Wg,we,{})}}function Xg(t){let e,n;return{c(){e=te("svg"),n=te("path"),this.h()},l(i){e=ne(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=ne(o,"path",{d:!0}),q(n).forEach(P),o.forEach(P),this.h()},h(){_(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 32 30")},m(i,o){G(i,e,o),x(e,n)},p:Pe,i:Pe,o:Pe,d(i){i&&P(e)}}}class Yg extends ye{constructor(e){super(),_e(this,e,null,Xg,we,{})}}function Fg(t){let e,n;return{c(){e=te("svg"),n=te("path"),this.h()},l(i){e=ne(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=ne(o,"path",{d:!0}),q(n).forEach(P),o.forEach(P),this.h()},h(){_(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 25 32")},m(i,o){G(i,e,o),x(e,n)},p:Pe,i:Pe,o:Pe,d(i){i&&P(e)}}}class Kg extends ye{constructor(e){super(),_e(this,e,null,Fg,we,{})}}function Ug(t){let e,n;return{c(){e=te("svg"),n=te("path"),this.h()},l(i){e=ne(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=ne(o,"path",{d:!0}),q(n).forEach(P),o.forEach(P),this.h()},h(){_(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 25 32")},m(i,o){G(i,e,o),x(e,n)},p:Pe,i:Pe,o:Pe,d(i){i&&P(e)}}}class qg extends ye{constructor(e){super(),_e(this,e,null,Ug,we,{})}}const Zg=t=>({}),Or=t=>({}),Gg=t=>({}),Tr=t=>({});function Dr(t){let e,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let s={$$slots:{default:[Jg]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)s=pe(s,r[u]);e=new oi({props:s}),e.$on("click",t[18]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[Qg]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)a=pe(a,l[u]);return i=new oi({props:a}),i.$on("click",t[19]),{c(){oe(e.$$.fragment),n=ve(),oe(i.$$.fragment)},l(u){ae(e.$$.fragment,u),n=Ee(u),ae(i.$$.fragment,u)},m(u,f){re(e,u,f),G(u,n,f),re(i,u,f),o=!0},p(u,f){const d=f[0]&131584?at(r,[r[0],r[1],r[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&nn(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),e.$set(d);const c=f[0]&132096?at(l,[l[0],l[1],l[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&nn(u[17])]):{};f[1]&32&&(c.$$scope={dirty:f,ctx:u}),i.$set(c)},i(u){o||(R(e.$$.fragment,u),R(i.$$.fragment,u),o=!0)},o(u){Y(e.$$.fragment,u),Y(i.$$.fragment,u),o=!1},d(u){u&&P(n),le(e,u),le(i,u)}}}function Jg(t){let e,n;return e=new Vg({}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function Qg(t){let e,n;return e=new Bg({}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function Nr(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[jg]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=pe(o,i[r]);return e=new oi({props:o}),e.$on("click",t[20]),{c(){oe(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,s){re(e,r,s),n=!0},p(r,s){const l=s[0]&131072?at(i,[i[0],i[1],i[2],nn(r[17])]):{};s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){Y(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function jg(t){let e,n;return e=new Yg({}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function Ir(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[e0]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=pe(o,i[r]);return e=new oi({props:o}),e.$on("click",t[21]),{c(){oe(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,s){re(e,r,s),n=!0},p(r,s){const l=s[0]&131072?at(i,[i[0],i[1],i[2],nn(r[17])]):{};s[0]&256|s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){Y(e.$$.fragment,r),n=!1},d(r){le(e,r)}}}function xg(t){let e,n;return e=new Kg({}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function $g(t){let e,n;return e=new qg({}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function e0(t){let e,n,i,o;const r=[$g,xg],s=[];function l(a,u){return a[8]?0:1}return e=l(t),n=s[e]=r[e](t),{c(){n.c(),i=Te()},l(a){n.l(a),i=Te()},m(a,u){s[e].m(a,u),G(a,i,u),o=!0},p(a,u){let f=e;e=l(a),e!==f&&(We(),Y(s[f],1,1,()=>{s[f]=null}),Be(),n=s[e],n||(n=s[e]=r[e](a),n.c()),R(n,1),n.m(i.parentNode,i))},i(a){o||(R(n),o=!0)},o(a){Y(n),o=!1},d(a){a&&P(i),s[e].d(a)}}}function t0(t){let e,n,i,o,r,s;const l=t[35].before,a=qe(l,t,t[36],Tr);let u=t[1]&&Dr(t),f=t[2]&&Nr(t),d=t[3]&&Ir(t);const c=t[35].default,h=qe(c,t,t[36],null),y=t[35].after,m=qe(y,t,t[36],Or);return{c(){a&&a.c(),e=ve(),u&&u.c(),n=ve(),f&&f.c(),i=ve(),d&&d.c(),o=ve(),h&&h.c(),r=ve(),m&&m.c()},l(b){a&&a.l(b),e=Ee(b),u&&u.l(b),n=Ee(b),f&&f.l(b),i=Ee(b),d&&d.l(b),o=Ee(b),h&&h.l(b),r=Ee(b),m&&m.l(b)},m(b,g){a&&a.m(b,g),G(b,e,g),u&&u.m(b,g),G(b,n,g),f&&f.m(b,g),G(b,i,g),d&&d.m(b,g),G(b,o,g),h&&h.m(b,g),G(b,r,g),m&&m.m(b,g),s=!0},p(b,g){a&&a.p&&(!s||g[1]&32)&&Ze(a,l,b,b[36],s?Je(l,b[36],g,Gg):Ge(b[36]),Tr),b[1]?u?(u.p(b,g),g[0]&2&&R(u,1)):(u=Dr(b),u.c(),R(u,1),u.m(n.parentNode,n)):u&&(We(),Y(u,1,1,()=>{u=null}),Be()),b[2]?f?(f.p(b,g),g[0]&4&&R(f,1)):(f=Nr(b),f.c(),R(f,1),f.m(i.parentNode,i)):f&&(We(),Y(f,1,1,()=>{f=null}),Be()),b[3]?d?(d.p(b,g),g[0]&8&&R(d,1)):(d=Ir(b),d.c(),R(d,1),d.m(o.parentNode,o)):d&&(We(),Y(d,1,1,()=>{d=null}),Be()),h&&h.p&&(!s||g[1]&32)&&Ze(h,c,b,b[36],s?Je(c,b[36],g,null):Ge(b[36]),null),m&&m.p&&(!s||g[1]&32)&&Ze(m,y,b,b[36],s?Je(y,b[36],g,Zg):Ge(b[36]),Or)},i(b){s||(R(a,b),R(u),R(f),R(d),R(h,b),R(m,b),s=!0)},o(b){Y(a,b),Y(u),Y(f),Y(d),Y(h,b),Y(m,b),s=!1},d(b){b&&(P(e),P(n),P(i),P(o),P(r)),a&&a.d(b),u&&u.d(b),f&&f.d(b),d&&d.d(b),h&&h.d(b),m&&m.d(b)}}}function n0(t){let e,n;return e=new _o({props:{class:De(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[t0]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const r={};o[0]&192&&(r.class=De(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(r.position=i[0]),o[0]&16&&(r["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(r.style=i[5]),o[0]&1806|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function i0(t,e,n){let i,o,r,s,l,a,u,f,d,c,{$$slots:h={},$$scope:y}=e,{position:m="bottom-left"}=e,{showZoom:b=!0}=e,{showFitView:g=!0}=e,{showLock:E=!0}=e,{buttonBgColor:k=void 0}=e,{buttonBgColorHover:p=void 0}=e,{buttonColor:z=void 0}=e,{buttonColorHover:L=void 0}=e,{buttonBorderColor:D=void 0}=e,{ariaLabel:I=void 0}=e,{style:O=void 0}=e,{orientation:V="vertical"}=e,{fitViewOptions:Z=void 0}=e,{class:B=""}=e;const{zoomIn:X,zoomOut:v,fitView:N,viewport:w,minZoom:S,maxZoom:M,nodesDraggable:T,nodesConnectable:W,elementsSelectable:K}=Re();J(t,w,A=>n(30,a=A)),J(t,S,A=>n(31,u=A)),J(t,M,A=>n(29,l=A)),J(t,T,A=>n(34,c=A)),J(t,W,A=>n(33,d=A)),J(t,K,A=>n(32,f=A));const j={bgColor:k,bgColorHover:p,color:z,colorHover:L,borderColor:D},se=()=>{X()},H=()=>{v()},$=()=>{N(Z)},fe=()=>{n(8,i=!i),T.set(i),W.set(i),K.set(i)};return t.$$set=A=>{"position"in A&&n(0,m=A.position),"showZoom"in A&&n(1,b=A.showZoom),"showFitView"in A&&n(2,g=A.showFitView),"showLock"in A&&n(3,E=A.showLock),"buttonBgColor"in A&&n(22,k=A.buttonBgColor),"buttonBgColorHover"in A&&n(23,p=A.buttonBgColorHover),"buttonColor"in A&&n(24,z=A.buttonColor),"buttonColorHover"in A&&n(25,L=A.buttonColorHover),"buttonBorderColor"in A&&n(26,D=A.buttonBorderColor),"ariaLabel"in A&&n(4,I=A.ariaLabel),"style"in A&&n(5,O=A.style),"orientation"in A&&n(27,V=A.orientation),"fitViewOptions"in A&&n(28,Z=A.fitViewOptions),"class"in A&&n(6,B=A.class),"$$scope"in A&&n(36,y=A.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=c||d||f),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=a.zoom<=u),t.$$.dirty[0]&1610612736&&n(9,r=a.zoom>=l),t.$$.dirty[0]&134217728&&n(7,s=V==="horizontal"?"horizontal":"vertical")},[m,b,g,E,I,O,B,s,i,r,o,w,S,M,T,W,K,j,se,H,$,fe,k,p,z,L,D,V,Z,l,a,u,f,d,c,h,y]}class o0 extends ye{constructor(e){super(),_e(this,e,i0,n0,we,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var At;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(At||(At={}));function r0(t){let e,n;return{c(){e=te("circle"),this.h()},l(i){e=ne(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),q(e).forEach(P),this.h()},h(){_(e,"cx",t[0]),_(e,"cy",t[0]),_(e,"r",t[0]),_(e,"class",n=De(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){G(i,e,o)},p(i,[o]){o&1&&_(e,"cx",i[0]),o&1&&_(e,"cy",i[0]),o&1&&_(e,"r",i[0]),o&2&&n!==(n=De(["svelte-flow__background-pattern","dots",i[1]]))&&_(e,"class",n)},i:Pe,o:Pe,d(i){i&&P(e)}}}function l0(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class s0 extends ye{constructor(e){super(),_e(this,e,l0,r0,we,{radius:0,class:1})}}function a0(t){let e,n,i;return{c(){e=te("path"),this.h()},l(o){e=ne(o,"path",{"stroke-width":!0,d:!0,class:!0}),q(e).forEach(P),this.h()},h(){_(e,"stroke-width",t[0]),_(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),_(e,"class",i=De(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,r){G(o,e,r)},p(o,[r]){r&1&&_(e,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&_(e,"d",n),r&12&&i!==(i=De(["svelte-flow__background-pattern",o[2],o[3]]))&&_(e,"class",i)},i:Pe,o:Pe,d(o){o&&P(e)}}}function u0(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:r=void 0}=e,{class:s=""}=e;return t.$$set=l=>{"lineWidth"in l&&n(0,i=l.lineWidth),"dimensions"in l&&n(1,o=l.dimensions),"variant"in l&&n(2,r=l.variant),"class"in l&&n(3,s=l.class)},[i,o,r,s]}class f0 extends ye{constructor(e){super(),_e(this,e,u0,a0,we,{lineWidth:0,dimensions:1,variant:2,class:3})}}function c0(t){let e,n;return e=new f0({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function d0(t){let e,n;return e=new s0({props:{radius:t[7]/2,class:t[4]}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function h0(t){let e,n,i,o,r,s,l,a,u,f,d,c,h;const y=[d0,c0],m=[];function b(g,E){return g[14]?0:1}return i=b(t),o=m[i]=y[i](t),{c(){e=te("svg"),n=te("pattern"),o.c(),f=te("rect"),this.h()},l(g){e=ne(g,"svg",{class:!0,"data-testid":!0});var E=q(e);n=ne(E,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var k=q(n);o.l(k),k.forEach(P),f=ne(E,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),q(f).forEach(P),E.forEach(P),this.h()},h(){_(n,"id",t[11]),_(n,"x",r=t[9].x%t[8][0]),_(n,"y",s=t[9].y%t[8][1]),_(n,"width",l=t[8][0]),_(n,"height",a=t[8][1]),_(n,"patternUnits","userSpaceOnUse"),_(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),_(f,"x","0"),_(f,"y","0"),_(f,"width","100%"),_(f,"height","100%"),_(f,"fill",d=`url(#${t[11]})`),_(e,"class",c=Un(De(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),_(e,"data-testid","svelte-flow__background"),ce(e,"--xy-background-color-props",t[2]),ce(e,"--xy-background-pattern-color-props",t[3])},m(g,E){G(g,e,E),x(e,n),m[i].m(n,null),x(e,f),h=!0},p(g,[E]){o.p(g,E),(!h||E&2048)&&_(n,"id",g[11]),(!h||E&768&&r!==(r=g[9].x%g[8][0]))&&_(n,"x",r),(!h||E&768&&s!==(s=g[9].y%g[8][1]))&&_(n,"y",s),(!h||E&256&&l!==(l=g[8][0]))&&_(n,"width",l),(!h||E&256&&a!==(a=g[8][1]))&&_(n,"height",a),(!h||E&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&_(n,"patternTransform",u),(!h||E&2048&&d!==(d=`url(#${g[11]})`))&&_(f,"fill",d),(!h||E&32&&c!==(c=Un(De(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&_(e,"class",c),E&4&&ce(e,"--xy-background-color-props",g[2]),E&8&&ce(e,"--xy-background-pattern-color-props",g[3])},i(g){h||(R(o),h=!0)},o(g){Y(o),h=!1},d(g){g&&P(e),m[i].d()}}}const g0={[At.Dots]:1,[At.Lines]:1,[At.Cross]:6};function m0(t,e,n){let i,o,r,s,l,a,u,{id:f=void 0}=e,{variant:d=At.Dots}=e,{gap:c=20}=e,{size:h=1}=e,{lineWidth:y=1}=e,{bgColor:m=void 0}=e,{patternColor:b=void 0}=e,{patternClass:g=void 0}=e,{class:E=""}=e;const{viewport:k,flowId:p}=Re();J(t,k,O=>n(9,a=O)),J(t,p,O=>n(18,u=O));const z=h||g0[d],L=d===At.Dots,D=d===At.Cross,I=Array.isArray(c)?c:[c,c];return t.$$set=O=>{"id"in O&&n(15,f=O.id),"variant"in O&&n(0,d=O.variant),"gap"in O&&n(16,c=O.gap),"size"in O&&n(17,h=O.size),"lineWidth"in O&&n(1,y=O.lineWidth),"bgColor"in O&&n(2,m=O.bgColor),"patternColor"in O&&n(3,b=O.patternColor),"patternClass"in O&&n(4,g=O.patternClass),"class"in O&&n(5,E=O.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),t.$$.dirty&512&&n(8,o=[I[0]*a.zoom||1,I[1]*a.zoom||1]),t.$$.dirty&512&&n(7,r=z*a.zoom),t.$$.dirty&384&&n(6,s=D?[r,r]:o),t.$$.dirty&192&&n(10,l=L?[r/2,r/2]:[s[0]/2,s[1]/2])},[d,y,m,b,g,E,s,r,o,a,l,i,k,p,L,f,c,h,u]}class y0 extends ye{constructor(e){super(),_e(this,e,m0,h0,we,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function _0(t){let e,n,i;return{c(){e=te("rect"),this.h()},l(o){e=ne(o,"rect",{class:!0,x:!0,y:!0,rx:!0,ry:!0,width:!0,height:!0,style:!0,"shape-rendering":!0}),q(e).forEach(P),this.h()},h(){_(e,"class",n=De(["svelte-flow__minimap-node",t[10]])),_(e,"x",t[0]),_(e,"y",t[1]),_(e,"rx",t[4]),_(e,"ry",t[4]),_(e,"width",t[2]),_(e,"height",t[3]),_(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),_(e,"shape-rendering",t[6]),he(e,"selected",t[9])},m(o,r){G(o,e,r)},p(o,[r]){r&1024&&n!==(n=De(["svelte-flow__minimap-node",o[10]]))&&_(e,"class",n),r&1&&_(e,"x",o[0]),r&2&&_(e,"y",o[1]),r&16&&_(e,"rx",o[4]),r&16&&_(e,"ry",o[4]),r&4&&_(e,"width",o[2]),r&8&&_(e,"height",o[3]),r&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&_(e,"style",i),r&64&&_(e,"shape-rendering",o[6]),r&1536&&he(e,"selected",o[9])},i:Pe,o:Pe,d(o){o&&P(e)}}}function b0(t,e,n){let{x:i}=e,{y:o}=e,{width:r=0}=e,{height:s=0}=e,{borderRadius:l=5}=e,{color:a=void 0}=e,{shapeRendering:u}=e,{strokeColor:f=void 0}=e,{strokeWidth:d=2}=e,{selected:c=!1}=e,{class:h=""}=e;return t.$$set=y=>{"x"in y&&n(0,i=y.x),"y"in y&&n(1,o=y.y),"width"in y&&n(2,r=y.width),"height"in y&&n(3,s=y.height),"borderRadius"in y&&n(4,l=y.borderRadius),"color"in y&&n(5,a=y.color),"shapeRendering"in y&&n(6,u=y.shapeRendering),"strokeColor"in y&&n(7,f=y.strokeColor),"strokeWidth"in y&&n(8,d=y.strokeWidth),"selected"in y&&n(9,c=y.selected),"class"in y&&n(10,h=y.class)},[i,o,r,s,l,a,u,f,d,c,h]}class w0 extends ye{constructor(e){super(),_e(this,e,b0,_0,we,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function k0(t,e){const n=md({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=Q(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function Ar(t,e,n){const i=t.slice();i[55]=e[n];const o=i[20].get(i[55].id);return i[56]=o,i}function Hi(t){const e=t.slice(),n=Ht(e[56]);return e[59]=n,e}function Hr(t){let e,n,i=[],o=new Map,r,s,l,a,u,f,d,c=t[1]&&Lr(t),h=gt(t[19]);const y=m=>m[55].id;for(let m=0;m<h.length;m+=1){let b=Ar(t,h,m),g=y(b);o.set(g,i[m]=Vr(g,b))}return{c(){e=te("svg"),c&&c.c(),n=Te();for(let m=0;m<i.length;m+=1)i[m].c();r=te("path"),this.h()},l(m){e=ne(m,"svg",{width:!0,height:!0,viewBox:!0,class:!0,role:!0,"aria-labelledby":!0});var b=q(e);c&&c.l(b),n=Te();for(let g=0;g<i.length;g+=1)i[g].l(b);r=ne(b,"path",{class:!0,d:!0,"fill-rule":!0,"pointer-events":!0}),q(r).forEach(P),b.forEach(P),this.h()},h(){_(r,"class","svelte-flow__minimap-mask"),_(r,"d",s="M"+(t[26]-t[15])+","+(t[25]-t[15])+"h"+(t[24]+t[15]*2)+"v"+(t[23]+t[15]*2)+"h"+(-t[24]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),_(r,"fill-rule","evenodd"),_(r,"pointer-events","none"),_(e,"width",t[17]),_(e,"height",t[16]),_(e,"viewBox",l=t[26]+" "+t[25]+" "+t[24]+" "+t[23]),_(e,"class","svelte-flow__minimap-svg"),_(e,"role","img"),_(e,"aria-labelledby",t[41]),ce(e,"--xy-minimap-mask-background-color-props",t[5]),ce(e,"--xy-minimap-mask-stroke-color-props",t[6]),ce(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(m,b){G(m,e,b),c&&c.m(e,null),x(e,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(e,null);x(e,r),u=!0,f||(d=Ue(a=k0.call(null,e,{panZoom:t[27],viewport:t[31],getViewScale:t[42],translateExtent:t[28],width:t[22],height:t[21],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),f=!0)},p(m,b){m[1]?c?c.p(m,b):(c=Lr(m),c.c(),c.m(e,n)):c&&(c.d(1),c=null),b[0]&1572876|b[1]&960&&(h=gt(m[19]),We(),i=fi(i,b,y,1,m,h,o,e,ui,Vr,r,Ar),Be()),(!u||b[0]&126124032&&s!==(s="M"+(m[26]-m[15])+","+(m[25]-m[15])+"h"+(m[24]+m[15]*2)+"v"+(m[23]+m[15]*2)+"h"+(-m[24]-m[15]*2)+`z
      M`+m[18].x+","+m[18].y+"h"+m[18].width+"v"+m[18].height+"h"+-m[18].width+"z"))&&_(r,"d",s),(!u||b[0]&131072)&&_(e,"width",m[17]),(!u||b[0]&65536)&&_(e,"height",m[16]),(!u||b[0]&125829120&&l!==(l=m[26]+" "+m[25]+" "+m[24]+" "+m[23]))&&_(e,"viewBox",l),a&&Ve(a.update)&&b[0]&408948480&&a.update.call(null,{panZoom:m[27],viewport:m[31],getViewScale:m[42],translateExtent:m[28],width:m[22],height:m[21],inversePan:m[10],zoomStep:m[11],pannable:m[8],zoomable:m[9]}),b[0]&32&&ce(e,"--xy-minimap-mask-background-color-props",m[5]),b[0]&64&&ce(e,"--xy-minimap-mask-stroke-color-props",m[6]),b[0]&16512&&ce(e,"--xy-minimap-mask-stroke-width-props",m[7]?m[7]*m[14]:void 0)},i(m){if(!u){for(let b=0;b<h.length;b+=1)R(i[b]);u=!0}},o(m){for(let b=0;b<i.length;b+=1)Y(i[b]);u=!1},d(m){m&&P(e),c&&c.d();for(let b=0;b<i.length;b+=1)i[b].d();f=!1,d()}}}function Lr(t){let e,n;return{c(){e=te("title"),n=Pt(t[1]),this.h()},l(i){e=ne(i,"title",{id:!0});var o=q(e);n=Mt(o,t[1]),o.forEach(P),this.h()},h(){_(e,"id",t[41])},m(i,o){G(i,e,o),x(e,n)},p(i,o){o[0]&2&&Kt(n,i[1])},d(i){i&&P(e)}}}function Rr(t){var r;let e,n;const i=[{x:t[56].internals.positionAbsolute.x},{y:t[56].internals.positionAbsolute.y},t[59],{selected:t[56].selected},{color:(r=t[37])==null?void 0:r.call(t,t[56])},{borderRadius:t[2]},{strokeColor:t[38](t[56])},{strokeWidth:t[3]},{shapeRendering:t[40]},{class:t[39](t[56])}];let o={};for(let s=0;s<i.length;s+=1)o=pe(o,i[s]);return e=new w0({props:o}),{c(){oe(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,l){re(e,s,l),n=!0},p(s,l){var u;const a=l[0]&1572876|l[1]&960?at(i,[l[0]&1572864&&{x:s[56].internals.positionAbsolute.x},l[0]&1572864&&{y:s[56].internals.positionAbsolute.y},l[0]&1572864&&nn(s[59]),l[0]&1572864&&{selected:s[56].selected},l[0]&1572864|l[1]&64&&{color:(u=s[37])==null?void 0:u.call(s,s[56])},l[0]&4&&{borderRadius:s[2]},l[0]&1572864|l[1]&128&&{strokeColor:s[38](s[56])},l[0]&8&&{strokeWidth:s[3]},l[1]&512&&{shapeRendering:s[40]},l[0]&1572864|l[1]&256&&{class:s[39](s[56])}]):{};e.$set(a)},i(s){n||(R(e.$$.fragment,s),n=!0)},o(s){Y(e.$$.fragment,s),n=!1},d(s){le(e,s)}}}function Vr(t,e){let n,i=e[56]&&ni(e[56]),o,r,s=i&&Rr(Hi(e));return{key:t,first:null,c(){n=Te(),s&&s.c(),o=Te(),this.h()},l(l){n=Te(),s&&s.l(l),o=Te(),this.h()},h(){this.first=n},m(l,a){G(l,n,a),s&&s.m(l,a),G(l,o,a),r=!0},p(l,a){e=l,a[0]&1572864&&(i=e[56]&&ni(e[56])),i?s?(s.p(Hi(e),a),a[0]&1572864&&R(s,1)):(s=Rr(Hi(e)),s.c(),R(s,1),s.m(o.parentNode,o)):s&&(We(),Y(s,1,1,()=>{s=null}),Be())},i(l){r||(R(s),r=!0)},o(l){Y(s),r=!1},d(l){l&&(P(n),P(o)),s&&s.d(l)}}}function v0(t){let e,n,i=t[27]&&Hr(t);return{c(){i&&i.c(),e=Te()},l(o){i&&i.l(o),e=Te()},m(o,r){i&&i.m(o,r),G(o,e,r),n=!0},p(o,r){o[27]?i?(i.p(o,r),r[0]&134217728&&R(i,1)):(i=Hr(o),i.c(),R(i,1),i.m(e.parentNode,e)):i&&(We(),Y(i,1,1,()=>{i=null}),Be())},i(o){n||(R(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&P(e),i&&i.d(o)}}}function E0(t){let e,n;return e=new _o({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:De(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[v0]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const r={};o[0]&1&&(r.position=i[0]),o[0]&4112&&(r.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(r.class=De(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}const Li=t=>t instanceof Function?t:()=>t,p0=200,S0=150;function C0(t,e,n){let i,o,r,s,l,a,u,f,d,c,h,y,m,b,g,E,k,p,z,L,D,{position:I="bottom-right"}=e,{ariaLabel:O="Mini map"}=e,{nodeStrokeColor:V="transparent"}=e,{nodeColor:Z=void 0}=e,{nodeClass:B=""}=e,{nodeBorderRadius:X=5}=e,{nodeStrokeWidth:v=2}=e,{bgColor:N=void 0}=e,{maskColor:w=void 0}=e,{maskStrokeColor:S=void 0}=e,{maskStrokeWidth:M=void 0}=e,{width:T=void 0}=e,{height:W=void 0}=e,{pannable:K=!0}=e,{zoomable:j=!0}=e,{inversePan:se=void 0}=e,{zoomStep:H=void 0}=e,{style:$=""}=e,{class:fe=""}=e;const{nodes:A,nodeLookup:ge,viewport:me,width:be,height:ke,flowId:Se,panZoom:Ae,translateExtent:F}=Re();J(t,A,ie=>n(19,b=ie)),J(t,ge,ie=>n(20,g=ie)),J(t,me,ie=>n(53,E=ie)),J(t,be,ie=>n(22,p=ie)),J(t,ke,ie=>n(21,k=ie)),J(t,Se,ie=>n(54,z=ie)),J(t,Ae,ie=>n(27,L=ie)),J(t,F,ie=>n(28,D=ie));const He=Z===void 0?void 0:Li(Z),Ne=Li(V),zt=Li(B),_t=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",bt=`svelte-flow__minimap-desc-${z}`;let Xe=i;const wt=()=>a;return t.$$set=ie=>{"position"in ie&&n(0,I=ie.position),"ariaLabel"in ie&&n(1,O=ie.ariaLabel),"nodeStrokeColor"in ie&&n(43,V=ie.nodeStrokeColor),"nodeColor"in ie&&n(44,Z=ie.nodeColor),"nodeClass"in ie&&n(45,B=ie.nodeClass),"nodeBorderRadius"in ie&&n(2,X=ie.nodeBorderRadius),"nodeStrokeWidth"in ie&&n(3,v=ie.nodeStrokeWidth),"bgColor"in ie&&n(4,N=ie.bgColor),"maskColor"in ie&&n(5,w=ie.maskColor),"maskStrokeColor"in ie&&n(6,S=ie.maskStrokeColor),"maskStrokeWidth"in ie&&n(7,M=ie.maskStrokeWidth),"width"in ie&&n(46,T=ie.width),"height"in ie&&n(47,W=ie.height),"pannable"in ie&&n(8,K=ie.pannable),"zoomable"in ie&&n(9,j=ie.zoomable),"inversePan"in ie&&n(10,se=ie.inversePan),"zoomStep"in ie&&n(11,H=ie.zoomStep),"style"in ie&&n(12,$=ie.style),"class"in ie&&n(13,fe=ie.class)},t.$$.update=()=>{t.$$.dirty[0]&6291456|t.$$.dirty[1]&4194304&&n(18,i={x:-E.x/E.zoom,y:-E.y/E.zoom,width:p/E.zoom,height:k/E.zoom}),t.$$.dirty[0]&1835008&&n(48,Xe=g.size>0?Vl(Pn(g),i):i),t.$$.dirty[1]&32768&&n(17,o=T??p0),t.$$.dirty[1]&65536&&n(16,r=W??S0),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(52,s=Xe.width/o),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(51,l=Xe.height/r),t.$$.dirty[1]&3145728&&n(14,a=Math.max(s,l)),t.$$.dirty[0]&147456&&n(50,u=a*o),t.$$.dirty[0]&81920&&n(49,f=a*r),t.$$.dirty[0]&16384&&n(15,d=5*a),t.$$.dirty[0]&32768|t.$$.dirty[1]&655360&&n(26,c=Xe.x-(u-Xe.width)/2-d),t.$$.dirty[0]&32768|t.$$.dirty[1]&393216&&n(25,h=Xe.y-(f-Xe.height)/2-d),t.$$.dirty[0]&32768|t.$$.dirty[1]&524288&&n(24,y=u+d*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&262144&&n(23,m=f+d*2)},[I,O,X,v,N,w,S,M,K,j,se,H,$,fe,a,d,r,o,i,b,g,k,p,m,y,h,c,L,D,A,ge,me,be,ke,Se,Ae,F,He,Ne,zt,_t,bt,wt,V,Z,B,T,W,Xe,f,u,l,s,E]}class P0 extends ye{constructor(e){super(),_e(this,e,C0,E0,we,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}let un={width:180,height:72};function Wr(t){let e,n,i,o,r,s,l,a,u,f,d,c,h,y;return{c(){e=te("svg"),n=te("g"),i=te("g"),o=te("g"),r=te("g"),s=te("g"),l=te("path"),a=te("path"),u=te("g"),f=te("g"),d=te("g"),c=te("g"),h=te("g"),this.h()},l(m){e=ne(m,"svg",{class:!0,xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var b=q(e);n=ne(b,"g",{});var g=q(n);i=ne(g,"g",{"data-cell-id":!0});var E=q(i);o=ne(E,"g",{"data-cell-id":!0});var k=q(o);r=ne(k,"g",{"data-cell-id":!0});var p=q(r);s=ne(p,"g",{});var z=q(s);l=ne(z,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,transform:!0,"pointer-events":!0}),q(l).forEach(P),a=ne(z,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,transform:!0,"pointer-events":!0}),q(a).forEach(P),z.forEach(P),p.forEach(P),u=ne(k,"g",{"data-cell-id":!0}),q(u).forEach(P),f=ne(k,"g",{"data-cell-id":!0}),q(f).forEach(P),d=ne(k,"g",{"data-cell-id":!0}),q(d).forEach(P),c=ne(k,"g",{"data-cell-id":!0}),q(c).forEach(P),h=ne(k,"g",{"data-cell-id":!0}),q(h).forEach(P),k.forEach(P),E.forEach(P),g.forEach(P),b.forEach(P),this.h()},h(){_(l,"d","M 44 23.11 C 44 34.65 35.05 44 24 44 C 12.95 44 4 34.65 4 23.11 C 4 11.57 12.95 2.22 24 2.22"),_(l,"fill","none"),_(l,"stroke","#000000"),_(l,"stroke-width","2"),_(l,"stroke-miterlimit","10"),_(l,"transform","rotate(90,24,20.5)"),_(l,"pointer-events","all"),_(a,"d","M 24 -3 L 31.5 2.22 L 24 7.44 Z"),_(a,"fill","none"),_(a,"stroke","#000000"),_(a,"stroke-width","2"),_(a,"stroke-miterlimit","10"),_(a,"transform","rotate(90,24,20.5)"),_(a,"pointer-events","all"),_(r,"data-cell-id","cL7QPJKOe-qMU4ihb_zf-2"),_(u,"data-cell-id","cL7QPJKOe-qMU4ihb_zf-5"),_(f,"data-cell-id","cL7QPJKOe-qMU4ihb_zf-6"),_(d,"data-cell-id","cL7QPJKOe-qMU4ihb_zf-3"),_(c,"data-cell-id","cL7QPJKOe-qMU4ihb_zf-4"),_(h,"data-cell-id","cL7QPJKOe-qMU4ihb_zf-8"),_(o,"data-cell-id","1"),_(i,"data-cell-id","0"),_(e,"class",y="icon "+(t[0].isEnd?"invert":"")+" svelte-1kwq3ut"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),_(e,"version","1.1"),_(e,"width","49px"),_(e,"height","42px"),_(e,"viewBox","-0.5 -0.5 49 42")},m(m,b){G(m,e,b),x(e,n),x(n,i),x(i,o),x(o,r),x(r,s),x(s,l),x(s,a),x(o,u),x(o,f),x(o,d),x(o,c),x(o,h)},p(m,b){b&1&&y!==(y="icon "+(m[0].isEnd?"invert":"")+" svelte-1kwq3ut")&&_(e,"class",y)},d(m){m&&P(e)}}}function Br(t){let e,n,i,o,r,s,l,a,u,f,d,c,h,y,m,b,g,E,k,p,z;return{c(){e=te("svg"),n=te("g"),i=te("g"),o=te("g"),r=te("g"),s=te("g"),l=te("g"),a=te("path"),u=te("g"),f=te("g"),d=te("path"),c=te("g"),h=te("g"),y=te("ellipse"),m=te("g"),b=te("g"),g=te("ellipse"),E=te("g"),k=te("g"),p=te("ellipse"),this.h()},l(L){e=ne(L,"svg",{class:!0,xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var D=q(e);n=ne(D,"g",{});var I=q(n);i=ne(I,"g",{"data-cell-id":!0});var O=q(i);o=ne(O,"g",{"data-cell-id":!0});var V=q(o);r=ne(V,"g",{"data-cell-id":!0}),q(r).forEach(P),s=ne(V,"g",{"data-cell-id":!0});var Z=q(s);l=ne(Z,"g",{});var B=q(l);a=ne(B,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"pointer-events":!0}),q(a).forEach(P),B.forEach(P),Z.forEach(P),u=ne(V,"g",{"data-cell-id":!0});var X=q(u);f=ne(X,"g",{});var v=q(f);d=ne(v,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"pointer-events":!0}),q(d).forEach(P),v.forEach(P),X.forEach(P),c=ne(V,"g",{"data-cell-id":!0});var N=q(c);h=ne(N,"g",{});var w=q(h);y=ne(w,"ellipse",{cx:!0,cy:!0,rx:!0,ry:!0,fill:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0}),q(y).forEach(P),w.forEach(P),N.forEach(P),m=ne(V,"g",{"data-cell-id":!0});var S=q(m);b=ne(S,"g",{});var M=q(b);g=ne(M,"ellipse",{cx:!0,cy:!0,rx:!0,ry:!0,fill:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0}),q(g).forEach(P),M.forEach(P),S.forEach(P),E=ne(V,"g",{"data-cell-id":!0});var T=q(E);k=ne(T,"g",{});var W=q(k);p=ne(W,"ellipse",{cx:!0,cy:!0,rx:!0,ry:!0,fill:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0}),q(p).forEach(P),W.forEach(P),T.forEach(P),V.forEach(P),O.forEach(P),I.forEach(P),D.forEach(P),this.h()},h(){_(r,"data-cell-id","cL7QPJKOe-qMU4ihb_zf-2"),_(a,"d","M 11 21 Q 11 61 57 61"),_(a,"fill","none"),_(a,"stroke","rgb(0, 0, 0)"),_(a,"stroke-width","2"),_(a,"stroke-miterlimit","10"),_(a,"pointer-events","stroke"),_(s,"data-cell-id","cL7QPJKOe-qMU4ihb_zf-5"),_(d,"d","M 11 21 L 11 91"),_(d,"fill","none"),_(d,"stroke","rgb(0, 0, 0)"),_(d,"stroke-width","2"),_(d,"stroke-miterlimit","10"),_(d,"pointer-events","stroke"),_(u,"data-cell-id","cL7QPJKOe-qMU4ihb_zf-6"),_(y,"cx","11"),_(y,"cy","11"),_(y,"rx","10"),_(y,"ry","10"),_(y,"fill","none"),_(y,"stroke","rgb(0, 0, 0)"),_(y,"stroke-width","2"),_(y,"pointer-events","all"),_(c,"data-cell-id","cL7QPJKOe-qMU4ihb_zf-3"),_(g,"cx","67"),_(g,"cy","61"),_(g,"rx","10"),_(g,"ry","10"),_(g,"fill","none"),_(g,"stroke","rgb(0, 0, 0)"),_(g,"stroke-width","2"),_(g,"pointer-events","all"),_(m,"data-cell-id","cL7QPJKOe-qMU4ihb_zf-4"),_(p,"cx","11"),_(p,"cy","101"),_(p,"rx","10"),_(p,"ry","10"),_(p,"fill","none"),_(p,"stroke","rgb(0, 0, 0)"),_(p,"stroke-width","2"),_(p,"pointer-events","all"),_(E,"data-cell-id","cL7QPJKOe-qMU4ihb_zf-8"),_(o,"data-cell-id","1"),_(i,"data-cell-id","0"),_(e,"class",z="icon "+(t[0].isEnd?"invert":"")+" svelte-1kwq3ut"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),_(e,"version","1.1"),_(e,"width","78px"),_(e,"height","112px"),_(e,"viewBox","-0.5 -0.5 78 112")},m(L,D){G(L,e,D),x(e,n),x(n,i),x(i,o),x(o,r),x(o,s),x(s,l),x(l,a),x(o,u),x(u,f),x(f,d),x(o,c),x(c,h),x(h,y),x(o,m),x(m,b),x(b,g),x(o,E),x(E,k),x(k,p)},p(L,D){D&1&&z!==(z="icon "+(L[0].isEnd?"invert":"")+" svelte-1kwq3ut")&&_(e,"class",z)},d(L){L&&P(e)}}}function Xr(t){let e,n="";return{c(){e=Me("span"),e.textContent=n,this.h()},l(i){e=ze(i,"SPAN",{style:!0,"data-svelte-h":!0}),to(e)!=="svelte-11ojfk2"&&(e.textContent=n),this.h()},h(){ce(e,"font-size","1.25em")},m(i,o){G(i,e,o)},d(i){i&&P(e)}}}function Yr(t){let e,n="";return{c(){e=Me("span"),e.textContent=n,this.h()},l(i){e=ze(i,"SPAN",{style:!0,"data-svelte-h":!0}),to(e)!=="svelte-mw21ye"&&(e.textContent=n),this.h()},h(){ce(e,"font-size","1.5em")},m(i,o){G(i,e,o)},d(i){i&&P(e)}}}function M0(t){let e,n,i,o,r,s,l,a,u,f,d,c=(t[0].hideMsgDetail?t[0].msg:t[0].rawMsg)+"",h,y,m,b,g,E,k,p,z,L,D,I,O,V,Z,B=t[0].type==="LOOP"&&Wr(t),X=(t[0].type==="IF"||t[0].type==="ELSE_IF")&&Br(t),v=t[0].type==="ERR"&&Xr(),N=t[0].type==="FOLLOW"&&Yr();return l=new lt({props:{class:"hndl",id:"t",type:"target",position:de.Top}}),m=new lt({props:{class:"hndl",id:"b",type:"source",position:de.Bottom}}),g=new lt({props:{class:"hndl",id:"bt",type:"target",position:de.Bottom}}),k=new lt({props:{class:"hndl",id:"l",type:"source",position:de.Left}}),z=new lt({props:{class:"hndl",id:"lt",type:"target",position:de.Left}}),D=new lt({props:{class:"hndl",id:"r",type:"source",position:de.Right}}),O=new lt({props:{class:"hndl",id:"rt",type:"target",position:de.Right}}),{c(){e=Me("div"),n=Me("div"),B&&B.c(),i=ve(),X&&X.c(),o=ve(),v&&v.c(),r=ve(),N&&N.c(),s=ve(),oe(l.$$.fragment),a=ve(),u=Me("div"),f=Me("div"),d=Me("p"),h=Pt(c),y=ve(),oe(m.$$.fragment),b=ve(),oe(g.$$.fragment),E=ve(),oe(k.$$.fragment),p=ve(),oe(z.$$.fragment),L=ve(),oe(D.$$.fragment),I=ve(),oe(O.$$.fragment),this.h()},l(w){e=ze(w,"DIV",{class:!0});var S=q(e);n=ze(S,"DIV",{style:!0});var M=q(n);B&&B.l(M),i=Ee(M),X&&X.l(M),o=Ee(M),v&&v.l(M),r=Ee(M),N&&N.l(M),M.forEach(P),s=Ee(S),ae(l.$$.fragment,S),a=Ee(S),u=ze(S,"DIV",{class:!0,style:!0});var T=q(u);f=ze(T,"DIV",{class:!0});var W=q(f);d=ze(W,"P",{});var K=q(d);h=Mt(K,c),K.forEach(P),W.forEach(P),T.forEach(P),y=Ee(S),ae(m.$$.fragment,S),b=Ee(S),ae(g.$$.fragment,S),E=Ee(S),ae(k.$$.fragment,S),p=Ee(S),ae(z.$$.fragment,S),L=Ee(S),ae(D.$$.fragment,S),I=Ee(S),ae(O.$$.fragment,S),S.forEach(P),this.h()},h(){ce(n,"position","absolute"),_(f,"class","msgWrapper svelte-1kwq3ut"),_(u,"class","container svelte-1kwq3ut"),ce(u,"width",un.width+"px"),ce(u,"height",un.height+"px"),_(e,"class",V=(t[0].highlight?"hovered":"")+" "+(t[0].isEnd?"endStep":"step")+" svelte-1kwq3ut")},m(w,S){G(w,e,S),x(e,n),B&&B.m(n,null),x(n,i),X&&X.m(n,null),x(n,o),v&&v.m(n,null),x(n,r),N&&N.m(n,null),x(e,s),re(l,e,null),x(e,a),x(e,u),x(u,f),x(f,d),x(d,h),t[4](d),t[5](u),x(e,y),re(m,e,null),x(e,b),re(g,e,null),x(e,E),re(k,e,null),x(e,p),re(z,e,null),x(e,L),re(D,e,null),x(e,I),re(O,e,null),Z=!0},p(w,[S]){w[0].type==="LOOP"?B?B.p(w,S):(B=Wr(w),B.c(),B.m(n,i)):B&&(B.d(1),B=null),w[0].type==="IF"||w[0].type==="ELSE_IF"?X?X.p(w,S):(X=Br(w),X.c(),X.m(n,o)):X&&(X.d(1),X=null),w[0].type==="ERR"?v||(v=Xr(),v.c(),v.m(n,r)):v&&(v.d(1),v=null),w[0].type==="FOLLOW"?N||(N=Yr(),N.c(),N.m(n,null)):N&&(N.d(1),N=null),(!Z||S&1)&&c!==(c=(w[0].hideMsgDetail?w[0].msg:w[0].rawMsg)+"")&&Kt(h,c),(!Z||S&1&&V!==(V=(w[0].highlight?"hovered":"")+" "+(w[0].isEnd?"endStep":"step")+" svelte-1kwq3ut"))&&_(e,"class",V)},i(w){Z||(R(l.$$.fragment,w),R(m.$$.fragment,w),R(g.$$.fragment,w),R(k.$$.fragment,w),R(z.$$.fragment,w),R(D.$$.fragment,w),R(O.$$.fragment,w),Z=!0)},o(w){Y(l.$$.fragment,w),Y(m.$$.fragment,w),Y(g.$$.fragment,w),Y(k.$$.fragment,w),Y(z.$$.fragment,w),Y(D.$$.fragment,w),Y(O.$$.fragment,w),Z=!1},d(w){w&&P(e),B&&B.d(),X&&X.d(),v&&v.d(),N&&N.d(),le(l),t[4](null),t[5](null),le(m),le(g),le(k),le(z),le(D),le(O)}}}function z0(t){return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight}function O0(t,e,n){const i={desire:15,min:10,max:80};function o(d,c){let h=i.min,y=i.max,m=h;for(;h<=y;)m=Math.floor((h+y)/2),d.style.fontSize=`${m}px`,z0(c)?y=--m:h=++m;d.style.fontSize=`${y}px`}let r,s;function l(){r&&s&&o(s,r)}fn(()=>{l()}),Qs(()=>{l()});let{data:a}=e;function u(d){Bt[d?"unshift":"push"](()=>{s=d,n(2,s)})}function f(d){Bt[d?"unshift":"push"](()=>{r=d,n(1,r)})}return t.$$set=d=>{"data"in d&&n(0,a=d.data)},[a,r,s,i,u,f]}class T0 extends ye{constructor(e){super(),_e(this,e,O0,M0,we,{fontSize:3,data:0})}get fontSize(){return this.$$.ctx[3]}}function D0(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(o),e&&(i.href=e),o.href=t,o.href}const N0=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function St(t){const e=[];for(let n=0,i=t.length;n<i;n++)e.push(t[n]);return e}function ri(t,e){const i=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return i?parseFloat(i.replace("px","")):0}function I0(t){const e=ri(t,"border-left-width"),n=ri(t,"border-right-width");return t.clientWidth+e+n}function A0(t){const e=ri(t,"border-top-width"),n=ri(t,"border-bottom-width");return t.clientHeight+e+n}function as(t,e={}){const n=e.width||I0(t),i=e.height||A0(t);return{width:n,height:i}}function H0(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const et=16384;function L0(t){(t.width>et||t.height>et)&&(t.width>et&&t.height>et?t.width>t.height?(t.height*=et/t.width,t.width=et):(t.width*=et/t.height,t.height=et):t.width>et?(t.height*=et/t.width,t.width=et):(t.width*=et/t.height,t.height=et))}function li(t){return new Promise((e,n)=>{const i=new Image;i.decode=()=>e(i),i.onload=()=>e(i),i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=t})}async function R0(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function V0(t,e,n){const i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),r=document.createElementNS(i,"foreignObject");return o.setAttribute("width",`${e}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${e} ${n}`),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("externalResourcesRequired","true"),o.appendChild(r),r.appendChild(t),R0(o)}const $e=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||$e(n,e)};function W0(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function B0(t){return St(t).map(e=>{const n=t.getPropertyValue(e),i=t.getPropertyPriority(e);return`${e}: ${n}${i?" !important":""};`}).join(" ")}function X0(t,e,n){const i=`.${t}:${e}`,o=n.cssText?W0(n):B0(n);return document.createTextNode(`${i}{${o}}`)}function Fr(t,e,n){const i=window.getComputedStyle(t,n),o=i.getPropertyValue("content");if(o===""||o==="none")return;const r=N0();try{e.className=`${e.className} ${r}`}catch{return}const s=document.createElement("style");s.appendChild(X0(r,n,i)),e.appendChild(s)}function Y0(t,e){Fr(t,e,":before"),Fr(t,e,":after")}const Kr="application/font-woff",Ur="image/jpeg",F0={woff:Kr,woff2:Kr,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ur,jpeg:Ur,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function K0(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function bo(t){const e=K0(t).toLowerCase();return F0[e]||""}function U0(t){return t.split(/,/)[1]}function xi(t){return t.search(/^(data:)/)!==-1}function q0(t,e){return`data:${e};base64,${t}`}async function us(t,e,n){const i=await fetch(t,e);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const o=await i.blob();return new Promise((r,s)=>{const l=new FileReader;l.onerror=s,l.onloadend=()=>{try{r(n({res:i,result:l.result}))}catch(a){s(a)}},l.readAsDataURL(o)})}const Ri={};function Z0(t,e,n){let i=t.replace(/\?.*/,"");return n&&(i=t),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),e?`[${e}]${i}`:i}async function wo(t,e,n){const i=Z0(t,e,n.includeQueryParams);if(Ri[i]!=null)return Ri[i];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let o;try{const r=await us(t,n.fetchRequestInit,({res:s,result:l})=>(e||(e=s.headers.get("Content-Type")||""),U0(l)));o=q0(r,e)}catch(r){o=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${t}`;r&&(s=typeof r=="string"?r:r.message),s&&console.warn(s)}return Ri[i]=o,o}async function G0(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):li(e)}async function J0(t,e){if(t.currentSrc){const r=document.createElement("canvas"),s=r.getContext("2d");r.width=t.clientWidth,r.height=t.clientHeight,s==null||s.drawImage(t,0,0,r.width,r.height);const l=r.toDataURL();return li(l)}const n=t.poster,i=bo(n),o=await wo(n,i,e);return li(o)}async function Q0(t){var e;try{if(!((e=t==null?void 0:t.contentDocument)===null||e===void 0)&&e.body)return await pi(t.contentDocument.body,{},!0)}catch{}return t.cloneNode(!1)}async function j0(t,e){return $e(t,HTMLCanvasElement)?G0(t):$e(t,HTMLVideoElement)?J0(t,e):$e(t,HTMLIFrameElement)?Q0(t):t.cloneNode(!1)}const x0=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT";async function $0(t,e,n){var i,o;let r=[];return x0(t)&&t.assignedNodes?r=St(t.assignedNodes()):$e(t,HTMLIFrameElement)&&(!((i=t.contentDocument)===null||i===void 0)&&i.body)?r=St(t.contentDocument.body.childNodes):r=St(((o=t.shadowRoot)!==null&&o!==void 0?o:t).childNodes),r.length===0||$e(t,HTMLVideoElement)||await r.reduce((s,l)=>s.then(()=>pi(l,n)).then(a=>{a&&e.appendChild(a)}),Promise.resolve()),e}function em(t,e){const n=e.style;if(!n)return;const i=window.getComputedStyle(t);i.cssText?(n.cssText=i.cssText,n.transformOrigin=i.transformOrigin):St(i).forEach(o=>{let r=i.getPropertyValue(o);o==="font-size"&&r.endsWith("px")&&(r=`${Math.floor(parseFloat(r.substring(0,r.length-2)))-.1}px`),$e(t,HTMLIFrameElement)&&o==="display"&&r==="inline"&&(r="block"),o==="d"&&e.getAttribute("d")&&(r=`path(${e.getAttribute("d")})`),n.setProperty(o,r,i.getPropertyPriority(o))})}function tm(t,e){$e(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),$e(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function nm(t,e){if($e(t,HTMLSelectElement)){const n=e,i=Array.from(n.children).find(o=>t.value===o.getAttribute("value"));i&&i.setAttribute("selected","")}}function im(t,e){return $e(e,Element)&&(em(t,e),Y0(t,e),tm(t,e),nm(t,e)),e}async function om(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const i={};for(let r=0;r<n.length;r++){const l=n[r].getAttribute("xlink:href");if(l){const a=t.querySelector(l),u=document.querySelector(l);!a&&u&&!i[l]&&(i[l]=await pi(u,e,!0))}}const o=Object.values(i);if(o.length){const r="http://www.w3.org/1999/xhtml",s=document.createElementNS(r,"svg");s.setAttribute("xmlns",r),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const l=document.createElementNS(r,"defs");s.appendChild(l);for(let a=0;a<o.length;a++)l.appendChild(o[a]);t.appendChild(s)}return t}async function pi(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(i=>j0(i,e)).then(i=>$0(t,i,e)).then(i=>im(t,i)).then(i=>om(i,e))}const fs=/url\((['"]?)([^'"]+?)\1\)/g,rm=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,lm=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function sm(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function am(t){const e=[];return t.replace(fs,(n,i,o)=>(e.push(o),n)),e.filter(n=>!xi(n))}async function um(t,e,n,i,o){try{const r=n?D0(e,n):e,s=bo(e);let l;return o||(l=await wo(r,s,i)),t.replace(sm(e),`$1${l}$3`)}catch{}return t}function fm(t,{preferredFontFormat:e}){return e?t.replace(lm,n=>{for(;;){const[i,,o]=rm.exec(n)||[];if(!o)return"";if(o===e)return`src: ${i};`}}):t}function cs(t){return t.search(fs)!==-1}async function ds(t,e,n){if(!cs(t))return t;const i=fm(t,n);return am(i).reduce((r,s)=>r.then(l=>um(l,s,e,n)),Promise.resolve(i))}async function Ln(t,e,n){var i;const o=(i=e.style)===null||i===void 0?void 0:i.getPropertyValue(t);if(o){const r=await ds(o,null,n);return e.style.setProperty(t,r,e.style.getPropertyPriority(t)),!0}return!1}async function cm(t,e){await Ln("background",t,e)||await Ln("background-image",t,e),await Ln("mask",t,e)||await Ln("mask-image",t,e)}async function dm(t,e){const n=$e(t,HTMLImageElement);if(!(n&&!xi(t.src))&&!($e(t,SVGImageElement)&&!xi(t.href.baseVal)))return;const i=n?t.src:t.href.baseVal,o=await wo(i,bo(i),e);await new Promise((r,s)=>{t.onload=r,t.onerror=s;const l=t;l.decode&&(l.decode=r),l.loading==="lazy"&&(l.loading="eager"),n?(t.srcset="",t.src=o):t.href.baseVal=o})}async function hm(t,e){const i=St(t.childNodes).map(o=>hs(o,e));await Promise.all(i).then(()=>t)}async function hs(t,e){$e(t,Element)&&(await cm(t,e),await dm(t,e),await hm(t,e))}function gm(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const i=e.style;return i!=null&&Object.keys(i).forEach(o=>{n[o]=i[o]}),t}const qr={};async function Zr(t){let e=qr[t];if(e!=null)return e;const i=await(await fetch(t)).text();return e={url:t,cssText:i},qr[t]=e,e}async function Gr(t,e){let n=t.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,r=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let l=s.replace(i,"$1");return l.startsWith("https://")||(l=new URL(l,t.url).href),us(l,e.fetchRequestInit,({result:a})=>(n=n.replace(s,`url(${a})`),[s,a]))});return Promise.all(r).then(()=>n)}function Jr(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=t.replace(n,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const a=o.exec(i);if(a===null)break;e.push(a[0])}i=i.replace(o,"");const r=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(s,"gi");for(;;){let a=r.exec(i);if(a===null){if(a=l.exec(i),a===null)break;r.lastIndex=l.lastIndex}else l.lastIndex=r.lastIndex;e.push(a[0])}return e}async function mm(t,e){const n=[],i=[];return t.forEach(o=>{if("cssRules"in o)try{St(o.cssRules||[]).forEach((r,s)=>{if(r.type===CSSRule.IMPORT_RULE){let l=s+1;const a=r.href,u=Zr(a).then(f=>Gr(f,e)).then(f=>Jr(f).forEach(d=>{try{o.insertRule(d,d.startsWith("@import")?l+=1:o.cssRules.length)}catch(c){console.error("Error inserting rule from remote css",{rule:d,error:c})}})).catch(f=>{console.error("Error loading remote css",f.toString())});i.push(u)}})}catch(r){const s=t.find(l=>l.href==null)||document.styleSheets[0];o.href!=null&&i.push(Zr(o.href).then(l=>Gr(l,e)).then(l=>Jr(l).forEach(a=>{s.insertRule(a,o.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",r)}}),Promise.all(i).then(()=>(t.forEach(o=>{if("cssRules"in o)try{St(o.cssRules||[]).forEach(r=>{n.push(r)})}catch(r){console.error(`Error while reading CSS rules from ${o.href}`,r)}}),n))}function ym(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>cs(e.style.getPropertyValue("src")))}async function _m(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=St(t.ownerDocument.styleSheets),i=await mm(n,e);return ym(i)}async function bm(t,e){const n=await _m(t,e);return(await Promise.all(n.map(o=>{const r=o.parentStyleSheet?o.parentStyleSheet.href:null;return ds(o.cssText,r,e)}))).join(`
`)}async function wm(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await bm(t,e);if(n){const i=document.createElement("style"),o=document.createTextNode(n);i.appendChild(o),t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)}}async function km(t,e={}){const{width:n,height:i}=as(t,e),o=await pi(t,e,!0);return await wm(o,e),await hs(o,e),gm(o,e),await V0(o,n,i)}async function vm(t,e={}){const{width:n,height:i}=as(t,e),o=await km(t,e),r=await li(o),s=document.createElement("canvas"),l=s.getContext("2d"),a=e.pixelRatio||H0(),u=e.canvasWidth||n,f=e.canvasHeight||i;return s.width=u*a,s.height=f*a,e.skipAutoScale||L0(s),s.style.width=`${u}`,s.style.height=`${f}`,e.backgroundColor&&(l.fillStyle=e.backgroundColor,l.fillRect(0,0,s.width,s.height)),l.drawImage(r,0,0,s.width,s.height),s}async function Em(t,e={}){return(await vm(t,e)).toDataURL()}function pm(t){let e,n,i,o,r=[t[1],{alt:"save as image"},{placeholder:"save chart as image"}],s={};for(let l=0;l<r.length;l+=1)s=pe(s,r[l]);return{c(){e=Me("button"),n=Pt(""),this.h()},l(l){e=ze(l,"BUTTON",{alt:!0,placeholder:!0});var a=q(e);n=Mt(a,""),a.forEach(P),this.h()},h(){ht(e,s)},m(l,a){G(l,e,a),x(e,n),e.autofocus&&e.focus(),i||(o=Oe(e,"click",t[0]),i=!0)},p(l,[a]){ht(e,s=at(r,[a&2&&l[1],{alt:"save as image"},{placeholder:"save chart as image"}]))},i:Pe,o:Pe,d(l){l&&P(e),i=!1,o()}}}const Vi=1024,Wi=768;function Sm(t,e,n){const i=["nodes","fileName"];let o=Ie(e,i),{nodes:r=[]}=e,{fileName:s=""}=e;function l(){if(!Array.isArray(r)||r.length===0){console.error("No nodes available to generate image.");return}const a=Hc(r),u=co(a,Vi,Wi,.5,2,.2),f=document.querySelector(".svelte-flow__viewport");u&&Em(f,{width:Vi,height:Wi,style:{width:`${Vi}px`,height:`${Wi}px`,transform:`translate(${u.x}px, ${u.y}px) scale(${u.zoom})`}}).then(d=>{const c=document.createElement("a");c.download=`${s||""}_solothought-flowchart.png`,c.href=d,c.click()})}return t.$$set=a=>{e=pe(pe({},e),nt(a)),n(1,o=Ie(e,i)),"nodes"in a&&n(2,r=a.nodes),"fileName"in a&&n(3,s=a.fileName)},[l,o,r,s]}class Cm extends ye{constructor(e){super(),_e(this,e,Sm,pm,we,{nodes:2,fileName:3})}}function Pm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const Mm=["IF","ELSE_IF","ELSE","LOOP"],zm=["GOTO","SKIP","STOP","END"];function Om(t){return Mm.includes(t.type)}function Tm(t){return zm.includes(t.type)}function Si(t,e,n,i){let o=-2;if(n!==void 0){const r=t[n],s=t[e].indent;for(let l=e+1;l<t.length;l++){const a=t[l].indent;if(a===s){o=l;break}else if(a<s){a>r.indent?o=l:o=n;break}}o===-2&&(o=n)}else{for(let r=e+1;r<t.length;r++)if(t[r].indent<=t[e].indent){o=r;break}o===-2&&(o=-1)}return o>-1&&t[o].type.startsWith("ELSE")&&(!i&&t[e].indent===t[o].indent&&(t[e].type==="IF"||t[e].type==="ELSE_IF")||(o=Si(t,o,n,!0))),o}function Dm(t,e,n,i){const o=Si(t,e,ko(i));n[e].push(o)}function Nm(t,e){const n=t[e].indent;for(let i=e-1;i>-1;i--)if(n===t[i].indent)return i;throw new Error("Unable to find last step of same indent level")}function Im(t,e,n,i,o){if(t.type==="ELSE"){delete n[i];return}const r=t.indent;e[i+1]&&e[i+1].indent>r?n[i].push(i+1):n[i].push(void 0);let s=Si(e,i,ko(o));s!==-1&&e[s].type==="ELSE"&&s++,n[i].push(s),t.type==="LOOP"&&o.push(i)}function gs(t,e){if(e===0)throw new Error(`${t[e].type} can't be first step of the flow`)}function Am(t,e,n,i,o){if(gs(t,o),n[e.msg]===void 0)throw new Error(`GOTO is pointing to ${e.msg} that doesn't specified with any step`);Xn(t,i,o,n[e.msg])}function Hm(t,e,n,i){gs(t,e);const o=t[e];if(o.type==="SKIP"){if(i.length<1)throw new Error("SKIP must be inside LOOP");const r=i[i.length-1];Xn(t,n,e,r)}else if(o.type==="STOP"){if(i.length<1)throw new Error("STOP must be inside LOOP");const r=Si(t,ko(i));Xn(t,n,e,r)}else o.type==="END"&&Xn(t,n,e,-1)}function Xn(t,e,n,i){for(let o=0;o<n;o++){let r=e[o];if(r!==void 0){const s=r.indexOf(n);s!==-1&&(t[o].type==="ELSE"&&(r=Nm(t,r)),r[s]=i)}}delete e[n]}function Lm(t,e,n){const i=[];for(let o=0;o<t.length;o++){const r=t[o],s=r.indent;if(i.length>0)for(let l=i.length-1;l>-1;l--){const a=i[l];s<=t[a].indent&&i.pop()}r.type==="GOTO"?Am(t,r,e,n,o):Om(r)?Im(r,t,n,o,i):Tm(r)?Hm(t,o,n,i):Dm(t,o,n,i)}}function ko(t){return t[t.length-1]}var Rm=Lm;const Qr=Rm,Vm=["IF","ELSE_IF","LOOP","ELSE"],Wm=["GOTO","SKIP","STOP","END"],Bm=["AND","THEN","BUT","FOLLOW","ERR"];class Xm{constructor(e){this.name=e,this.headers={},this.steps=[],this.links={},this.leveledSteps=[[]]}}function Ym(t){const e=t.split(`
`),n=[];let i={},o=[],r=0,s=-1,l=null,a=!1;return e.forEach((u,f)=>{const d=u.trim();if(!d||d[0]==="#")return;if(d.startsWith("FLOW:")){l&&Qr(l.steps,i,l.links),i={},o=[],r=0,s=-1,l=new Xm(d.substring(6)),n.push(l),a=!0;return}else if(a&&d.match(/^[a-z]{1,70}:/)){const[m,b]=u.split(":");l.headers[m.trim()]=b.trim();return}else a=!1;s++;const c=u.search(/\S/);let h;if(o[r]!==void 0?h=o[r]:(h=c,o[r]=c),h===c)l.leveledSteps[r].push(s);else if(h<c)o[++r]=c,l.leveledSteps[r]?l.leveledSteps[r].push(s):l.leveledSteps.push([s]);else{for(;r>-1&&o[r]!==c;r--);if(r===-1)throw new Error(`Indentation issue with line |${u}|`);l.leveledSteps[r].push(s)}let y=Fm(u.trim());y.indent=r,y.index&&(i[y.index]=s),l.steps.push(y),l.links[s]=[]}),Qr(l.steps,i,l.links),n}function Fm(t){const e={msg:"",rawMsg:"",type:""};if(t[0]==="["){const i=t.indexOf("]");e.index=t.substring(1,i).trim(),t=t.substring(i+1).trimStart()}const n=t.indexOf(" ");if(n<1)jr(t)?e.type=t:e.msg=e.rawMsg=t;else{const i=t.substring(0,n),o=t.substring(n+1);jr(i)&&(e.type=i,t=o),e.rawMsg=t.replace(/\s+/g," "),e.msg=Km(t).replace(/\s+/g," ")}return e}function Km(t){let e=0,n="";for(let i=0;i<t.length;i++){const o=t[i];if(o==="(")e++;else if(o===")")e--;else{if(e>0)continue;n+=o}}return n.trim()}function jr(t){return Wm.indexOf(t)!==-1||Vm.indexOf(t)!==-1||Bm.indexOf(t)!==-1}var Um=Ym;const qm=Pm(Um),Zm=un.width,Gm=un.height,Jm=un.height*1.5,Qm=un.width*1.1,xr=Zm+Qm,$r=Gm+Jm;function jm(t,e,n){return{id:t+"",type:"step",data:e,position:n}}function xm(t,e,n,i="",o){let r=!1,s="",l="",a="";return ms(i)&&n==0&&(s="r",l="lt"),t>e&&(s="l",r=!0),i==="IF"||i==="ELSE_IF"?n===0?a="True":n===1&&(a="False"):i==="LOOP"&&n===1&&(a="Exit"),{id:`${t}-${e}`,source:t+"",target:e+"",label:"",data:{},sourceHandle:s,targetHandle:l,animated:r,label:a}}function $m(t){const e=[];try{const n=qm(t);for(let i=0;i<n.length;i++){const o=n[i];if(o.steps.length>0){const r=e1(o);e.push(r)}}}catch(n){console.error(n)}return e}function e1(t){const e=[],n=[],i={};let o;const r=[];let s=0,l=-1;for(;s<t.steps.length;s++){const a=t.steps[s];if(t.links[s]){l++;let u;if(i[s]?i[s].target=[...t.links[s].map(String)]:i[s]={target:[...t.links[s].map(String)],parent:[]},!o)u={x:0,y:0};else{const d=t.steps[o.id];if(d.indent===a.indent)u={x:o.position.x,y:o.position.y+$r};else if(d.indent<a.indent)l--,u={x:o.position.x+xr,y:o.position.y};else{let c=d.indent-a.indent,h;for(;c-- >0;)h=r.pop();u={x:h.position.x,y:l*$r}}t.steps[s-1].type==="ELSE"&&(u={x:u.x-xr,y:u.y})}const f=jm(s,{msg:a.msg,rawMsg:a.rawMsg,type:a.type},u);e.push(f),o=f,ms(a.type)&&r.push(f);for(let d=0;d<t.links[s].length;d++){const c=t.links[s][d];if(i[c]||(i[c]={target:[],parent:[]}),c>s&&i[c].parent.push(String(s)),c===-1)f.data.isEnd=!0;else{if(!t.links[c])throw new Error(`Link for Step ${c} is not present`);const h=xm(s,c,d,a.type,t.steps[c].type);n.push(h)}}}}return e[0].data.isStart=!0,{flowName:t.name,nodes:e,edges:n,connections:i}}const t1=["IF","ELSE_IF","LOOP"];function ms(t){return t1.indexOf(t)!==-1}function $i(t,e,n={},i=null){return t.forEach(o=>{(!i||i.has(o.id))&&(o.data={...o.data,...e,...n})}),t}const ys="stroke-width: 2px; stroke: #cac2c2;",n1="stroke-width: 2px; stroke: #FF4000",i1="font-size: 10px; font-weight: inherit; color: inherit;",o1="font-size: 16px; font-weight: bold; color: #ff6347;",_s={type:ln.ArrowClosed,width:20,height:20,color:"#cac2c2"},r1={type:ln.ArrowClosed,width:20,height:20,color:"#FF4000"};function l1(t,e,n){const i=new Set,o=new Set,r=new Set,s=new Set;return(n===0||n===2)&&bs(t,e,i,o),(n===1||n===2)&&ws(t,e,r,s),{seletedNodes:new Set([...i,...r]),seletedEdges:new Set([...o,...s])}}function bs(t,e,n,i){n.has(t)||(n.add(t),e[t].parent.forEach(o=>{i.add(`${o}-${t}`),bs(o,e,n,i)}))}function ws(t,e,n,i){n.has(t)||(n.add(t),e[t].target.forEach(o=>{i.add(`${t}-${o}`),ws(o,e,n,i)}))}function el(t,e,n,i,o){ks(t,e,n,{highlight:!0}),o&&si(i,o,Es)}function tl(t,e,n,i,o){ks(t,e,n,{highlight:!1}),o&&si(i,o,vs)}function ks(t,e,n,i){$i(t,n,i,e)}function si(t,e,n){t.forEach(i=>{e.has(i.id)&&n(i)})}function vs(t){t.style=ys,t.markerEnd=_s,t.labelStyle=i1}function Es(t){t.style=n1,t.markerEnd=r1,t.labelStyle=o1}function nl(t,e,n){const i=t.slice();return i[31]=e[n],i[33]=n,i}function il(t){let e,n=t[31].flowName+"",i;return{c(){e=Me("option"),i=Pt(n),this.h()},l(o){e=ze(o,"OPTION",{});var r=q(e);i=Mt(r,n),r.forEach(P),this.h()},h(){e.__value=t[33],$s(e,e.__value)},m(o,r){G(o,e,r),x(e,i)},p(o,r){r[0]&64&&n!==(n=o[31].flowName+"")&&Kt(i,n)},d(o){o&&P(e)}}}function s1(t){let e,n,i,o,r,s;return e=new o0({}),i=new y0({}),r=new P0({}),{c(){oe(e.$$.fragment),n=ve(),oe(i.$$.fragment),o=ve(),oe(r.$$.fragment)},l(l){ae(e.$$.fragment,l),n=Ee(l),ae(i.$$.fragment,l),o=Ee(l),ae(r.$$.fragment,l)},m(l,a){re(e,l,a),G(l,n,a),re(i,l,a),G(l,o,a),re(r,l,a),s=!0},i(l){s||(R(e.$$.fragment,l),R(i.$$.fragment,l),R(r.$$.fragment,l),s=!0)},o(l){Y(e.$$.fragment,l),Y(i.$$.fragment,l),Y(r.$$.fragment,l),s=!1},d(l){l&&(P(n),P(o)),le(e,l),le(i,l),le(r,l)}}}function a1(t){let e,n,i,o,r,s,l,a,u,f,d,c,h,y,m,b=gt(t[6]),g=[];for(let z=0;z<b.length;z+=1)g[z]=il(nl(t,b,z));a=new Cm({props:{nodes:t[0],fileName:t[1]}});function E(z){t[20](z)}function k(z){t[21](z)}let p={nodeTypes:t[7],fitView:!0,defaultEdgeOptions:{type:"smoothstep",markerEnd:_s,style:ys},$$slots:{default:[s1]},$$scope:{ctx:t}};return t[2]!==void 0&&(p.nodes=t[2]),t[5]!==void 0&&(p.edges=t[5]),f=new Tg({props:p}),Bt.push(()=>zo(f,"nodes",E)),Bt.push(()=>zo(f,"edges",k)),f.$on("nodemouseenter",t[8]),f.$on("nodemouseleave",t[9]),f.$on("nodeclick",t[12]),f.$on("edgeclick",t[10]),{c(){e=Me("div"),n=Me("select");for(let z=0;z<g.length;z+=1)g[z].c();i=ve(),o=Me("button"),r=Pt(""),l=ve(),oe(a.$$.fragment),u=ve(),oe(f.$$.fragment),this.h()},l(z){e=ze(z,"DIV",{class:!0});var L=q(e);n=ze(L,"SELECT",{class:!0});var D=q(n);for(let O=0;O<g.length;O+=1)g[O].l(D);D.forEach(P),i=Ee(L),o=ze(L,"BUTTON",{class:!0});var I=q(o);r=Mt(I,""),I.forEach(P),l=Ee(L),ae(a.$$.fragment,L),L.forEach(P),u=Ee(z),ae(f.$$.fragment,z),this.h()},h(){_(n,"class","st-flow-chart-tool"),t[3]===void 0&&rl(()=>t[19].call(n)),_(o,"class",s=Un(t[4].hideMsgDetail?"passive":"")+" svelte-10alnpo"),_(e,"class","st-toolbox")},m(z,L){G(z,e,L),x(e,n);for(let D=0;D<g.length;D+=1)g[D]&&g[D].m(n,null);Po(n,t[3],!0),x(e,i),x(e,o),x(o,r),x(e,l),re(a,e,null),G(z,u,L),re(f,z,L),h=!0,y||(m=[Oe(n,"change",t[13]),Oe(n,"change",t[19]),Oe(o,"click",t[11])],y=!0)},p(z,L){if(L[0]&64){b=gt(z[6]);let O;for(O=0;O<b.length;O+=1){const V=nl(z,b,O);g[O]?g[O].p(V,L):(g[O]=il(V),g[O].c(),g[O].m(n,null))}for(;O<g.length;O+=1)g[O].d(1);g.length=b.length}L[0]&8&&Po(n,z[3]),(!h||L[0]&16&&s!==(s=Un(z[4].hideMsgDetail?"passive":"")+" svelte-10alnpo"))&&_(o,"class",s);const D={};L[0]&1&&(D.nodes=z[0]),L[0]&2&&(D.fileName=z[1]),a.$set(D);const I={};L[1]&8&&(I.$$scope={dirty:L,ctx:z}),!d&&L[0]&4&&(d=!0,I.nodes=z[2],Mo(()=>d=!1)),!c&&L[0]&32&&(c=!0,I.edges=z[5],Mo(()=>c=!1)),f.$set(I)},i(z){h||(R(a.$$.fragment,z),R(f.$$.fragment,z),h=!0)},o(z){Y(a.$$.fragment,z),Y(f.$$.fragment,z),h=!1},d(z){z&&(P(e),P(u)),js(g,z),le(a),le(f,z),y=!1,mt(m)}}}function u1(t){let e,n,i;n=new Ig({props:{$$slots:{default:[a1]},$$scope:{ctx:t}}});let o=[t[14],{id:"solothought-flow"}],r={};for(let s=0;s<o.length;s+=1)r=pe(r,o[s]);return{c(){e=Me("div"),oe(n.$$.fragment),this.h()},l(s){e=ze(s,"DIV",{id:!0});var l=q(e);ae(n.$$.fragment,l),l.forEach(P),this.h()},h(){ht(e,r),he(e,"svelte-10alnpo",!0)},m(s,l){G(s,e,l),re(n,e,null),i=!0},p(s,l){const a={};l[0]&127|l[1]&8&&(a.$$scope={dirty:l,ctx:s}),n.$set(a),ht(e,r=at(o,[l[0]&16384&&s[14],{id:"solothought-flow"}])),he(e,"svelte-10alnpo",!0)},i(s){i||(R(n.$$.fragment,s),i=!0)},o(s){Y(n.$$.fragment,s),i=!1},d(s){s&&P(e),le(n)}}}function f1(t,e,n){const i=["nodes","edges","text","flowName","selection"];let o=Ie(e,i);const r={step:T0};let{nodes:s=[]}=e,{edges:l=[]}=e,{text:a=""}=e,{flowName:u=""}=e,{selection:f=[]}=e,d=ue(s),c=ue(l),h="",y={},m=new Set,b=new Set,g=[],E=0,k={hideMsgDetail:!1,standardShape:!1};function p(M){const T=M.detail.node.id;let W=2;h==="Shift"?W=0:h==="Control"&&(W=1);const K=l1(T,y,W);m=K.seletedNodes,b=K.seletedEdges,el(s,m,k,l,b),d.set(s),c.set(l)}function z(){tl(s,m,k,l,b),m.clear(),b.clear(),d.set(s),c.set(l)}const L=new Set;function D(M){const T=M.detail.edge.id;L.has(T)?(L.delete(T),si(l,new Set([M.detail.edge.id]),vs)):(L.add(T),si(l,new Set([M.detail.edge.id]),Es)),c.set(l)}function I(M){h=M.key}function O(M){h=""}function V(){n(4,k.hideMsgDetail=!k.hideMsgDetail,k),$i(s,k),d.set(s)}function Z(M){const T=M.detail.node.data;T.type==="FOLLOW"&&g.forEach((W,K)=>{W.flowName===T.msg&&n(3,E=K)})}function B(M){X(parseInt(M.target.value))}fn(()=>{window.addEventListener("keydown",I),window.addEventListener("keyup",O)});function X(M){if(n(3,E=M),g[E]){const T=g[E];n(0,s=T.nodes),n(15,l=T.edges),y=T.connections,n(1,u=T.flowName),$i(s,k),d.set(s),c.set(l)}}let v={};function N(){E=xs(this),n(3,E)}function w(M){d=M,n(2,d)}function S(M){c=M,n(5,c)}return t.$$set=M=>{e=pe(pe({},e),nt(M)),n(14,o=Ie(e,i)),"nodes"in M&&n(0,s=M.nodes),"edges"in M&&n(15,l=M.edges),"text"in M&&n(16,a=M.text),"flowName"in M&&n(1,u=M.flowName),"selection"in M&&n(17,f=M.selection)},t.$$.update=()=>{t.$$.dirty[0]&65544&&a.length>0&&(n(6,g=$m(a)),X(E)),t.$$.dirty[0]&393245&&f&&f.nodeIds&&f.nodeIds.length&&(tl(s,new Set(v.nodeIds),k),f.flowIndex===E&&(d.set(s),n(18,v=f),el(s,new Set(f.nodeIds),k),d.set(s)))},[s,u,d,E,k,c,g,r,p,z,D,V,Z,B,o,l,a,f,v,N,w,S]}class g1 extends ye{constructor(e){super(),_e(this,e,f1,u1,we,{nodes:0,edges:15,text:16,flowName:1,selection:17},null,[-1,-1])}}export{g1 as F,gt as e};
